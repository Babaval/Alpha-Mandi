(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function oT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Bh={exports:{}},Sl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv;function Ux(){if(nv)return Sl;nv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var h in o)h!=="key"&&(l[h]=o[h])}else l=o;return o=l.ref,{$$typeof:t,type:s,key:c,ref:o!==void 0?o:null,props:l}}return Sl.Fragment=e,Sl.jsx=n,Sl.jsxs=n,Sl}var iv;function Vx(){return iv||(iv=1,Bh.exports=Ux()),Bh.exports}var E=Vx(),Gh={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function Lx(){if(sv)return Ce;sv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),C=Symbol.iterator;function I(O){return O===null||typeof O!="object"?null:(O=C&&O[C]||O["@@iterator"],typeof O=="function"?O:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,G={};function W(O,te,ue){this.props=O,this.context=te,this.refs=G,this.updater=ue||F}W.prototype.isReactComponent={},W.prototype.setState=function(O,te){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,te,"setState")},W.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ne(){}ne.prototype=W.prototype;function j(O,te,ue){this.props=O,this.context=te,this.refs=G,this.updater=ue||F}var re=j.prototype=new ne;re.constructor=j,J(re,W.prototype),re.isPureReactComponent=!0;var de=Array.isArray;function le(){}var M={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function R(O,te,ue){var fe=ue.ref;return{$$typeof:t,type:O,key:te,ref:fe!==void 0?fe:null,props:ue}}function U(O,te){return R(O.type,te,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===t}function V(O){var te={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ue){return te[ue]})}var P=/\/+/g;function be(O,te){return typeof O=="object"&&O!==null&&O.key!=null?V(""+O.key):te.toString(36)}function ft(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(le,le):(O.status="pending",O.then(function(te){O.status==="pending"&&(O.status="fulfilled",O.value=te)},function(te){O.status==="pending"&&(O.status="rejected",O.reason=te)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Q(O,te,ue,fe,Se){var Ie=typeof O;(Ie==="undefined"||Ie==="boolean")&&(O=null);var Oe=!1;if(O===null)Oe=!0;else switch(Ie){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(O.$$typeof){case t:case e:Oe=!0;break;case v:return Oe=O._init,Q(Oe(O._payload),te,ue,fe,Se)}}if(Oe)return Se=Se(O),Oe=fe===""?"."+be(O,0):fe,de(Se)?(ue="",Oe!=null&&(ue=Oe.replace(P,"$&/")+"/"),Q(Se,te,ue,"",function(ar){return ar})):Se!=null&&(D(Se)&&(Se=U(Se,ue+(Se.key==null||O&&O.key===Se.key?"":(""+Se.key).replace(P,"$&/")+"/")+Oe)),te.push(Se)),1;Oe=0;var Dt=fe===""?".":fe+":";if(de(O))for(var ot=0;ot<O.length;ot++)fe=O[ot],Ie=Dt+be(fe,ot),Oe+=Q(fe,te,ue,Ie,Se);else if(ot=I(O),typeof ot=="function")for(O=ot.call(O),ot=0;!(fe=O.next()).done;)fe=fe.value,Ie=Dt+be(fe,ot++),Oe+=Q(fe,te,ue,Ie,Se);else if(Ie==="object"){if(typeof O.then=="function")return Q(ft(O),te,ue,fe,Se);throw te=String(O),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function ae(O,te,ue){if(O==null)return O;var fe=[],Se=0;return Q(O,fe,"","",function(Ie){return te.call(ue,Ie,Se++)}),fe}function _e(O){if(O._status===-1){var te=O._result;te=te(),te.then(function(ue){(O._status===0||O._status===-1)&&(O._status=1,O._result=ue)},function(ue){(O._status===0||O._status===-1)&&(O._status=2,O._result=ue)}),O._status===-1&&(O._status=0,O._result=te)}if(O._status===1)return O._result.default;throw O._result}var Fe=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ke={map:ae,forEach:function(O,te,ue){ae(O,function(){te.apply(this,arguments)},ue)},count:function(O){var te=0;return ae(O,function(){te++}),te},toArray:function(O){return ae(O,function(te){return te})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Ce.Activity=S,Ce.Children=Ke,Ce.Component=W,Ce.Fragment=n,Ce.Profiler=o,Ce.PureComponent=j,Ce.StrictMode=s,Ce.Suspense=y,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(O){return M.H.useMemoCache(O)}},Ce.cache=function(O){return function(){return O.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(O,te,ue){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var fe=J({},O.props),Se=O.key;if(te!=null)for(Ie in te.key!==void 0&&(Se=""+te.key),te)!N.call(te,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&te.ref===void 0||(fe[Ie]=te[Ie]);var Ie=arguments.length-2;if(Ie===1)fe.children=ue;else if(1<Ie){for(var Oe=Array(Ie),Dt=0;Dt<Ie;Dt++)Oe[Dt]=arguments[Dt+2];fe.children=Oe}return R(O.type,Se,fe)},Ce.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:l,_context:O},O},Ce.createElement=function(O,te,ue){var fe,Se={},Ie=null;if(te!=null)for(fe in te.key!==void 0&&(Ie=""+te.key),te)N.call(te,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Se[fe]=te[fe]);var Oe=arguments.length-2;if(Oe===1)Se.children=ue;else if(1<Oe){for(var Dt=Array(Oe),ot=0;ot<Oe;ot++)Dt[ot]=arguments[ot+2];Se.children=Dt}if(O&&O.defaultProps)for(fe in Oe=O.defaultProps,Oe)Se[fe]===void 0&&(Se[fe]=Oe[fe]);return R(O,Ie,Se)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(O){return{$$typeof:h,render:O}},Ce.isValidElement=D,Ce.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:_e}},Ce.memo=function(O,te){return{$$typeof:g,type:O,compare:te===void 0?null:te}},Ce.startTransition=function(O){var te=M.T,ue={};M.T=ue;try{var fe=O(),Se=M.S;Se!==null&&Se(ue,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(le,Fe)}catch(Ie){Fe(Ie)}finally{te!==null&&ue.types!==null&&(te.types=ue.types),M.T=te}},Ce.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Ce.use=function(O){return M.H.use(O)},Ce.useActionState=function(O,te,ue){return M.H.useActionState(O,te,ue)},Ce.useCallback=function(O,te){return M.H.useCallback(O,te)},Ce.useContext=function(O){return M.H.useContext(O)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(O,te){return M.H.useDeferredValue(O,te)},Ce.useEffect=function(O,te){return M.H.useEffect(O,te)},Ce.useEffectEvent=function(O){return M.H.useEffectEvent(O)},Ce.useId=function(){return M.H.useId()},Ce.useImperativeHandle=function(O,te,ue){return M.H.useImperativeHandle(O,te,ue)},Ce.useInsertionEffect=function(O,te){return M.H.useInsertionEffect(O,te)},Ce.useLayoutEffect=function(O,te){return M.H.useLayoutEffect(O,te)},Ce.useMemo=function(O,te){return M.H.useMemo(O,te)},Ce.useOptimistic=function(O,te){return M.H.useOptimistic(O,te)},Ce.useReducer=function(O,te,ue){return M.H.useReducer(O,te,ue)},Ce.useRef=function(O){return M.H.useRef(O)},Ce.useState=function(O){return M.H.useState(O)},Ce.useSyncExternalStore=function(O,te,ue){return M.H.useSyncExternalStore(O,te,ue)},Ce.useTransition=function(){return M.H.useTransition()},Ce.version="19.2.0",Ce}var rv;function Hp(){return rv||(rv=1,Gh.exports=Lx()),Gh.exports}var Ee=Hp();const Ox=oT(Ee);var Yh={exports:{}},Al={},Jh={exports:{}},Kh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function qx(){return ov||(ov=1,(function(t){function e(Q,ae){var _e=Q.length;Q.push(ae);e:for(;0<_e;){var Fe=_e-1>>>1,Ke=Q[Fe];if(0<o(Ke,ae))Q[Fe]=ae,Q[_e]=Ke,_e=Fe;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var ae=Q[0],_e=Q.pop();if(_e!==ae){Q[0]=_e;e:for(var Fe=0,Ke=Q.length,O=Ke>>>1;Fe<O;){var te=2*(Fe+1)-1,ue=Q[te],fe=te+1,Se=Q[fe];if(0>o(ue,_e))fe<Ke&&0>o(Se,ue)?(Q[Fe]=Se,Q[fe]=_e,Fe=fe):(Q[Fe]=ue,Q[te]=_e,Fe=te);else if(fe<Ke&&0>o(Se,_e))Q[Fe]=Se,Q[fe]=_e,Fe=fe;else break e}}return ae}function o(Q,ae){var _e=Q.sortIndex-ae.sortIndex;return _e!==0?_e:Q.id-ae.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var y=[],g=[],v=1,S=null,C=3,I=!1,F=!1,J=!1,G=!1,W=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function re(Q){for(var ae=n(g);ae!==null;){if(ae.callback===null)s(g);else if(ae.startTime<=Q)s(g),ae.sortIndex=ae.expirationTime,e(y,ae);else break;ae=n(g)}}function de(Q){if(J=!1,re(Q),!F)if(n(y)!==null)F=!0,le||(le=!0,V());else{var ae=n(g);ae!==null&&ft(de,ae.startTime-Q)}}var le=!1,M=-1,N=5,R=-1;function U(){return G?!0:!(t.unstable_now()-R<N)}function D(){if(G=!1,le){var Q=t.unstable_now();R=Q;var ae=!0;try{e:{F=!1,J&&(J=!1,ne(M),M=-1),I=!0;var _e=C;try{t:{for(re(Q),S=n(y);S!==null&&!(S.expirationTime>Q&&U());){var Fe=S.callback;if(typeof Fe=="function"){S.callback=null,C=S.priorityLevel;var Ke=Fe(S.expirationTime<=Q);if(Q=t.unstable_now(),typeof Ke=="function"){S.callback=Ke,re(Q),ae=!0;break t}S===n(y)&&s(y),re(Q)}else s(y);S=n(y)}if(S!==null)ae=!0;else{var O=n(g);O!==null&&ft(de,O.startTime-Q),ae=!1}}break e}finally{S=null,C=_e,I=!1}ae=void 0}}finally{ae?V():le=!1}}}var V;if(typeof j=="function")V=function(){j(D)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,be=P.port2;P.port1.onmessage=D,V=function(){be.postMessage(null)}}else V=function(){W(D,0)};function ft(Q,ae){M=W(function(){Q(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_next=function(Q){switch(C){case 1:case 2:case 3:var ae=3;break;default:ae=C}var _e=C;C=ae;try{return Q()}finally{C=_e}},t.unstable_requestPaint=function(){G=!0},t.unstable_runWithPriority=function(Q,ae){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var _e=C;C=Q;try{return ae()}finally{C=_e}},t.unstable_scheduleCallback=function(Q,ae,_e){var Fe=t.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?Fe+_e:Fe):_e=Fe,Q){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=_e+Ke,Q={id:v++,callback:ae,priorityLevel:Q,startTime:_e,expirationTime:Ke,sortIndex:-1},_e>Fe?(Q.sortIndex=_e,e(g,Q),n(y)===null&&Q===n(g)&&(J?(ne(M),M=-1):J=!0,ft(de,_e-Fe))):(Q.sortIndex=Ke,e(y,Q),F||I||(F=!0,le||(le=!0,V()))),Q},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(Q){var ae=C;return function(){var _e=C;C=ae;try{return Q.apply(this,arguments)}finally{C=_e}}}})(Kh)),Kh}var av;function Fx(){return av||(av=1,Jh.exports=qx()),Jh.exports}var $h={exports:{}},Wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function Hx(){if(lv)return Wt;lv=1;var t=Hp();function e(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(y,g,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:y,containerInfo:g,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Wt.createPortal=function(y,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(y,g,null,v)},Wt.flushSync=function(y){var g=c.T,v=s.p;try{if(c.T=null,s.p=2,y)return y()}finally{c.T=g,s.p=v,s.d.f()}},Wt.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(y,g))},Wt.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Wt.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var v=g.as,S=h(v,g.crossOrigin),C=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:C,fetchPriority:I}):v==="script"&&s.d.X(y,{crossOrigin:S,integrity:C,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Wt.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=h(g.as,g.crossOrigin);s.d.M(y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(y)},Wt.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,S=h(v,g.crossOrigin);s.d.L(y,v,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Wt.preloadModule=function(y,g){if(typeof y=="string")if(g){var v=h(g.as,g.crossOrigin);s.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(y)},Wt.requestFormReset=function(y){s.d.r(y)},Wt.unstable_batchedUpdates=function(y,g){return y(g)},Wt.useFormState=function(y,g,v){return c.H.useFormState(y,g,v)},Wt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Wt.version="19.2.0",Wt}var uv;function zx(){if(uv)return $h.exports;uv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),$h.exports=Hx(),$h.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function Bx(){if(cv)return Al;cv=1;var t=Fx(),e=Hp(),n=zx();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,a=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(a=r.return),i=r.return;while(i)}return r.tag===3?a:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function h(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function y(i){if(l(i)!==i)throw Error(s(188))}function g(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var a=i,u=r;;){var m=a.return;if(m===null)break;var _=m.alternate;if(_===null){if(u=m.return,u!==null){a=u;continue}break}if(m.child===_.child){for(_=m.child;_;){if(_===a)return y(m),i;if(_===u)return y(m),r;_=_.sibling}throw Error(s(188))}if(a.return!==u.return)a=m,u=_;else{for(var A=!1,w=m.child;w;){if(w===a){A=!0,a=m,u=_;break}if(w===u){A=!0,u=m,a=_;break}w=w.sibling}if(!A){for(w=_.child;w;){if(w===a){A=!0,a=_,u=m;break}if(w===u){A=!0,u=_,a=m;break}w=w.sibling}if(!A)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?i:r}function v(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=v(i),r!==null)return r;i=i.sibling}return null}var S=Object.assign,C=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),j=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function V(i){return i===null||typeof i!="object"?null:(i=D&&i[D]||i["@@iterator"],typeof i=="function"?i:null)}var P=Symbol.for("react.client.reference");function be(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===P?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case J:return"Fragment";case W:return"Profiler";case G:return"StrictMode";case de:return"Suspense";case le:return"SuspenseList";case R:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case F:return"Portal";case j:return i.displayName||"Context";case ne:return(i._context.displayName||"Context")+".Consumer";case re:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case M:return r=i.displayName||null,r!==null?r:be(i.type)||"Memo";case N:r=i._payload,i=i._init;try{return be(i(r))}catch{}}return null}var ft=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},Fe=[],Ke=-1;function O(i){return{current:i}}function te(i){0>Ke||(i.current=Fe[Ke],Fe[Ke]=null,Ke--)}function ue(i,r){Ke++,Fe[Ke]=i.current,i.current=r}var fe=O(null),Se=O(null),Ie=O(null),Oe=O(null);function Dt(i,r){switch(ue(Ie,r),ue(Se,i),ue(fe,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?x_(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=x_(r),i=w_(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}te(fe),ue(fe,i)}function ot(){te(fe),te(Se),te(Ie)}function ar(i){i.memoizedState!==null&&ue(Oe,i);var r=fe.current,a=w_(r,i.type);r!==a&&(ue(Se,i),ue(fe,a))}function eo(i){Se.current===i&&(te(fe),te(Se)),Oe.current===i&&(te(Oe),_l._currentValue=_e)}var to,no;function ai(i){if(to===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);to=r&&r[1]||"",no=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+to+i+no}var _a=!1;function lr(i,r){if(!i||_a)return"";_a=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch($){var Y=$}Reflect.construct(i,[],ee)}else{try{ee.call()}catch($){Y=$}i.call(ee.prototype)}}else{try{throw Error()}catch($){Y=$}(ee=i())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch($){if($&&Y&&typeof $.stack=="string")return[$.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=u.DetermineComponentFrameRoot(),A=_[0],w=_[1];if(A&&w){var k=A.split(`
`),B=w.split(`
`);for(m=u=0;u<k.length&&!k[u].includes("DetermineComponentFrameRoot");)u++;for(;m<B.length&&!B[m].includes("DetermineComponentFrameRoot");)m++;if(u===k.length||m===B.length)for(u=k.length-1,m=B.length-1;1<=u&&0<=m&&k[u]!==B[m];)m--;for(;1<=u&&0<=m;u--,m--)if(k[u]!==B[m]){if(u!==1||m!==1)do if(u--,m--,0>m||k[u]!==B[m]){var X=`
`+k[u].replace(" at new "," at ");return i.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",i.displayName)),X}while(1<=u&&0<=m);break}}}finally{_a=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?ai(a):""}function va(i,r){switch(i.tag){case 26:case 27:case 5:return ai(i.type);case 16:return ai("Lazy");case 13:return i.child!==r&&r!==null?ai("Suspense Fallback"):ai("Suspense");case 19:return ai("SuspenseList");case 0:case 15:return lr(i.type,!1);case 11:return lr(i.type.render,!1);case 1:return lr(i.type,!0);case 31:return ai("Activity");default:return""}}function Ea(i){try{var r="",a=null;do r+=va(i,a),a=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Tt=Object.prototype.hasOwnProperty,Pt=t.unstable_scheduleCallback,hs=t.unstable_cancelCallback,Gd=t.unstable_shouldYield,ou=t.unstable_requestPaint,rn=t.unstable_now,ur=t.unstable_getCurrentPriorityLevel,Ta=t.unstable_ImmediatePriority,Sa=t.unstable_UserBlockingPriority,ps=t.unstable_NormalPriority,Yd=t.unstable_LowPriority,au=t.unstable_IdlePriority,lu=t.log,uu=t.unstable_setDisableYieldValue,zn=null,Ft=null;function bn(i){if(typeof lu=="function"&&uu(i),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(zn,i)}catch{}}var gt=Math.clz32?Math.clz32:du,cu=Math.log,io=Math.LN2;function du(i){return i>>>=0,i===0?32:31-(cu(i)/io|0)|0}var li=256,cr=262144,St=4194304;function ui(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ci(i,r,a){var u=i.pendingLanes;if(u===0)return 0;var m=0,_=i.suspendedLanes,A=i.pingedLanes;i=i.warmLanes;var w=u&134217727;return w!==0?(u=w&~_,u!==0?m=ui(u):(A&=w,A!==0?m=ui(A):a||(a=w&~i,a!==0&&(m=ui(a))))):(w=u&~_,w!==0?m=ui(w):A!==0?m=ui(A):a||(a=u&~i,a!==0&&(m=ui(a)))),m===0?0:r!==0&&r!==m&&(r&_)===0&&(_=m&-m,a=r&-r,_>=a||_===32&&(a&4194048)!==0)?r:m}function Bn(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Jd(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fu(){var i=St;return St<<=1,(St&62914560)===0&&(St=4194304),i}function di(i){for(var r=[],a=0;31>a;a++)r.push(i);return r}function dr(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Kd(i,r,a,u,m,_){var A=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var w=i.entanglements,k=i.expirationTimes,B=i.hiddenUpdates;for(a=A&~a;0<a;){var X=31-gt(a),ee=1<<X;w[X]=0,k[X]=-1;var Y=B[X];if(Y!==null)for(B[X]=null,X=0;X<Y.length;X++){var $=Y[X];$!==null&&($.lane&=-536870913)}a&=~ee}u!==0&&fr(i,u,0),_!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=_&~(A&~r))}function fr(i,r,a){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-gt(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|a&261930}function Aa(i,r){var a=i.entangledLanes|=r;for(i=i.entanglements;a;){var u=31-gt(a),m=1<<u;m&r|i[u]&r&&(i[u]|=r),a&=~m}}function Ca(i,r){var a=r&-r;return a=(a&42)!==0?1:hr(a),(a&(i.suspendedLanes|r))!==0?0:a}function hr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Vi(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function hu(){var i=ae.p;return i!==0?i:(i=window.event,i===void 0?32:j_(i.type))}function Gn(i,r){var a=ae.p;try{return ae.p=i,r()}finally{ae.p=a}}var Yn=Math.random().toString(36).slice(2),At="__reactFiber$"+Yn,Ut="__reactProps$"+Yn,fi="__reactContainer$"+Yn,so="__reactEvents$"+Yn,$d="__reactListeners$"+Yn,pu="__reactHandles$"+Yn,mu="__reactResources$"+Yn,hi="__reactMarker$"+Yn;function ro(i){delete i[At],delete i[Ut],delete i[so],delete i[$d],delete i[pu]}function pi(i){var r=i[At];if(r)return r;for(var a=i.parentNode;a;){if(r=a[fi]||a[At]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(i=P_(i);i!==null;){if(a=i[At])return a;i=P_(i)}return r}i=a,a=i.parentNode}return null}function In(i){if(i=i[At]||i[fi]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function _n(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function mi(i){var r=i[mu];return r||(r=i[mu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ct(i){i[hi]=!0}var xa=new Set,wa={};function gi(i,r){yi(i,r),yi(i+"Capture",r)}function yi(i,r){for(wa[i]=r,i=0;i<r.length;i++)xa.add(r[i])}var ba=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ia={},Ra={};function gu(i){return Tt.call(Ra,i)?!0:Tt.call(Ia,i)?!1:ba.test(i)?Ra[i]=!0:(Ia[i]=!0,!1)}function oo(i,r,a){if(gu(r))if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+a)}}function vn(i,r,a){if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+a)}}function xt(i,r,a,u){if(u===null)i.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(r,a,""+u)}}function Vt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ms(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Na(i,r,a){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,_=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return m.call(this)},set:function(A){a=""+A,_.call(this,A)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return a},setValue:function(A){a=""+A},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function $e(i){if(!i._valueTracker){var r=ms(i)?"checked":"value";i._valueTracker=Na(i,r,""+i[r])}}function pr(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var a=r.getValue(),u="";return i&&(u=ms(i)?i.checked?"true":"false":i.value),i=u,i!==a?(r.setValue(i),!0):!1}function _i(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var mr=/[\n"\\]/g;function ln(i){return i.replace(mr,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function ao(i,r,a,u,m,_,A,w){i.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.type=A:i.removeAttribute("type"),r!=null?A==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Vt(r)):i.value!==""+Vt(r)&&(i.value=""+Vt(r)):A!=="submit"&&A!=="reset"||i.removeAttribute("value"),r!=null?Ma(i,A,Vt(r)):a!=null?Ma(i,A,Vt(a)):u!=null&&i.removeAttribute("value"),m==null&&_!=null&&(i.defaultChecked=!!_),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+Vt(w):i.removeAttribute("name")}function yu(i,r,a,u,m,_,A,w){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.type=_),r!=null||a!=null){if(!(_!=="submit"&&_!=="reset"||r!=null)){$e(i);return}a=a!=null?""+Vt(a):"",r=r!=null?""+Vt(r):a,w||r===i.value||(i.value=r),i.defaultValue=r}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=w?i.checked:!!u,i.defaultChecked=!!u,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(i.name=A),$e(i)}function Ma(i,r,a){r==="number"&&_i(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function gs(i,r,a,u){if(i=i.options,r){r={};for(var m=0;m<a.length;m++)r["$"+a[m]]=!0;for(a=0;a<i.length;a++)m=r.hasOwnProperty("$"+i[a].value),i[a].selected!==m&&(i[a].selected=m),m&&u&&(i[a].defaultSelected=!0)}else{for(a=""+Vt(a),r=null,m=0;m<i.length;m++){if(i[m].value===a){i[m].selected=!0,u&&(i[m].defaultSelected=!0);return}r!==null||i[m].disabled||(r=i[m])}r!==null&&(r.selected=!0)}}function _u(i,r,a){if(r!=null&&(r=""+Vt(r),r!==i.value&&(i.value=r),a==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=a!=null?""+Vt(a):""}function ys(i,r,a,u){if(r==null){if(u!=null){if(a!=null)throw Error(s(92));if(ft(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),r=a}a=Vt(r),i.defaultValue=a,u=i.textContent,u===a&&u!==""&&u!==null&&(i.value=u),$e(i)}function un(i,r){if(r){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=r;return}}i.textContent=r}var vu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Da(i,r,a){var u=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,a):typeof a!="number"||a===0||vu.has(r)?r==="float"?i.cssFloat=a:i[r]=(""+a).trim():i[r]=a+"px"}function Pa(i,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var m in r)u=r[m],r.hasOwnProperty(m)&&a[m]!==u&&Da(i,m,u)}else for(var _ in r)r.hasOwnProperty(_)&&Da(i,_,r[_])}function lo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_s=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function uo(i){return _s.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Jn(){}var ka=null;function Rn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var vs=null,vi=null;function gr(i){var r=In(i);if(r&&(i=r.stateNode)){var a=i[Ut]||null;e:switch(i=r.stateNode,r.type){case"input":if(ao(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ln(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var u=a[r];if(u!==i&&u.form===i.form){var m=u[Ut]||null;if(!m)throw Error(s(90));ao(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<a.length;r++)u=a[r],u.form===i.form&&pr(u)}break e;case"textarea":_u(i,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&gs(i,!!a.multiple,r,!1)}}}var co=!1;function Es(i,r,a){if(co)return i(r,a);co=!0;try{var u=i(r);return u}finally{if(co=!1,(vs!==null||vi!==null)&&(hc(),vs&&(r=vs,i=vi,vi=vs=null,gr(r),i)))for(r=0;r<i.length;r++)gr(i[r])}}function Kn(i,r){var a=i.stateNode;if(a===null)return null;var u=a[Ut]||null;if(u===null)return null;a=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yr=!1;if(Nn)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){yr=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{yr=!1}var Ei=null,Ua=null,_r=null;function Va(){if(_r)return _r;var i,r=Ua,a=r.length,u,m="value"in Ei?Ei.value:Ei.textContent,_=m.length;for(i=0;i<a&&r[i]===m[i];i++);var A=a-i;for(u=1;u<=A&&r[a-u]===m[_-u];u++);return _r=m.slice(i,1<u?1-u:void 0)}function vr(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Li(){return!0}function $n(){return!1}function Ht(i){function r(a,u,m,_,A){this._reactName=a,this._targetInst=m,this.type=u,this.nativeEvent=_,this.target=A,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(a=i[w],this[w]=a?a(_):_[w]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Li:$n,this.isPropagationStopped=$n,this}return S(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),r}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ti=Ht(Oi),Ts=S({},Oi,{view:0,detail:0}),La=Ht(Ts),Ss,fo,Si,ho=S({},Ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:As,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Si&&(Si&&i.type==="mousemove"?(Ss=i.screenX-Si.screenX,fo=i.screenY-Si.screenY):fo=Ss=0,Si=i),Ss)},movementY:function(i){return"movementY"in i?i.movementY:fo}}),Oa=Ht(ho),Er=S({},ho,{dataTransfer:0}),Tu=Ht(Er),Su=S({},Ts,{relatedTarget:0}),Tr=Ht(Su),qa=S({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),Au=Ht(qa),po=S({},Oi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Cu=Ht(po),xu=S({},Oi,{data:0}),Ai=Ht(xu),wu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ru(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Iu[i])?!!r[i]:!1}function As(){return Ru}var on=S({},Ts,{key:function(i){if(i.key){var r=wu[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=vr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?bu[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:As,charCode:function(i){return i.type==="keypress"?vr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?vr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Nu=Ht(on),Mu=S({},ho,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qi=Ht(Mu),p=S({},Ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:As}),T=Ht(p),x=S({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Ht(x),H=S({},ho,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Ht(H),oe=S({},Oi,{newState:0,oldState:0}),xe=Ht(oe),yt=[9,13,27,32],Ge=Nn&&"CompositionEvent"in window,at=null;Nn&&"documentMode"in document&&(at=document.documentMode);var Mn=Nn&&"TextEvent"in window&&!at,Ci=Nn&&(!Ge||at&&8<at&&11>=at),jn=" ",Qn=!1;function Sr(i,r){switch(i){case"keyup":return yt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mo(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var go=!1;function rC(i,r){switch(i){case"compositionend":return mo(r);case"keypress":return r.which!==32?null:(Qn=!0,jn);case"textInput":return i=r.data,i===jn&&Qn?null:i;default:return null}}function oC(i,r){if(go)return i==="compositionend"||!Ge&&Sr(i,r)?(i=Va(),_r=Ua=Ei=null,go=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ci&&r.locale!=="ko"?null:r.data;default:return null}}var aC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vm(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!aC[i.type]:r==="textarea"}function Lm(i,r,a,u){vs?vi?vi.push(u):vi=[u]:vs=u,r=Ec(r,"onChange"),0<r.length&&(a=new Ti("onChange","change",null,a,u),i.push({event:a,listeners:r}))}var Fa=null,Ha=null;function lC(i){v_(i,0)}function Du(i){var r=_n(i);if(pr(r))return i}function Om(i,r){if(i==="change")return r}var qm=!1;if(Nn){var jd;if(Nn){var Qd="oninput"in document;if(!Qd){var Fm=document.createElement("div");Fm.setAttribute("oninput","return;"),Qd=typeof Fm.oninput=="function"}jd=Qd}else jd=!1;qm=jd&&(!document.documentMode||9<document.documentMode)}function Hm(){Fa&&(Fa.detachEvent("onpropertychange",zm),Ha=Fa=null)}function zm(i){if(i.propertyName==="value"&&Du(Ha)){var r=[];Lm(r,Ha,i,Rn(i)),Es(lC,r)}}function uC(i,r,a){i==="focusin"?(Hm(),Fa=r,Ha=a,Fa.attachEvent("onpropertychange",zm)):i==="focusout"&&Hm()}function cC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Du(Ha)}function dC(i,r){if(i==="click")return Du(r)}function fC(i,r){if(i==="input"||i==="change")return Du(r)}function hC(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var En=typeof Object.is=="function"?Object.is:hC;function za(i,r){if(En(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var a=Object.keys(i),u=Object.keys(r);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var m=a[u];if(!Tt.call(r,m)||!En(i[m],r[m]))return!1}return!0}function Bm(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Gm(i,r){var a=Bm(i);i=0;for(var u;a;){if(a.nodeType===3){if(u=i+a.textContent.length,i<=r&&u>=r)return{node:a,offset:r-i};i=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Bm(a)}}function Ym(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Ym(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Jm(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=_i(i.document);r instanceof i.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)i=r.contentWindow;else break;r=_i(i.document)}return r}function Xd(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var pC=Nn&&"documentMode"in document&&11>=document.documentMode,yo=null,Wd=null,Ba=null,Zd=!1;function Km(i,r,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Zd||yo==null||yo!==_i(u)||(u=yo,"selectionStart"in u&&Xd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ba&&za(Ba,u)||(Ba=u,u=Ec(Wd,"onSelect"),0<u.length&&(r=new Ti("onSelect","select",null,r,a),i.push({event:r,listeners:u}),r.target=yo)))}function Ar(i,r){var a={};return a[i.toLowerCase()]=r.toLowerCase(),a["Webkit"+i]="webkit"+r,a["Moz"+i]="moz"+r,a}var _o={animationend:Ar("Animation","AnimationEnd"),animationiteration:Ar("Animation","AnimationIteration"),animationstart:Ar("Animation","AnimationStart"),transitionrun:Ar("Transition","TransitionRun"),transitionstart:Ar("Transition","TransitionStart"),transitioncancel:Ar("Transition","TransitionCancel"),transitionend:Ar("Transition","TransitionEnd")},ef={},$m={};Nn&&($m=document.createElement("div").style,"AnimationEvent"in window||(delete _o.animationend.animation,delete _o.animationiteration.animation,delete _o.animationstart.animation),"TransitionEvent"in window||delete _o.transitionend.transition);function Cr(i){if(ef[i])return ef[i];if(!_o[i])return i;var r=_o[i],a;for(a in r)if(r.hasOwnProperty(a)&&a in $m)return ef[i]=r[a];return i}var jm=Cr("animationend"),Qm=Cr("animationiteration"),Xm=Cr("animationstart"),mC=Cr("transitionrun"),gC=Cr("transitionstart"),yC=Cr("transitioncancel"),Wm=Cr("transitionend"),Zm=new Map,tf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tf.push("scrollEnd");function Xn(i,r){Zm.set(i,r),gi(r,[i])}var Pu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Dn=[],vo=0,nf=0;function ku(){for(var i=vo,r=nf=vo=0;r<i;){var a=Dn[r];Dn[r++]=null;var u=Dn[r];Dn[r++]=null;var m=Dn[r];Dn[r++]=null;var _=Dn[r];if(Dn[r++]=null,u!==null&&m!==null){var A=u.pending;A===null?m.next=m:(m.next=A.next,A.next=m),u.pending=m}_!==0&&eg(a,m,_)}}function Uu(i,r,a,u){Dn[vo++]=i,Dn[vo++]=r,Dn[vo++]=a,Dn[vo++]=u,nf|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function sf(i,r,a,u){return Uu(i,r,a,u),Vu(i)}function xr(i,r){return Uu(i,null,null,r),Vu(i)}function eg(i,r,a){i.lanes|=a;var u=i.alternate;u!==null&&(u.lanes|=a);for(var m=!1,_=i.return;_!==null;)_.childLanes|=a,u=_.alternate,u!==null&&(u.childLanes|=a),_.tag===22&&(i=_.stateNode,i===null||i._visibility&1||(m=!0)),i=_,_=_.return;return i.tag===3?(_=i.stateNode,m&&r!==null&&(m=31-gt(a),i=_.hiddenUpdates,u=i[m],u===null?i[m]=[r]:u.push(r),r.lane=a|536870912),_):null}function Vu(i){if(50<dl)throw dl=0,hh=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Eo={};function _C(i,r,a,u){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(i,r,a,u){return new _C(i,r,a,u)}function rf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Fi(i,r){var a=i.alternate;return a===null?(a=Tn(i.tag,r,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=r,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,r=i.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function tg(i,r){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,r=a.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Lu(i,r,a,u,m,_){var A=0;if(u=i,typeof i=="function")rf(i)&&(A=1);else if(typeof i=="string")A=Ax(i,a,fe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case R:return i=Tn(31,a,r,m),i.elementType=R,i.lanes=_,i;case J:return wr(a.children,m,_,r);case G:A=8,m|=24;break;case W:return i=Tn(12,a,r,m|2),i.elementType=W,i.lanes=_,i;case de:return i=Tn(13,a,r,m),i.elementType=de,i.lanes=_,i;case le:return i=Tn(19,a,r,m),i.elementType=le,i.lanes=_,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case j:A=10;break e;case ne:A=9;break e;case re:A=11;break e;case M:A=14;break e;case N:A=16,u=null;break e}A=29,a=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Tn(A,a,r,m),r.elementType=i,r.type=u,r.lanes=_,r}function wr(i,r,a,u){return i=Tn(7,i,u,r),i.lanes=a,i}function of(i,r,a){return i=Tn(6,i,null,r),i.lanes=a,i}function ng(i){var r=Tn(18,null,null,0);return r.stateNode=i,r}function af(i,r,a){return r=Tn(4,i.children!==null?i.children:[],i.key,r),r.lanes=a,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var ig=new WeakMap;function Pn(i,r){if(typeof i=="object"&&i!==null){var a=ig.get(i);return a!==void 0?a:(r={value:i,source:r,stack:Ea(r)},ig.set(i,r),r)}return{value:i,source:r,stack:Ea(r)}}var To=[],So=0,Ou=null,Ga=0,kn=[],Un=0,Cs=null,xi=1,wi="";function Hi(i,r){To[So++]=Ga,To[So++]=Ou,Ou=i,Ga=r}function sg(i,r,a){kn[Un++]=xi,kn[Un++]=wi,kn[Un++]=Cs,Cs=i;var u=xi;i=wi;var m=32-gt(u)-1;u&=~(1<<m),a+=1;var _=32-gt(r)+m;if(30<_){var A=m-m%5;_=(u&(1<<A)-1).toString(32),u>>=A,m-=A,xi=1<<32-gt(r)+m|a<<m|u,wi=_+i}else xi=1<<_|a<<m|u,wi=i}function lf(i){i.return!==null&&(Hi(i,1),sg(i,1,0))}function uf(i){for(;i===Ou;)Ou=To[--So],To[So]=null,Ga=To[--So],To[So]=null;for(;i===Cs;)Cs=kn[--Un],kn[Un]=null,wi=kn[--Un],kn[Un]=null,xi=kn[--Un],kn[Un]=null}function rg(i,r){kn[Un++]=xi,kn[Un++]=wi,kn[Un++]=Cs,xi=r.id,wi=r.overflow,Cs=i}var zt=null,it=null,Le=!1,xs=null,Vn=!1,cf=Error(s(519));function ws(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ya(Pn(r,i)),cf}function og(i){var r=i.stateNode,a=i.type,u=i.memoizedProps;switch(r[At]=i,r[Ut]=u,a){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(a=0;a<hl.length;a++)Pe(hl[a],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":Pe("invalid",r),yu(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Pe("invalid",r);break;case"textarea":Pe("invalid",r),ys(r,u.value,u.defaultValue,u.children)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||u.suppressHydrationWarning===!0||A_(r.textContent,a)?(u.popover!=null&&(Pe("beforetoggle",r),Pe("toggle",r)),u.onScroll!=null&&Pe("scroll",r),u.onScrollEnd!=null&&Pe("scrollend",r),u.onClick!=null&&(r.onclick=Jn),r=!0):r=!1,r||ws(i,!0)}function ag(i){for(zt=i.return;zt;)switch(zt.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:zt=zt.return}}function Ao(i){if(i!==zt)return!1;if(!Le)return ag(i),Le=!0,!1;var r=i.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||Ih(i.type,i.memoizedProps)),a=!a),a&&it&&ws(i),ag(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));it=D_(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));it=D_(i)}else r===27?(r=it,Fs(i.type)?(i=Ph,Ph=null,it=i):it=r):it=zt?On(i.stateNode.nextSibling):null;return!0}function br(){it=zt=null,Le=!1}function df(){var i=xs;return i!==null&&(hn===null?hn=i:hn.push.apply(hn,i),xs=null),i}function Ya(i){xs===null?xs=[i]:xs.push(i)}var ff=O(null),Ir=null,zi=null;function bs(i,r,a){ue(ff,r._currentValue),r._currentValue=a}function Bi(i){i._currentValue=ff.current,te(ff)}function hf(i,r,a){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===a)break;i=i.return}}function pf(i,r,a,u){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var _=m.dependencies;if(_!==null){var A=m.child;_=_.firstContext;e:for(;_!==null;){var w=_;_=m;for(var k=0;k<r.length;k++)if(w.context===r[k]){_.lanes|=a,w=_.alternate,w!==null&&(w.lanes|=a),hf(_.return,a,i),u||(A=null);break e}_=w.next}}else if(m.tag===18){if(A=m.return,A===null)throw Error(s(341));A.lanes|=a,_=A.alternate,_!==null&&(_.lanes|=a),hf(A,a,i),A=null}else A=m.child;if(A!==null)A.return=m;else for(A=m;A!==null;){if(A===i){A=null;break}if(m=A.sibling,m!==null){m.return=A.return,A=m;break}A=A.return}m=A}}function Co(i,r,a,u){i=null;for(var m=r,_=!1;m!==null;){if(!_){if((m.flags&524288)!==0)_=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var A=m.alternate;if(A===null)throw Error(s(387));if(A=A.memoizedProps,A!==null){var w=m.type;En(m.pendingProps.value,A.value)||(i!==null?i.push(w):i=[w])}}else if(m===Oe.current){if(A=m.alternate,A===null)throw Error(s(387));A.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(_l):i=[_l])}m=m.return}i!==null&&pf(r,i,a,u),r.flags|=262144}function qu(i){for(i=i.firstContext;i!==null;){if(!En(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Rr(i){Ir=i,zi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Bt(i){return lg(Ir,i)}function Fu(i,r){return Ir===null&&Rr(i),lg(i,r)}function lg(i,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},zi===null){if(i===null)throw Error(s(308));zi=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else zi=zi.next=r;return a}var vC=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(a,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(a){return a()})}},EC=t.unstable_scheduleCallback,TC=t.unstable_NormalPriority,wt={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mf(){return{controller:new vC,data:new Map,refCount:0}}function Ja(i){i.refCount--,i.refCount===0&&EC(TC,function(){i.controller.abort()})}var Ka=null,gf=0,xo=0,wo=null;function SC(i,r){if(Ka===null){var a=Ka=[];gf=0,xo=vh(),wo={status:"pending",value:void 0,then:function(u){a.push(u)}}}return gf++,r.then(ug,ug),r}function ug(){if(--gf===0&&Ka!==null){wo!==null&&(wo.status="fulfilled");var i=Ka;Ka=null,xo=0,wo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function AC(i,r){var a=[],u={status:"pending",value:null,reason:null,then:function(m){a.push(m)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var m=0;m<a.length;m++)(0,a[m])(r)},function(m){for(u.status="rejected",u.reason=m,m=0;m<a.length;m++)(0,a[m])(void 0)}),u}var cg=Q.S;Q.S=function(i,r){Ky=rn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&SC(i,r),cg!==null&&cg(i,r)};var Nr=O(null);function yf(){var i=Nr.current;return i!==null?i:tt.pooledCache}function Hu(i,r){r===null?ue(Nr,Nr.current):ue(Nr,r.pool)}function dg(){var i=yf();return i===null?null:{parent:wt._currentValue,pool:i}}var bo=Error(s(460)),_f=Error(s(474)),zu=Error(s(542)),Bu={then:function(){}};function fg(i){return i=i.status,i==="fulfilled"||i==="rejected"}function hg(i,r,a){switch(a=i[a],a===void 0?i.push(r):a!==r&&(r.then(Jn,Jn),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,mg(i),i;default:if(typeof r.status=="string")r.then(Jn,Jn);else{if(i=tt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=u}},function(u){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,mg(i),i}throw Dr=r,bo}}function Mr(i){try{var r=i._init;return r(i._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Dr=a,bo):a}}var Dr=null;function pg(){if(Dr===null)throw Error(s(459));var i=Dr;return Dr=null,i}function mg(i){if(i===bo||i===zu)throw Error(s(483))}var Io=null,$a=0;function Gu(i){var r=$a;return $a+=1,Io===null&&(Io=[]),hg(Io,i,r)}function ja(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Yu(i,r){throw r.$$typeof===C?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function gg(i){function r(q,L){if(i){var z=q.deletions;z===null?(q.deletions=[L],q.flags|=16):z.push(L)}}function a(q,L){if(!i)return null;for(;L!==null;)r(q,L),L=L.sibling;return null}function u(q){for(var L=new Map;q!==null;)q.key!==null?L.set(q.key,q):L.set(q.index,q),q=q.sibling;return L}function m(q,L){return q=Fi(q,L),q.index=0,q.sibling=null,q}function _(q,L,z){return q.index=z,i?(z=q.alternate,z!==null?(z=z.index,z<L?(q.flags|=67108866,L):z):(q.flags|=67108866,L)):(q.flags|=1048576,L)}function A(q){return i&&q.alternate===null&&(q.flags|=67108866),q}function w(q,L,z,Z){return L===null||L.tag!==6?(L=of(z,q.mode,Z),L.return=q,L):(L=m(L,z),L.return=q,L)}function k(q,L,z,Z){var ge=z.type;return ge===J?X(q,L,z.props.children,Z,z.key):L!==null&&(L.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===N&&Mr(ge)===L.type)?(L=m(L,z.props),ja(L,z),L.return=q,L):(L=Lu(z.type,z.key,z.props,null,q.mode,Z),ja(L,z),L.return=q,L)}function B(q,L,z,Z){return L===null||L.tag!==4||L.stateNode.containerInfo!==z.containerInfo||L.stateNode.implementation!==z.implementation?(L=af(z,q.mode,Z),L.return=q,L):(L=m(L,z.children||[]),L.return=q,L)}function X(q,L,z,Z,ge){return L===null||L.tag!==7?(L=wr(z,q.mode,Z,ge),L.return=q,L):(L=m(L,z),L.return=q,L)}function ee(q,L,z){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=of(""+L,q.mode,z),L.return=q,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case I:return z=Lu(L.type,L.key,L.props,null,q.mode,z),ja(z,L),z.return=q,z;case F:return L=af(L,q.mode,z),L.return=q,L;case N:return L=Mr(L),ee(q,L,z)}if(ft(L)||V(L))return L=wr(L,q.mode,z,null),L.return=q,L;if(typeof L.then=="function")return ee(q,Gu(L),z);if(L.$$typeof===j)return ee(q,Fu(q,L),z);Yu(q,L)}return null}function Y(q,L,z,Z){var ge=L!==null?L.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ge!==null?null:w(q,L,""+z,Z);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case I:return z.key===ge?k(q,L,z,Z):null;case F:return z.key===ge?B(q,L,z,Z):null;case N:return z=Mr(z),Y(q,L,z,Z)}if(ft(z)||V(z))return ge!==null?null:X(q,L,z,Z,null);if(typeof z.then=="function")return Y(q,L,Gu(z),Z);if(z.$$typeof===j)return Y(q,L,Fu(q,z),Z);Yu(q,z)}return null}function $(q,L,z,Z,ge){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return q=q.get(z)||null,w(L,q,""+Z,ge);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case I:return q=q.get(Z.key===null?z:Z.key)||null,k(L,q,Z,ge);case F:return q=q.get(Z.key===null?z:Z.key)||null,B(L,q,Z,ge);case N:return Z=Mr(Z),$(q,L,z,Z,ge)}if(ft(Z)||V(Z))return q=q.get(z)||null,X(L,q,Z,ge,null);if(typeof Z.then=="function")return $(q,L,z,Gu(Z),ge);if(Z.$$typeof===j)return $(q,L,z,Fu(L,Z),ge);Yu(L,Z)}return null}function he(q,L,z,Z){for(var ge=null,He=null,pe=L,Re=L=0,Ue=null;pe!==null&&Re<z.length;Re++){pe.index>Re?(Ue=pe,pe=null):Ue=pe.sibling;var ze=Y(q,pe,z[Re],Z);if(ze===null){pe===null&&(pe=Ue);break}i&&pe&&ze.alternate===null&&r(q,pe),L=_(ze,L,Re),He===null?ge=ze:He.sibling=ze,He=ze,pe=Ue}if(Re===z.length)return a(q,pe),Le&&Hi(q,Re),ge;if(pe===null){for(;Re<z.length;Re++)pe=ee(q,z[Re],Z),pe!==null&&(L=_(pe,L,Re),He===null?ge=pe:He.sibling=pe,He=pe);return Le&&Hi(q,Re),ge}for(pe=u(pe);Re<z.length;Re++)Ue=$(pe,q,Re,z[Re],Z),Ue!==null&&(i&&Ue.alternate!==null&&pe.delete(Ue.key===null?Re:Ue.key),L=_(Ue,L,Re),He===null?ge=Ue:He.sibling=Ue,He=Ue);return i&&pe.forEach(function(Ys){return r(q,Ys)}),Le&&Hi(q,Re),ge}function ve(q,L,z,Z){if(z==null)throw Error(s(151));for(var ge=null,He=null,pe=L,Re=L=0,Ue=null,ze=z.next();pe!==null&&!ze.done;Re++,ze=z.next()){pe.index>Re?(Ue=pe,pe=null):Ue=pe.sibling;var Ys=Y(q,pe,ze.value,Z);if(Ys===null){pe===null&&(pe=Ue);break}i&&pe&&Ys.alternate===null&&r(q,pe),L=_(Ys,L,Re),He===null?ge=Ys:He.sibling=Ys,He=Ys,pe=Ue}if(ze.done)return a(q,pe),Le&&Hi(q,Re),ge;if(pe===null){for(;!ze.done;Re++,ze=z.next())ze=ee(q,ze.value,Z),ze!==null&&(L=_(ze,L,Re),He===null?ge=ze:He.sibling=ze,He=ze);return Le&&Hi(q,Re),ge}for(pe=u(pe);!ze.done;Re++,ze=z.next())ze=$(pe,q,Re,ze.value,Z),ze!==null&&(i&&ze.alternate!==null&&pe.delete(ze.key===null?Re:ze.key),L=_(ze,L,Re),He===null?ge=ze:He.sibling=ze,He=ze);return i&&pe.forEach(function(kx){return r(q,kx)}),Le&&Hi(q,Re),ge}function et(q,L,z,Z){if(typeof z=="object"&&z!==null&&z.type===J&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case I:e:{for(var ge=z.key;L!==null;){if(L.key===ge){if(ge=z.type,ge===J){if(L.tag===7){a(q,L.sibling),Z=m(L,z.props.children),Z.return=q,q=Z;break e}}else if(L.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===N&&Mr(ge)===L.type){a(q,L.sibling),Z=m(L,z.props),ja(Z,z),Z.return=q,q=Z;break e}a(q,L);break}else r(q,L);L=L.sibling}z.type===J?(Z=wr(z.props.children,q.mode,Z,z.key),Z.return=q,q=Z):(Z=Lu(z.type,z.key,z.props,null,q.mode,Z),ja(Z,z),Z.return=q,q=Z)}return A(q);case F:e:{for(ge=z.key;L!==null;){if(L.key===ge)if(L.tag===4&&L.stateNode.containerInfo===z.containerInfo&&L.stateNode.implementation===z.implementation){a(q,L.sibling),Z=m(L,z.children||[]),Z.return=q,q=Z;break e}else{a(q,L);break}else r(q,L);L=L.sibling}Z=af(z,q.mode,Z),Z.return=q,q=Z}return A(q);case N:return z=Mr(z),et(q,L,z,Z)}if(ft(z))return he(q,L,z,Z);if(V(z)){if(ge=V(z),typeof ge!="function")throw Error(s(150));return z=ge.call(z),ve(q,L,z,Z)}if(typeof z.then=="function")return et(q,L,Gu(z),Z);if(z.$$typeof===j)return et(q,L,Fu(q,z),Z);Yu(q,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,L!==null&&L.tag===6?(a(q,L.sibling),Z=m(L,z),Z.return=q,q=Z):(a(q,L),Z=of(z,q.mode,Z),Z.return=q,q=Z),A(q)):a(q,L)}return function(q,L,z,Z){try{$a=0;var ge=et(q,L,z,Z);return Io=null,ge}catch(pe){if(pe===bo||pe===zu)throw pe;var He=Tn(29,pe,null,q.mode);return He.lanes=Z,He.return=q,He}finally{}}}var Pr=gg(!0),yg=gg(!1),Is=!1;function vf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ef(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Rs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ns(i,r,a){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Ye&2)!==0){var m=u.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),u.pending=r,r=Vu(i),eg(i,null,a),r}return Uu(i,u,r,a),Vu(i)}function Qa(i,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,a|=u,r.lanes=a,Aa(i,a)}}function Tf(i,r){var a=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var m=null,_=null;if(a=a.firstBaseUpdate,a!==null){do{var A={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};_===null?m=_=A:_=_.next=A,a=a.next}while(a!==null);_===null?m=_=r:_=_.next=r}else m=_=r;a={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:_,shared:u.shared,callbacks:u.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=r:i.next=r,a.lastBaseUpdate=r}var Sf=!1;function Xa(){if(Sf){var i=wo;if(i!==null)throw i}}function Wa(i,r,a,u){Sf=!1;var m=i.updateQueue;Is=!1;var _=m.firstBaseUpdate,A=m.lastBaseUpdate,w=m.shared.pending;if(w!==null){m.shared.pending=null;var k=w,B=k.next;k.next=null,A===null?_=B:A.next=B,A=k;var X=i.alternate;X!==null&&(X=X.updateQueue,w=X.lastBaseUpdate,w!==A&&(w===null?X.firstBaseUpdate=B:w.next=B,X.lastBaseUpdate=k))}if(_!==null){var ee=m.baseState;A=0,X=B=k=null,w=_;do{var Y=w.lane&-536870913,$=Y!==w.lane;if($?(ke&Y)===Y:(u&Y)===Y){Y!==0&&Y===xo&&(Sf=!0),X!==null&&(X=X.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var he=i,ve=w;Y=r;var et=a;switch(ve.tag){case 1:if(he=ve.payload,typeof he=="function"){ee=he.call(et,ee,Y);break e}ee=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ve.payload,Y=typeof he=="function"?he.call(et,ee,Y):he,Y==null)break e;ee=S({},ee,Y);break e;case 2:Is=!0}}Y=w.callback,Y!==null&&(i.flags|=64,$&&(i.flags|=8192),$=m.callbacks,$===null?m.callbacks=[Y]:$.push(Y))}else $={lane:Y,tag:w.tag,payload:w.payload,callback:w.callback,next:null},X===null?(B=X=$,k=ee):X=X.next=$,A|=Y;if(w=w.next,w===null){if(w=m.shared.pending,w===null)break;$=w,w=$.next,$.next=null,m.lastBaseUpdate=$,m.shared.pending=null}}while(!0);X===null&&(k=ee),m.baseState=k,m.firstBaseUpdate=B,m.lastBaseUpdate=X,_===null&&(m.shared.lanes=0),Us|=A,i.lanes=A,i.memoizedState=ee}}function _g(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function vg(i,r){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)_g(a[i],r)}var Ro=O(null),Ju=O(0);function Eg(i,r){i=Wi,ue(Ju,i),ue(Ro,r),Wi=i|r.baseLanes}function Af(){ue(Ju,Wi),ue(Ro,Ro.current)}function Cf(){Wi=Ju.current,te(Ro),te(Ju)}var Sn=O(null),Ln=null;function Ms(i){var r=i.alternate;ue(_t,_t.current&1),ue(Sn,i),Ln===null&&(r===null||Ro.current!==null||r.memoizedState!==null)&&(Ln=i)}function xf(i){ue(_t,_t.current),ue(Sn,i),Ln===null&&(Ln=i)}function Tg(i){i.tag===22?(ue(_t,_t.current),ue(Sn,i),Ln===null&&(Ln=i)):Ds()}function Ds(){ue(_t,_t.current),ue(Sn,Sn.current)}function An(i){te(Sn),Ln===i&&(Ln=null),te(_t)}var _t=O(0);function Ku(i){for(var r=i;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Mh(a)||Dh(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Gi=0,we=null,We=null,bt=null,$u=!1,No=!1,kr=!1,ju=0,Za=0,Mo=null,CC=0;function ht(){throw Error(s(321))}function wf(i,r){if(r===null)return!1;for(var a=0;a<r.length&&a<i.length;a++)if(!En(i[a],r[a]))return!1;return!0}function bf(i,r,a,u,m,_){return Gi=_,we=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Q.H=i===null||i.memoizedState===null?sy:zf,kr=!1,_=a(u,m),kr=!1,No&&(_=Ag(r,a,u,m)),Sg(i),_}function Sg(i){Q.H=nl;var r=We!==null&&We.next!==null;if(Gi=0,bt=We=we=null,$u=!1,Za=0,Mo=null,r)throw Error(s(300));i===null||It||(i=i.dependencies,i!==null&&qu(i)&&(It=!0))}function Ag(i,r,a,u){we=i;var m=0;do{if(No&&(Mo=null),Za=0,No=!1,25<=m)throw Error(s(301));if(m+=1,bt=We=null,i.updateQueue!=null){var _=i.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}Q.H=ry,_=r(a,u)}while(No);return _}function xC(){var i=Q.H,r=i.useState()[0];return r=typeof r.then=="function"?el(r):r,i=i.useState()[0],(We!==null?We.memoizedState:null)!==i&&(we.flags|=1024),r}function If(){var i=ju!==0;return ju=0,i}function Rf(i,r,a){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~a}function Nf(i){if($u){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}$u=!1}Gi=0,bt=We=we=null,No=!1,Za=ju=0,Mo=null}function an(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?we.memoizedState=bt=i:bt=bt.next=i,bt}function vt(){if(We===null){var i=we.alternate;i=i!==null?i.memoizedState:null}else i=We.next;var r=bt===null?we.memoizedState:bt.next;if(r!==null)bt=r,We=i;else{if(i===null)throw we.alternate===null?Error(s(467)):Error(s(310));We=i,i={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},bt===null?we.memoizedState=bt=i:bt=bt.next=i}return bt}function Qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function el(i){var r=Za;return Za+=1,Mo===null&&(Mo=[]),i=hg(Mo,i,r),r=we,(bt===null?r.memoizedState:bt.next)===null&&(r=r.alternate,Q.H=r===null||r.memoizedState===null?sy:zf),i}function Xu(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return el(i);if(i.$$typeof===j)return Bt(i)}throw Error(s(438,String(i)))}function Mf(i){var r=null,a=we.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var u=we.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Qu(),we.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(i),u=0;u<i;u++)a[u]=U;return r.index++,a}function Yi(i,r){return typeof r=="function"?r(i):r}function Wu(i){var r=vt();return Df(r,We,i)}function Df(i,r,a){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var m=i.baseQueue,_=u.pending;if(_!==null){if(m!==null){var A=m.next;m.next=_.next,_.next=A}r.baseQueue=m=_,u.pending=null}if(_=i.baseState,m===null)i.memoizedState=_;else{r=m.next;var w=A=null,k=null,B=r,X=!1;do{var ee=B.lane&-536870913;if(ee!==B.lane?(ke&ee)===ee:(Gi&ee)===ee){var Y=B.revertLane;if(Y===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),ee===xo&&(X=!0);else if((Gi&Y)===Y){B=B.next,Y===xo&&(X=!0);continue}else ee={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},k===null?(w=k=ee,A=_):k=k.next=ee,we.lanes|=Y,Us|=Y;ee=B.action,kr&&a(_,ee),_=B.hasEagerState?B.eagerState:a(_,ee)}else Y={lane:ee,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},k===null?(w=k=Y,A=_):k=k.next=Y,we.lanes|=ee,Us|=ee;B=B.next}while(B!==null&&B!==r);if(k===null?A=_:k.next=w,!En(_,i.memoizedState)&&(It=!0,X&&(a=wo,a!==null)))throw a;i.memoizedState=_,i.baseState=A,i.baseQueue=k,u.lastRenderedState=_}return m===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Pf(i){var r=vt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=i;var u=a.dispatch,m=a.pending,_=r.memoizedState;if(m!==null){a.pending=null;var A=m=m.next;do _=i(_,A.action),A=A.next;while(A!==m);En(_,r.memoizedState)||(It=!0),r.memoizedState=_,r.baseQueue===null&&(r.baseState=_),a.lastRenderedState=_}return[_,u]}function Cg(i,r,a){var u=we,m=vt(),_=Le;if(_){if(a===void 0)throw Error(s(407));a=a()}else a=r();var A=!En((We||m).memoizedState,a);if(A&&(m.memoizedState=a,It=!0),m=m.queue,Vf(bg.bind(null,u,m,i),[i]),m.getSnapshot!==r||A||bt!==null&&bt.memoizedState.tag&1){if(u.flags|=2048,Do(9,{destroy:void 0},wg.bind(null,u,m,a,r),null),tt===null)throw Error(s(349));_||(Gi&127)!==0||xg(u,r,a)}return a}function xg(i,r,a){i.flags|=16384,i={getSnapshot:r,value:a},r=we.updateQueue,r===null?(r=Qu(),we.updateQueue=r,r.stores=[i]):(a=r.stores,a===null?r.stores=[i]:a.push(i))}function wg(i,r,a,u){r.value=a,r.getSnapshot=u,Ig(r)&&Rg(i)}function bg(i,r,a){return a(function(){Ig(r)&&Rg(i)})}function Ig(i){var r=i.getSnapshot;i=i.value;try{var a=r();return!En(i,a)}catch{return!0}}function Rg(i){var r=xr(i,2);r!==null&&pn(r,i,2)}function kf(i){var r=an();if(typeof i=="function"){var a=i;if(i=a(),kr){bn(!0);try{a()}finally{bn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:i},r}function Ng(i,r,a,u){return i.baseState=a,Df(i,We,typeof u=="function"?u:Yi)}function wC(i,r,a,u,m){if(tc(i))throw Error(s(485));if(i=r.action,i!==null){var _={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){_.listeners.push(A)}};Q.T!==null?a(!0):_.isTransition=!1,u(_),a=r.pending,a===null?(_.next=r.pending=_,Mg(r,_)):(_.next=a.next,r.pending=a.next=_)}}function Mg(i,r){var a=r.action,u=r.payload,m=i.state;if(r.isTransition){var _=Q.T,A={};Q.T=A;try{var w=a(m,u),k=Q.S;k!==null&&k(A,w),Dg(i,r,w)}catch(B){Uf(i,r,B)}finally{_!==null&&A.types!==null&&(_.types=A.types),Q.T=_}}else try{_=a(m,u),Dg(i,r,_)}catch(B){Uf(i,r,B)}}function Dg(i,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){Pg(i,r,u)},function(u){return Uf(i,r,u)}):Pg(i,r,a)}function Pg(i,r,a){r.status="fulfilled",r.value=a,kg(r),i.state=a,r=i.pending,r!==null&&(a=r.next,a===r?i.pending=null:(a=a.next,r.next=a,Mg(i,a)))}function Uf(i,r,a){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=a,kg(r),r=r.next;while(r!==u)}i.action=null}function kg(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function Ug(i,r){return r}function Vg(i,r){if(Le){var a=tt.formState;if(a!==null){e:{var u=we;if(Le){if(it){t:{for(var m=it,_=Vn;m.nodeType!==8;){if(!_){m=null;break t}if(m=On(m.nextSibling),m===null){m=null;break t}}_=m.data,m=_==="F!"||_==="F"?m:null}if(m){it=On(m.nextSibling),u=m.data==="F!";break e}}ws(u)}u=!1}u&&(r=a[0])}}return a=an(),a.memoizedState=a.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ug,lastRenderedState:r},a.queue=u,a=ty.bind(null,we,u),u.dispatch=a,u=kf(!1),_=Hf.bind(null,we,!1,u.queue),u=an(),m={state:r,dispatch:null,action:i,pending:null},u.queue=m,a=wC.bind(null,we,m,_,a),m.dispatch=a,u.memoizedState=i,[r,a,!1]}function Lg(i){var r=vt();return Og(r,We,i)}function Og(i,r,a){if(r=Df(i,r,Ug)[0],i=Wu(Yi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=el(r)}catch(A){throw A===bo?zu:A}else u=r;r=vt();var m=r.queue,_=m.dispatch;return a!==r.memoizedState&&(we.flags|=2048,Do(9,{destroy:void 0},bC.bind(null,m,a),null)),[u,_,i]}function bC(i,r){i.action=r}function qg(i){var r=vt(),a=We;if(a!==null)return Og(r,a,i);vt(),r=r.memoizedState,a=vt();var u=a.queue.dispatch;return a.memoizedState=i,[r,u,!1]}function Do(i,r,a,u){return i={tag:i,create:a,deps:u,inst:r,next:null},r=we.updateQueue,r===null&&(r=Qu(),we.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=i.next=i:(u=a.next,a.next=i,i.next=u,r.lastEffect=i),i}function Fg(){return vt().memoizedState}function Zu(i,r,a,u){var m=an();we.flags|=i,m.memoizedState=Do(1|r,{destroy:void 0},a,u===void 0?null:u)}function ec(i,r,a,u){var m=vt();u=u===void 0?null:u;var _=m.memoizedState.inst;We!==null&&u!==null&&wf(u,We.memoizedState.deps)?m.memoizedState=Do(r,_,a,u):(we.flags|=i,m.memoizedState=Do(1|r,_,a,u))}function Hg(i,r){Zu(8390656,8,i,r)}function Vf(i,r){ec(2048,8,i,r)}function IC(i){we.flags|=4;var r=we.updateQueue;if(r===null)r=Qu(),we.updateQueue=r,r.events=[i];else{var a=r.events;a===null?r.events=[i]:a.push(i)}}function zg(i){var r=vt().memoizedState;return IC({ref:r,nextImpl:i}),function(){if((Ye&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Bg(i,r){return ec(4,2,i,r)}function Gg(i,r){return ec(4,4,i,r)}function Yg(i,r){if(typeof r=="function"){i=i();var a=r(i);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Jg(i,r,a){a=a!=null?a.concat([i]):null,ec(4,4,Yg.bind(null,r,i),a)}function Lf(){}function Kg(i,r){var a=vt();r=r===void 0?null:r;var u=a.memoizedState;return r!==null&&wf(r,u[1])?u[0]:(a.memoizedState=[i,r],i)}function $g(i,r){var a=vt();r=r===void 0?null:r;var u=a.memoizedState;if(r!==null&&wf(r,u[1]))return u[0];if(u=i(),kr){bn(!0);try{i()}finally{bn(!1)}}return a.memoizedState=[u,r],u}function Of(i,r,a){return a===void 0||(Gi&1073741824)!==0&&(ke&261930)===0?i.memoizedState=r:(i.memoizedState=a,i=jy(),we.lanes|=i,Us|=i,a)}function jg(i,r,a,u){return En(a,r)?a:Ro.current!==null?(i=Of(i,a,u),En(i,r)||(It=!0),i):(Gi&42)===0||(Gi&1073741824)!==0&&(ke&261930)===0?(It=!0,i.memoizedState=a):(i=jy(),we.lanes|=i,Us|=i,r)}function Qg(i,r,a,u,m){var _=ae.p;ae.p=_!==0&&8>_?_:8;var A=Q.T,w={};Q.T=w,Hf(i,!1,r,a);try{var k=m(),B=Q.S;if(B!==null&&B(w,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var X=AC(k,u);tl(i,r,X,wn(i))}else tl(i,r,u,wn(i))}catch(ee){tl(i,r,{then:function(){},status:"rejected",reason:ee},wn())}finally{ae.p=_,A!==null&&w.types!==null&&(A.types=w.types),Q.T=A}}function RC(){}function qf(i,r,a,u){if(i.tag!==5)throw Error(s(476));var m=Xg(i).queue;Qg(i,m,r,_e,a===null?RC:function(){return Wg(i),a(u)})}function Xg(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:_e},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:a},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function Wg(i){var r=Xg(i);r.next===null&&(r=i.alternate.memoizedState),tl(i,r.next.queue,{},wn())}function Ff(){return Bt(_l)}function Zg(){return vt().memoizedState}function ey(){return vt().memoizedState}function NC(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var a=wn();i=Rs(a);var u=Ns(r,i,a);u!==null&&(pn(u,r,a),Qa(u,r,a)),r={cache:mf()},i.payload=r;return}r=r.return}}function MC(i,r,a){var u=wn();a={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},tc(i)?ny(r,a):(a=sf(i,r,a,u),a!==null&&(pn(a,i,u),iy(a,r,u)))}function ty(i,r,a){var u=wn();tl(i,r,a,u)}function tl(i,r,a,u){var m={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(tc(i))ny(r,m);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=r.lastRenderedReducer,_!==null))try{var A=r.lastRenderedState,w=_(A,a);if(m.hasEagerState=!0,m.eagerState=w,En(w,A))return Uu(i,r,m,0),tt===null&&ku(),!1}catch{}finally{}if(a=sf(i,r,m,u),a!==null)return pn(a,i,u),iy(a,r,u),!0}return!1}function Hf(i,r,a,u){if(u={lane:2,revertLane:vh(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},tc(i)){if(r)throw Error(s(479))}else r=sf(i,a,u,2),r!==null&&pn(r,i,2)}function tc(i){var r=i.alternate;return i===we||r!==null&&r===we}function ny(i,r){No=$u=!0;var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}function iy(i,r,a){if((a&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,a|=u,r.lanes=a,Aa(i,a)}}var nl={readContext:Bt,use:Xu,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};nl.useEffectEvent=ht;var sy={readContext:Bt,use:Xu,useCallback:function(i,r){return an().memoizedState=[i,r===void 0?null:r],i},useContext:Bt,useEffect:Hg,useImperativeHandle:function(i,r,a){a=a!=null?a.concat([i]):null,Zu(4194308,4,Yg.bind(null,r,i),a)},useLayoutEffect:function(i,r){return Zu(4194308,4,i,r)},useInsertionEffect:function(i,r){Zu(4,2,i,r)},useMemo:function(i,r){var a=an();r=r===void 0?null:r;var u=i();if(kr){bn(!0);try{i()}finally{bn(!1)}}return a.memoizedState=[u,r],u},useReducer:function(i,r,a){var u=an();if(a!==void 0){var m=a(r);if(kr){bn(!0);try{a(r)}finally{bn(!1)}}}else m=r;return u.memoizedState=u.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},u.queue=i,i=i.dispatch=MC.bind(null,we,i),[u.memoizedState,i]},useRef:function(i){var r=an();return i={current:i},r.memoizedState=i},useState:function(i){i=kf(i);var r=i.queue,a=ty.bind(null,we,r);return r.dispatch=a,[i.memoizedState,a]},useDebugValue:Lf,useDeferredValue:function(i,r){var a=an();return Of(a,i,r)},useTransition:function(){var i=kf(!1);return i=Qg.bind(null,we,i.queue,!0,!1),an().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,a){var u=we,m=an();if(Le){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),tt===null)throw Error(s(349));(ke&127)!==0||xg(u,r,a)}m.memoizedState=a;var _={value:a,getSnapshot:r};return m.queue=_,Hg(bg.bind(null,u,_,i),[i]),u.flags|=2048,Do(9,{destroy:void 0},wg.bind(null,u,_,a,r),null),a},useId:function(){var i=an(),r=tt.identifierPrefix;if(Le){var a=wi,u=xi;a=(u&~(1<<32-gt(u)-1)).toString(32)+a,r="_"+r+"R_"+a,a=ju++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=CC++,r="_"+r+"r_"+a.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:Ff,useFormState:Vg,useActionState:Vg,useOptimistic:function(i){var r=an();r.memoizedState=r.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Hf.bind(null,we,!0,a),a.dispatch=r,[i,r]},useMemoCache:Mf,useCacheRefresh:function(){return an().memoizedState=NC.bind(null,we)},useEffectEvent:function(i){var r=an(),a={impl:i};return r.memoizedState=a,function(){if((Ye&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},zf={readContext:Bt,use:Xu,useCallback:Kg,useContext:Bt,useEffect:Vf,useImperativeHandle:Jg,useInsertionEffect:Bg,useLayoutEffect:Gg,useMemo:$g,useReducer:Wu,useRef:Fg,useState:function(){return Wu(Yi)},useDebugValue:Lf,useDeferredValue:function(i,r){var a=vt();return jg(a,We.memoizedState,i,r)},useTransition:function(){var i=Wu(Yi)[0],r=vt().memoizedState;return[typeof i=="boolean"?i:el(i),r]},useSyncExternalStore:Cg,useId:Zg,useHostTransitionStatus:Ff,useFormState:Lg,useActionState:Lg,useOptimistic:function(i,r){var a=vt();return Ng(a,We,i,r)},useMemoCache:Mf,useCacheRefresh:ey};zf.useEffectEvent=zg;var ry={readContext:Bt,use:Xu,useCallback:Kg,useContext:Bt,useEffect:Vf,useImperativeHandle:Jg,useInsertionEffect:Bg,useLayoutEffect:Gg,useMemo:$g,useReducer:Pf,useRef:Fg,useState:function(){return Pf(Yi)},useDebugValue:Lf,useDeferredValue:function(i,r){var a=vt();return We===null?Of(a,i,r):jg(a,We.memoizedState,i,r)},useTransition:function(){var i=Pf(Yi)[0],r=vt().memoizedState;return[typeof i=="boolean"?i:el(i),r]},useSyncExternalStore:Cg,useId:Zg,useHostTransitionStatus:Ff,useFormState:qg,useActionState:qg,useOptimistic:function(i,r){var a=vt();return We!==null?Ng(a,We,i,r):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:Mf,useCacheRefresh:ey};ry.useEffectEvent=zg;function Bf(i,r,a,u){r=i.memoizedState,a=a(u,r),a=a==null?r:S({},r,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var Gf={enqueueSetState:function(i,r,a){i=i._reactInternals;var u=wn(),m=Rs(u);m.payload=r,a!=null&&(m.callback=a),r=Ns(i,m,u),r!==null&&(pn(r,i,u),Qa(r,i,u))},enqueueReplaceState:function(i,r,a){i=i._reactInternals;var u=wn(),m=Rs(u);m.tag=1,m.payload=r,a!=null&&(m.callback=a),r=Ns(i,m,u),r!==null&&(pn(r,i,u),Qa(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var a=wn(),u=Rs(a);u.tag=2,r!=null&&(u.callback=r),r=Ns(i,u,a),r!==null&&(pn(r,i,a),Qa(r,i,a))}};function oy(i,r,a,u,m,_,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,_,A):r.prototype&&r.prototype.isPureReactComponent?!za(a,u)||!za(m,_):!0}function ay(i,r,a,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,u),r.state!==i&&Gf.enqueueReplaceState(r,r.state,null)}function Ur(i,r){var a=r;if("ref"in r){a={};for(var u in r)u!=="ref"&&(a[u]=r[u])}if(i=i.defaultProps){a===r&&(a=S({},a));for(var m in i)a[m]===void 0&&(a[m]=i[m])}return a}function ly(i){Pu(i)}function uy(i){console.error(i)}function cy(i){Pu(i)}function nc(i,r){try{var a=i.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function dy(i,r,a){try{var u=i.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Yf(i,r,a){return a=Rs(a),a.tag=3,a.payload={element:null},a.callback=function(){nc(i,r)},a}function fy(i){return i=Rs(i),i.tag=3,i}function hy(i,r,a,u){var m=a.type.getDerivedStateFromError;if(typeof m=="function"){var _=u.value;i.payload=function(){return m(_)},i.callback=function(){dy(r,a,u)}}var A=a.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(i.callback=function(){dy(r,a,u),typeof m!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function DC(i,r,a,u,m){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=a.alternate,r!==null&&Co(r,a,m,!0),a=Sn.current,a!==null){switch(a.tag){case 31:case 13:return Ln===null?pc():a.alternate===null&&pt===0&&(pt=3),a.flags&=-257,a.flags|=65536,a.lanes=m,u===Bu?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([u]):r.add(u),gh(i,u,m)),!1;case 22:return a.flags|=65536,u===Bu?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([u]):a.add(u)),gh(i,u,m)),!1}throw Error(s(435,a.tag))}return gh(i,u,m),pc(),!1}if(Le)return r=Sn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,u!==cf&&(i=Error(s(422),{cause:u}),Ya(Pn(i,a)))):(u!==cf&&(r=Error(s(423),{cause:u}),Ya(Pn(r,a))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,u=Pn(u,a),m=Yf(i.stateNode,u,m),Tf(i,m),pt!==4&&(pt=2)),!1;var _=Error(s(520),{cause:u});if(_=Pn(_,a),cl===null?cl=[_]:cl.push(_),pt!==4&&(pt=2),r===null)return!0;u=Pn(u,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,i=m&-m,a.lanes|=i,i=Yf(a.stateNode,u,i),Tf(a,i),!1;case 1:if(r=a.type,_=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Vs===null||!Vs.has(_))))return a.flags|=65536,m&=-m,a.lanes|=m,m=fy(m),hy(m,i,a,u),Tf(a,m),!1}a=a.return}while(a!==null);return!1}var Jf=Error(s(461)),It=!1;function Gt(i,r,a,u){r.child=i===null?yg(r,null,a,u):Pr(r,i.child,a,u)}function py(i,r,a,u,m){a=a.render;var _=r.ref;if("ref"in u){var A={};for(var w in u)w!=="ref"&&(A[w]=u[w])}else A=u;return Rr(r),u=bf(i,r,a,A,_,m),w=If(),i!==null&&!It?(Rf(i,r,m),Ji(i,r,m)):(Le&&w&&lf(r),r.flags|=1,Gt(i,r,u,m),r.child)}function my(i,r,a,u,m){if(i===null){var _=a.type;return typeof _=="function"&&!rf(_)&&_.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=_,gy(i,r,_,u,m)):(i=Lu(a.type,null,u,r,r.mode,m),i.ref=r.ref,i.return=r,r.child=i)}if(_=i.child,!eh(i,m)){var A=_.memoizedProps;if(a=a.compare,a=a!==null?a:za,a(A,u)&&i.ref===r.ref)return Ji(i,r,m)}return r.flags|=1,i=Fi(_,u),i.ref=r.ref,i.return=r,r.child=i}function gy(i,r,a,u,m){if(i!==null){var _=i.memoizedProps;if(za(_,u)&&i.ref===r.ref)if(It=!1,r.pendingProps=u=_,eh(i,m))(i.flags&131072)!==0&&(It=!0);else return r.lanes=i.lanes,Ji(i,r,m)}return Kf(i,r,a,u,m)}function yy(i,r,a,u){var m=u.children,_=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(_=_!==null?_.baseLanes|a:a,i!==null){for(u=r.child=i.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;u=m&~_}else u=0,r.child=null;return _y(i,r,_,a,u)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Hu(r,_!==null?_.cachePool:null),_!==null?Eg(r,_):Af(),Tg(r);else return u=r.lanes=536870912,_y(i,r,_!==null?_.baseLanes|a:a,a,u)}else _!==null?(Hu(r,_.cachePool),Eg(r,_),Ds(),r.memoizedState=null):(i!==null&&Hu(r,null),Af(),Ds());return Gt(i,r,m,a),r.child}function il(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function _y(i,r,a,u,m){var _=yf();return _=_===null?null:{parent:wt._currentValue,pool:_},r.memoizedState={baseLanes:a,cachePool:_},i!==null&&Hu(r,null),Af(),Tg(r),i!==null&&Co(i,r,u,!0),r.childLanes=m,null}function ic(i,r){return r=rc({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function vy(i,r,a){return Pr(r,i.child,null,a),i=ic(r,r.pendingProps),i.flags|=2,An(r),r.memoizedState=null,i}function PC(i,r,a){var u=r.pendingProps,m=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Le){if(u.mode==="hidden")return i=ic(r,u),r.lanes=536870912,il(null,i);if(xf(r),(i=it)?(i=M_(i,Vn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Cs!==null?{id:xi,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},a=ng(i),a.return=r,r.child=a,zt=r,it=null)):i=null,i===null)throw ws(r);return r.lanes=536870912,null}return ic(r,u)}var _=i.memoizedState;if(_!==null){var A=_.dehydrated;if(xf(r),m)if(r.flags&256)r.flags&=-257,r=vy(i,r,a);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(It||Co(i,r,a,!1),m=(a&i.childLanes)!==0,It||m){if(u=tt,u!==null&&(A=Ca(u,a),A!==0&&A!==_.retryLane))throw _.retryLane=A,xr(i,A),pn(u,i,A),Jf;pc(),r=vy(i,r,a)}else i=_.treeContext,it=On(A.nextSibling),zt=r,Le=!0,xs=null,Vn=!1,i!==null&&rg(r,i),r=ic(r,u),r.flags|=4096;return r}return i=Fi(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function sc(i,r){var a=r.ref;if(a===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(i===null||i.ref!==a)&&(r.flags|=4194816)}}function Kf(i,r,a,u,m){return Rr(r),a=bf(i,r,a,u,void 0,m),u=If(),i!==null&&!It?(Rf(i,r,m),Ji(i,r,m)):(Le&&u&&lf(r),r.flags|=1,Gt(i,r,a,m),r.child)}function Ey(i,r,a,u,m,_){return Rr(r),r.updateQueue=null,a=Ag(r,u,a,m),Sg(i),u=If(),i!==null&&!It?(Rf(i,r,_),Ji(i,r,_)):(Le&&u&&lf(r),r.flags|=1,Gt(i,r,a,_),r.child)}function Ty(i,r,a,u,m){if(Rr(r),r.stateNode===null){var _=Eo,A=a.contextType;typeof A=="object"&&A!==null&&(_=Bt(A)),_=new a(u,_),r.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Gf,r.stateNode=_,_._reactInternals=r,_=r.stateNode,_.props=u,_.state=r.memoizedState,_.refs={},vf(r),A=a.contextType,_.context=typeof A=="object"&&A!==null?Bt(A):Eo,_.state=r.memoizedState,A=a.getDerivedStateFromProps,typeof A=="function"&&(Bf(r,a,A,u),_.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(A=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),A!==_.state&&Gf.enqueueReplaceState(_,_.state,null),Wa(r,u,_,m),Xa(),_.state=r.memoizedState),typeof _.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){_=r.stateNode;var w=r.memoizedProps,k=Ur(a,w);_.props=k;var B=_.context,X=a.contextType;A=Eo,typeof X=="object"&&X!==null&&(A=Bt(X));var ee=a.getDerivedStateFromProps;X=typeof ee=="function"||typeof _.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,X||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(w||B!==A)&&ay(r,_,u,A),Is=!1;var Y=r.memoizedState;_.state=Y,Wa(r,u,_,m),Xa(),B=r.memoizedState,w||Y!==B||Is?(typeof ee=="function"&&(Bf(r,a,ee,u),B=r.memoizedState),(k=Is||oy(r,a,k,u,Y,B,A))?(X||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=B),_.props=u,_.state=B,_.context=A,u=k):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{_=r.stateNode,Ef(i,r),A=r.memoizedProps,X=Ur(a,A),_.props=X,ee=r.pendingProps,Y=_.context,B=a.contextType,k=Eo,typeof B=="object"&&B!==null&&(k=Bt(B)),w=a.getDerivedStateFromProps,(B=typeof w=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(A!==ee||Y!==k)&&ay(r,_,u,k),Is=!1,Y=r.memoizedState,_.state=Y,Wa(r,u,_,m),Xa();var $=r.memoizedState;A!==ee||Y!==$||Is||i!==null&&i.dependencies!==null&&qu(i.dependencies)?(typeof w=="function"&&(Bf(r,a,w,u),$=r.memoizedState),(X=Is||oy(r,a,X,u,Y,$,k)||i!==null&&i.dependencies!==null&&qu(i.dependencies))?(B||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(u,$,k),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(u,$,k)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||A===i.memoizedProps&&Y===i.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&Y===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=$),_.props=u,_.state=$,_.context=k,u=X):(typeof _.componentDidUpdate!="function"||A===i.memoizedProps&&Y===i.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&Y===i.memoizedState||(r.flags|=1024),u=!1)}return _=u,sc(i,r),u=(r.flags&128)!==0,_||u?(_=r.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:_.render(),r.flags|=1,i!==null&&u?(r.child=Pr(r,i.child,null,m),r.child=Pr(r,null,a,m)):Gt(i,r,a,m),r.memoizedState=_.state,i=r.child):i=Ji(i,r,m),i}function Sy(i,r,a,u){return br(),r.flags|=256,Gt(i,r,a,u),r.child}var $f={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jf(i){return{baseLanes:i,cachePool:dg()}}function Qf(i,r,a){return i=i!==null?i.childLanes&~a:0,r&&(i|=xn),i}function Ay(i,r,a){var u=r.pendingProps,m=!1,_=(r.flags&128)!==0,A;if((A=_)||(A=i!==null&&i.memoizedState===null?!1:(_t.current&2)!==0),A&&(m=!0,r.flags&=-129),A=(r.flags&32)!==0,r.flags&=-33,i===null){if(Le){if(m?Ms(r):Ds(),(i=it)?(i=M_(i,Vn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Cs!==null?{id:xi,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},a=ng(i),a.return=r,r.child=a,zt=r,it=null)):i=null,i===null)throw ws(r);return Dh(i)?r.lanes=32:r.lanes=536870912,null}var w=u.children;return u=u.fallback,m?(Ds(),m=r.mode,w=rc({mode:"hidden",children:w},m),u=wr(u,m,a,null),w.return=r,u.return=r,w.sibling=u,r.child=w,u=r.child,u.memoizedState=jf(a),u.childLanes=Qf(i,A,a),r.memoizedState=$f,il(null,u)):(Ms(r),Xf(r,w))}var k=i.memoizedState;if(k!==null&&(w=k.dehydrated,w!==null)){if(_)r.flags&256?(Ms(r),r.flags&=-257,r=Wf(i,r,a)):r.memoizedState!==null?(Ds(),r.child=i.child,r.flags|=128,r=null):(Ds(),w=u.fallback,m=r.mode,u=rc({mode:"visible",children:u.children},m),w=wr(w,m,a,null),w.flags|=2,u.return=r,w.return=r,u.sibling=w,r.child=u,Pr(r,i.child,null,a),u=r.child,u.memoizedState=jf(a),u.childLanes=Qf(i,A,a),r.memoizedState=$f,r=il(null,u));else if(Ms(r),Dh(w)){if(A=w.nextSibling&&w.nextSibling.dataset,A)var B=A.dgst;A=B,u=Error(s(419)),u.stack="",u.digest=A,Ya({value:u,source:null,stack:null}),r=Wf(i,r,a)}else if(It||Co(i,r,a,!1),A=(a&i.childLanes)!==0,It||A){if(A=tt,A!==null&&(u=Ca(A,a),u!==0&&u!==k.retryLane))throw k.retryLane=u,xr(i,u),pn(A,i,u),Jf;Mh(w)||pc(),r=Wf(i,r,a)}else Mh(w)?(r.flags|=192,r.child=i.child,r=null):(i=k.treeContext,it=On(w.nextSibling),zt=r,Le=!0,xs=null,Vn=!1,i!==null&&rg(r,i),r=Xf(r,u.children),r.flags|=4096);return r}return m?(Ds(),w=u.fallback,m=r.mode,k=i.child,B=k.sibling,u=Fi(k,{mode:"hidden",children:u.children}),u.subtreeFlags=k.subtreeFlags&65011712,B!==null?w=Fi(B,w):(w=wr(w,m,a,null),w.flags|=2),w.return=r,u.return=r,u.sibling=w,r.child=u,il(null,u),u=r.child,w=i.child.memoizedState,w===null?w=jf(a):(m=w.cachePool,m!==null?(k=wt._currentValue,m=m.parent!==k?{parent:k,pool:k}:m):m=dg(),w={baseLanes:w.baseLanes|a,cachePool:m}),u.memoizedState=w,u.childLanes=Qf(i,A,a),r.memoizedState=$f,il(i.child,u)):(Ms(r),a=i.child,i=a.sibling,a=Fi(a,{mode:"visible",children:u.children}),a.return=r,a.sibling=null,i!==null&&(A=r.deletions,A===null?(r.deletions=[i],r.flags|=16):A.push(i)),r.child=a,r.memoizedState=null,a)}function Xf(i,r){return r=rc({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function rc(i,r){return i=Tn(22,i,null,r),i.lanes=0,i}function Wf(i,r,a){return Pr(r,i.child,null,a),i=Xf(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function Cy(i,r,a){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),hf(i.return,r,a)}function Zf(i,r,a,u,m,_){var A=i.memoizedState;A===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:m,treeForkCount:_}:(A.isBackwards=r,A.rendering=null,A.renderingStartTime=0,A.last=u,A.tail=a,A.tailMode=m,A.treeForkCount=_)}function xy(i,r,a){var u=r.pendingProps,m=u.revealOrder,_=u.tail;u=u.children;var A=_t.current,w=(A&2)!==0;if(w?(A=A&1|2,r.flags|=128):A&=1,ue(_t,A),Gt(i,r,u,a),u=Le?Ga:0,!w&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Cy(i,a,r);else if(i.tag===19)Cy(i,a,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(m){case"forwards":for(a=r.child,m=null;a!==null;)i=a.alternate,i!==null&&Ku(i)===null&&(m=a),a=a.sibling;a=m,a===null?(m=r.child,r.child=null):(m=a.sibling,a.sibling=null),Zf(r,!1,m,a,_,u);break;case"backwards":case"unstable_legacy-backwards":for(a=null,m=r.child,r.child=null;m!==null;){if(i=m.alternate,i!==null&&Ku(i)===null){r.child=m;break}i=m.sibling,m.sibling=a,a=m,m=i}Zf(r,!0,a,null,_,u);break;case"together":Zf(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function Ji(i,r,a){if(i!==null&&(r.dependencies=i.dependencies),Us|=r.lanes,(a&r.childLanes)===0)if(i!==null){if(Co(i,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,a=Fi(i,i.pendingProps),r.child=a,a.return=r;i.sibling!==null;)i=i.sibling,a=a.sibling=Fi(i,i.pendingProps),a.return=r;a.sibling=null}return r.child}function eh(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&qu(i)))}function kC(i,r,a){switch(r.tag){case 3:Dt(r,r.stateNode.containerInfo),bs(r,wt,i.memoizedState.cache),br();break;case 27:case 5:ar(r);break;case 4:Dt(r,r.stateNode.containerInfo);break;case 10:bs(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,xf(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Ms(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Ay(i,r,a):(Ms(r),i=Ji(i,r,a),i!==null?i.sibling:null);Ms(r);break;case 19:var m=(i.flags&128)!==0;if(u=(a&r.childLanes)!==0,u||(Co(i,r,a,!1),u=(a&r.childLanes)!==0),m){if(u)return xy(i,r,a);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ue(_t,_t.current),u)break;return null;case 22:return r.lanes=0,yy(i,r,a,r.pendingProps);case 24:bs(r,wt,i.memoizedState.cache)}return Ji(i,r,a)}function wy(i,r,a){if(i!==null)if(i.memoizedProps!==r.pendingProps)It=!0;else{if(!eh(i,a)&&(r.flags&128)===0)return It=!1,kC(i,r,a);It=(i.flags&131072)!==0}else It=!1,Le&&(r.flags&1048576)!==0&&sg(r,Ga,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(i=Mr(r.elementType),r.type=i,typeof i=="function")rf(i)?(u=Ur(i,u),r.tag=1,r=Ty(null,r,i,u,a)):(r.tag=0,r=Kf(null,r,i,u,a));else{if(i!=null){var m=i.$$typeof;if(m===re){r.tag=11,r=py(null,r,i,u,a);break e}else if(m===M){r.tag=14,r=my(null,r,i,u,a);break e}}throw r=be(i)||i,Error(s(306,r,""))}}return r;case 0:return Kf(i,r,r.type,r.pendingProps,a);case 1:return u=r.type,m=Ur(u,r.pendingProps),Ty(i,r,u,m,a);case 3:e:{if(Dt(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var _=r.memoizedState;m=_.element,Ef(i,r),Wa(r,u,null,a);var A=r.memoizedState;if(u=A.cache,bs(r,wt,u),u!==_.cache&&pf(r,[wt],a,!0),Xa(),u=A.element,_.isDehydrated)if(_={element:u,isDehydrated:!1,cache:A.cache},r.updateQueue.baseState=_,r.memoizedState=_,r.flags&256){r=Sy(i,r,u,a);break e}else if(u!==m){m=Pn(Error(s(424)),r),Ya(m),r=Sy(i,r,u,a);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(it=On(i.firstChild),zt=r,Le=!0,xs=null,Vn=!0,a=yg(r,null,u,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(br(),u===m){r=Ji(i,r,a);break e}Gt(i,r,u,a)}r=r.child}return r;case 26:return sc(i,r),i===null?(a=L_(r.type,null,r.pendingProps,null))?r.memoizedState=a:Le||(a=r.type,i=r.pendingProps,u=Tc(Ie.current).createElement(a),u[At]=r,u[Ut]=i,Yt(u,a,i),Ct(u),r.stateNode=u):r.memoizedState=L_(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return ar(r),i===null&&Le&&(u=r.stateNode=k_(r.type,r.pendingProps,Ie.current),zt=r,Vn=!0,m=it,Fs(r.type)?(Ph=m,it=On(u.firstChild)):it=m),Gt(i,r,r.pendingProps.children,a),sc(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Le&&((m=u=it)&&(u=cx(u,r.type,r.pendingProps,Vn),u!==null?(r.stateNode=u,zt=r,it=On(u.firstChild),Vn=!1,m=!0):m=!1),m||ws(r)),ar(r),m=r.type,_=r.pendingProps,A=i!==null?i.memoizedProps:null,u=_.children,Ih(m,_)?u=null:A!==null&&Ih(m,A)&&(r.flags|=32),r.memoizedState!==null&&(m=bf(i,r,xC,null,null,a),_l._currentValue=m),sc(i,r),Gt(i,r,u,a),r.child;case 6:return i===null&&Le&&((i=a=it)&&(a=dx(a,r.pendingProps,Vn),a!==null?(r.stateNode=a,zt=r,it=null,i=!0):i=!1),i||ws(r)),null;case 13:return Ay(i,r,a);case 4:return Dt(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=Pr(r,null,u,a):Gt(i,r,u,a),r.child;case 11:return py(i,r,r.type,r.pendingProps,a);case 7:return Gt(i,r,r.pendingProps,a),r.child;case 8:return Gt(i,r,r.pendingProps.children,a),r.child;case 12:return Gt(i,r,r.pendingProps.children,a),r.child;case 10:return u=r.pendingProps,bs(r,r.type,u.value),Gt(i,r,u.children,a),r.child;case 9:return m=r.type._context,u=r.pendingProps.children,Rr(r),m=Bt(m),u=u(m),r.flags|=1,Gt(i,r,u,a),r.child;case 14:return my(i,r,r.type,r.pendingProps,a);case 15:return gy(i,r,r.type,r.pendingProps,a);case 19:return xy(i,r,a);case 31:return PC(i,r,a);case 22:return yy(i,r,a,r.pendingProps);case 24:return Rr(r),u=Bt(wt),i===null?(m=yf(),m===null&&(m=tt,_=mf(),m.pooledCache=_,_.refCount++,_!==null&&(m.pooledCacheLanes|=a),m=_),r.memoizedState={parent:u,cache:m},vf(r),bs(r,wt,m)):((i.lanes&a)!==0&&(Ef(i,r),Wa(r,null,null,a),Xa()),m=i.memoizedState,_=r.memoizedState,m.parent!==u?(m={parent:u,cache:u},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),bs(r,wt,u)):(u=_.cache,bs(r,wt,u),u!==m.cache&&pf(r,[wt],a,!0))),Gt(i,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Ki(i){i.flags|=4}function th(i,r,a,u,m){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(m&335544128)===m)if(i.stateNode.complete)i.flags|=8192;else if(Zy())i.flags|=8192;else throw Dr=Bu,_f}else i.flags&=-16777217}function by(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!z_(r))if(Zy())i.flags|=8192;else throw Dr=Bu,_f}function oc(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?fu():536870912,i.lanes|=r,Vo|=r)}function sl(i,r){if(!Le)switch(i.tailMode){case"hidden":r=i.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function st(i){var r=i.alternate!==null&&i.alternate.child===i.child,a=0,u=0;if(r)for(var m=i.child;m!==null;)a|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)a|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=u,i.childLanes=a,r}function UC(i,r,a){var u=r.pendingProps;switch(uf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(r),null;case 1:return st(r),null;case 3:return a=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Bi(wt),ot(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(Ao(r)?Ki(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,df())),st(r),null;case 26:var m=r.type,_=r.memoizedState;return i===null?(Ki(r),_!==null?(st(r),by(r,_)):(st(r),th(r,m,null,u,a))):_?_!==i.memoizedState?(Ki(r),st(r),by(r,_)):(st(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&Ki(r),st(r),th(r,m,i,u,a)),null;case 27:if(eo(r),a=Ie.current,m=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&Ki(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return st(r),null}i=fe.current,Ao(r)?og(r):(i=k_(m,u,a),r.stateNode=i,Ki(r))}return st(r),null;case 5:if(eo(r),m=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&Ki(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return st(r),null}if(_=fe.current,Ao(r))og(r);else{var A=Tc(Ie.current);switch(_){case 1:_=A.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:_=A.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":_=A.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":_=A.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":_=A.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof u.is=="string"?A.createElement("select",{is:u.is}):A.createElement("select"),u.multiple?_.multiple=!0:u.size&&(_.size=u.size);break;default:_=typeof u.is=="string"?A.createElement(m,{is:u.is}):A.createElement(m)}}_[At]=r,_[Ut]=u;e:for(A=r.child;A!==null;){if(A.tag===5||A.tag===6)_.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===r)break e;for(;A.sibling===null;){if(A.return===null||A.return===r)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}r.stateNode=_;e:switch(Yt(_,m,u),m){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Ki(r)}}return st(r),th(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,a),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&Ki(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=Ie.current,Ao(r)){if(i=r.stateNode,a=r.memoizedProps,u=null,m=zt,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}i[At]=r,i=!!(i.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||A_(i.nodeValue,a)),i||ws(r,!0)}else i=Tc(i).createTextNode(u),i[At]=r,r.stateNode=i}return st(r),null;case 31:if(a=r.memoizedState,i===null||i.memoizedState!==null){if(u=Ao(r),a!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[At]=r}else br(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;st(r),i=!1}else a=df(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=a),i=!0;if(!i)return r.flags&256?(An(r),r):(An(r),null);if((r.flags&128)!==0)throw Error(s(558))}return st(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=Ao(r),u!==null&&u.dehydrated!==null){if(i===null){if(!m)throw Error(s(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[At]=r}else br(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;st(r),m=!1}else m=df(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(An(r),r):(An(r),null)}return An(r),(r.flags&128)!==0?(r.lanes=a,r):(a=u!==null,i=i!==null&&i.memoizedState!==null,a&&(u=r.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool),_=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(_=u.memoizedState.cachePool.pool),_!==m&&(u.flags|=2048)),a!==i&&a&&(r.child.flags|=8192),oc(r,r.updateQueue),st(r),null);case 4:return ot(),i===null&&Ah(r.stateNode.containerInfo),st(r),null;case 10:return Bi(r.type),st(r),null;case 19:if(te(_t),u=r.memoizedState,u===null)return st(r),null;if(m=(r.flags&128)!==0,_=u.rendering,_===null)if(m)sl(u,!1);else{if(pt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(_=Ku(i),_!==null){for(r.flags|=128,sl(u,!1),i=_.updateQueue,r.updateQueue=i,oc(r,i),r.subtreeFlags=0,i=a,a=r.child;a!==null;)tg(a,i),a=a.sibling;return ue(_t,_t.current&1|2),Le&&Hi(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&rn()>dc&&(r.flags|=128,m=!0,sl(u,!1),r.lanes=4194304)}else{if(!m)if(i=Ku(_),i!==null){if(r.flags|=128,m=!0,i=i.updateQueue,r.updateQueue=i,oc(r,i),sl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!_.alternate&&!Le)return st(r),null}else 2*rn()-u.renderingStartTime>dc&&a!==536870912&&(r.flags|=128,m=!0,sl(u,!1),r.lanes=4194304);u.isBackwards?(_.sibling=r.child,r.child=_):(i=u.last,i!==null?i.sibling=_:r.child=_,u.last=_)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=rn(),i.sibling=null,a=_t.current,ue(_t,m?a&1|2:a&1),Le&&Hi(r,u.treeForkCount),i):(st(r),null);case 22:case 23:return An(r),Cf(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(a&536870912)!==0&&(r.flags&128)===0&&(st(r),r.subtreeFlags&6&&(r.flags|=8192)):st(r),a=r.updateQueue,a!==null&&oc(r,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==a&&(r.flags|=2048),i!==null&&te(Nr),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Bi(wt),st(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function VC(i,r){switch(uf(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Bi(wt),ot(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return eo(r),null;case 31:if(r.memoizedState!==null){if(An(r),r.alternate===null)throw Error(s(340));br()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(An(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));br()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return te(_t),null;case 4:return ot(),null;case 10:return Bi(r.type),null;case 22:case 23:return An(r),Cf(),i!==null&&te(Nr),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Bi(wt),null;case 25:return null;default:return null}}function Iy(i,r){switch(uf(r),r.tag){case 3:Bi(wt),ot();break;case 26:case 27:case 5:eo(r);break;case 4:ot();break;case 31:r.memoizedState!==null&&An(r);break;case 13:An(r);break;case 19:te(_t);break;case 10:Bi(r.type);break;case 22:case 23:An(r),Cf(),i!==null&&te(Nr);break;case 24:Bi(wt)}}function rl(i,r){try{var a=r.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var m=u.next;a=m;do{if((a.tag&i)===i){u=void 0;var _=a.create,A=a.inst;u=_(),A.destroy=u}a=a.next}while(a!==m)}}catch(w){Qe(r,r.return,w)}}function Ps(i,r,a){try{var u=r.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var _=m.next;u=_;do{if((u.tag&i)===i){var A=u.inst,w=A.destroy;if(w!==void 0){A.destroy=void 0,m=r;var k=a,B=w;try{B()}catch(X){Qe(m,k,X)}}}u=u.next}while(u!==_)}}catch(X){Qe(r,r.return,X)}}function Ry(i){var r=i.updateQueue;if(r!==null){var a=i.stateNode;try{vg(r,a)}catch(u){Qe(i,i.return,u)}}}function Ny(i,r,a){a.props=Ur(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(u){Qe(i,r,u)}}function ol(i,r){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof a=="function"?i.refCleanup=a(u):a.current=u}}catch(m){Qe(i,r,m)}}function bi(i,r){var a=i.ref,u=i.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(m){Qe(i,r,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(m){Qe(i,r,m)}else a.current=null}function My(i){var r=i.type,a=i.memoizedProps,u=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(m){Qe(i,i.return,m)}}function nh(i,r,a){try{var u=i.stateNode;sx(u,i.type,a,r),u[Ut]=r}catch(m){Qe(i,i.return,m)}}function Dy(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Fs(i.type)||i.tag===4}function ih(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Dy(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Fs(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function sh(i,r,a){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(i),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Jn));else if(u!==4&&(u===27&&Fs(i.type)&&(a=i.stateNode,r=null),i=i.child,i!==null))for(sh(i,r,a),i=i.sibling;i!==null;)sh(i,r,a),i=i.sibling}function ac(i,r,a){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?a.insertBefore(i,r):a.appendChild(i);else if(u!==4&&(u===27&&Fs(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(ac(i,r,a),i=i.sibling;i!==null;)ac(i,r,a),i=i.sibling}function Py(i){var r=i.stateNode,a=i.memoizedProps;try{for(var u=i.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);Yt(r,u,a),r[At]=i,r[Ut]=a}catch(_){Qe(i,i.return,_)}}var $i=!1,Rt=!1,rh=!1,ky=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function LC(i,r){if(i=i.containerInfo,wh=Ic,i=Jm(i),Xd(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else e:{a=(a=i.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var m=u.anchorOffset,_=u.focusNode;u=u.focusOffset;try{a.nodeType,_.nodeType}catch{a=null;break e}var A=0,w=-1,k=-1,B=0,X=0,ee=i,Y=null;t:for(;;){for(var $;ee!==a||m!==0&&ee.nodeType!==3||(w=A+m),ee!==_||u!==0&&ee.nodeType!==3||(k=A+u),ee.nodeType===3&&(A+=ee.nodeValue.length),($=ee.firstChild)!==null;)Y=ee,ee=$;for(;;){if(ee===i)break t;if(Y===a&&++B===m&&(w=A),Y===_&&++X===u&&(k=A),($=ee.nextSibling)!==null)break;ee=Y,Y=ee.parentNode}ee=$}a=w===-1||k===-1?null:{start:w,end:k}}else a=null}a=a||{start:0,end:0}}else a=null;for(bh={focusedElem:i,selectionRange:a},Ic=!1,Lt=r;Lt!==null;)if(r=Lt,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Lt=i;else for(;Lt!==null;){switch(r=Lt,_=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(a=0;a<i.length;a++)m=i[a],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&_!==null){i=void 0,a=r,m=_.memoizedProps,_=_.memoizedState,u=a.stateNode;try{var he=Ur(a.type,m);i=u.getSnapshotBeforeUpdate(he,_),u.__reactInternalSnapshotBeforeUpdate=i}catch(ve){Qe(a,a.return,ve)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,a=i.nodeType,a===9)Nh(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Nh(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Lt=i;break}Lt=r.return}}function Uy(i,r,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:Qi(i,a),u&4&&rl(5,a);break;case 1:if(Qi(i,a),u&4)if(i=a.stateNode,r===null)try{i.componentDidMount()}catch(A){Qe(a,a.return,A)}else{var m=Ur(a.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(m,r,i.__reactInternalSnapshotBeforeUpdate)}catch(A){Qe(a,a.return,A)}}u&64&&Ry(a),u&512&&ol(a,a.return);break;case 3:if(Qi(i,a),u&64&&(i=a.updateQueue,i!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{vg(i,r)}catch(A){Qe(a,a.return,A)}}break;case 27:r===null&&u&4&&Py(a);case 26:case 5:Qi(i,a),r===null&&u&4&&My(a),u&512&&ol(a,a.return);break;case 12:Qi(i,a);break;case 31:Qi(i,a),u&4&&Oy(i,a);break;case 13:Qi(i,a),u&4&&qy(i,a),u&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=JC.bind(null,a),fx(i,a))));break;case 22:if(u=a.memoizedState!==null||$i,!u){r=r!==null&&r.memoizedState!==null||Rt,m=$i;var _=Rt;$i=u,(Rt=r)&&!_?Xi(i,a,(a.subtreeFlags&8772)!==0):Qi(i,a),$i=m,Rt=_}break;case 30:break;default:Qi(i,a)}}function Vy(i){var r=i.alternate;r!==null&&(i.alternate=null,Vy(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&ro(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var lt=null,cn=!1;function ji(i,r,a){for(a=a.child;a!==null;)Ly(i,r,a),a=a.sibling}function Ly(i,r,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(zn,a)}catch{}switch(a.tag){case 26:Rt||bi(a,r),ji(i,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Rt||bi(a,r);var u=lt,m=cn;Fs(a.type)&&(lt=a.stateNode,cn=!1),ji(i,r,a),ml(a.stateNode),lt=u,cn=m;break;case 5:Rt||bi(a,r);case 6:if(u=lt,m=cn,lt=null,ji(i,r,a),lt=u,cn=m,lt!==null)if(cn)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(_){Qe(a,r,_)}else try{lt.removeChild(a.stateNode)}catch(_){Qe(a,r,_)}break;case 18:lt!==null&&(cn?(i=lt,R_(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),Go(i)):R_(lt,a.stateNode));break;case 4:u=lt,m=cn,lt=a.stateNode.containerInfo,cn=!0,ji(i,r,a),lt=u,cn=m;break;case 0:case 11:case 14:case 15:Ps(2,a,r),Rt||Ps(4,a,r),ji(i,r,a);break;case 1:Rt||(bi(a,r),u=a.stateNode,typeof u.componentWillUnmount=="function"&&Ny(a,r,u)),ji(i,r,a);break;case 21:ji(i,r,a);break;case 22:Rt=(u=Rt)||a.memoizedState!==null,ji(i,r,a),Rt=u;break;default:ji(i,r,a)}}function Oy(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Go(i)}catch(a){Qe(r,r.return,a)}}}function qy(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Go(i)}catch(a){Qe(r,r.return,a)}}function OC(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new ky),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new ky),r;default:throw Error(s(435,i.tag))}}function lc(i,r){var a=OC(i);r.forEach(function(u){if(!a.has(u)){a.add(u);var m=KC.bind(null,i,u);u.then(m,m)}})}function dn(i,r){var a=r.deletions;if(a!==null)for(var u=0;u<a.length;u++){var m=a[u],_=i,A=r,w=A;e:for(;w!==null;){switch(w.tag){case 27:if(Fs(w.type)){lt=w.stateNode,cn=!1;break e}break;case 5:lt=w.stateNode,cn=!1;break e;case 3:case 4:lt=w.stateNode.containerInfo,cn=!0;break e}w=w.return}if(lt===null)throw Error(s(160));Ly(_,A,m),lt=null,cn=!1,_=m.alternate,_!==null&&(_.return=null),m.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Fy(r,i),r=r.sibling}var Wn=null;function Fy(i,r){var a=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:dn(r,i),fn(i),u&4&&(Ps(3,i,i.return),rl(3,i),Ps(5,i,i.return));break;case 1:dn(r,i),fn(i),u&512&&(Rt||a===null||bi(a,a.return)),u&64&&$i&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var m=Wn;if(dn(r,i),fn(i),u&512&&(Rt||a===null||bi(a,a.return)),u&4){var _=a!==null?a.memoizedState:null;if(u=i.memoizedState,a===null)if(u===null)if(i.stateNode===null){e:{u=i.type,a=i.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":_=m.getElementsByTagName("title")[0],(!_||_[hi]||_[At]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=m.createElement(u),m.head.insertBefore(_,m.querySelector("head > title"))),Yt(_,u,a),_[At]=i,Ct(_),u=_;break e;case"link":var A=F_("link","href",m).get(u+(a.href||""));if(A){for(var w=0;w<A.length;w++)if(_=A[w],_.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&_.getAttribute("rel")===(a.rel==null?null:a.rel)&&_.getAttribute("title")===(a.title==null?null:a.title)&&_.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){A.splice(w,1);break t}}_=m.createElement(u),Yt(_,u,a),m.head.appendChild(_);break;case"meta":if(A=F_("meta","content",m).get(u+(a.content||""))){for(w=0;w<A.length;w++)if(_=A[w],_.getAttribute("content")===(a.content==null?null:""+a.content)&&_.getAttribute("name")===(a.name==null?null:a.name)&&_.getAttribute("property")===(a.property==null?null:a.property)&&_.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&_.getAttribute("charset")===(a.charSet==null?null:a.charSet)){A.splice(w,1);break t}}_=m.createElement(u),Yt(_,u,a),m.head.appendChild(_);break;default:throw Error(s(468,u))}_[At]=i,Ct(_),u=_}i.stateNode=u}else H_(m,i.type,i.stateNode);else i.stateNode=q_(m,u,i.memoizedProps);else _!==u?(_===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):_.count--,u===null?H_(m,i.type,i.stateNode):q_(m,u,i.memoizedProps)):u===null&&i.stateNode!==null&&nh(i,i.memoizedProps,a.memoizedProps)}break;case 27:dn(r,i),fn(i),u&512&&(Rt||a===null||bi(a,a.return)),a!==null&&u&4&&nh(i,i.memoizedProps,a.memoizedProps);break;case 5:if(dn(r,i),fn(i),u&512&&(Rt||a===null||bi(a,a.return)),i.flags&32){m=i.stateNode;try{un(m,"")}catch(he){Qe(i,i.return,he)}}u&4&&i.stateNode!=null&&(m=i.memoizedProps,nh(i,m,a!==null?a.memoizedProps:m)),u&1024&&(rh=!0);break;case 6:if(dn(r,i),fn(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,a=i.stateNode;try{a.nodeValue=u}catch(he){Qe(i,i.return,he)}}break;case 3:if(Cc=null,m=Wn,Wn=Sc(r.containerInfo),dn(r,i),Wn=m,fn(i),u&4&&a!==null&&a.memoizedState.isDehydrated)try{Go(r.containerInfo)}catch(he){Qe(i,i.return,he)}rh&&(rh=!1,Hy(i));break;case 4:u=Wn,Wn=Sc(i.stateNode.containerInfo),dn(r,i),fn(i),Wn=u;break;case 12:dn(r,i),fn(i);break;case 31:dn(r,i),fn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,lc(i,u)));break;case 13:dn(r,i),fn(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(cc=rn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,lc(i,u)));break;case 22:m=i.memoizedState!==null;var k=a!==null&&a.memoizedState!==null,B=$i,X=Rt;if($i=B||m,Rt=X||k,dn(r,i),Rt=X,$i=B,fn(i),u&8192)e:for(r=i.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(a===null||k||$i||Rt||Vr(i)),a=null,r=i;;){if(r.tag===5||r.tag===26){if(a===null){k=a=r;try{if(_=k.stateNode,m)A=_.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{w=k.stateNode;var ee=k.memoizedProps.style,Y=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;w.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(he){Qe(k,k.return,he)}}}else if(r.tag===6){if(a===null){k=r;try{k.stateNode.nodeValue=m?"":k.memoizedProps}catch(he){Qe(k,k.return,he)}}}else if(r.tag===18){if(a===null){k=r;try{var $=k.stateNode;m?N_($,!0):N_(k.stateNode,!1)}catch(he){Qe(k,k.return,he)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,lc(i,a))));break;case 19:dn(r,i),fn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,lc(i,u)));break;case 30:break;case 21:break;default:dn(r,i),fn(i)}}function fn(i){var r=i.flags;if(r&2){try{for(var a,u=i.return;u!==null;){if(Dy(u)){a=u;break}u=u.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var m=a.stateNode,_=ih(i);ac(i,_,m);break;case 5:var A=a.stateNode;a.flags&32&&(un(A,""),a.flags&=-33);var w=ih(i);ac(i,w,A);break;case 3:case 4:var k=a.stateNode.containerInfo,B=ih(i);sh(i,B,k);break;default:throw Error(s(161))}}catch(X){Qe(i,i.return,X)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function Hy(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;Hy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Qi(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Uy(i,r.alternate,r),r=r.sibling}function Vr(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Ps(4,r,r.return),Vr(r);break;case 1:bi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Ny(r,r.return,a),Vr(r);break;case 27:ml(r.stateNode);case 26:case 5:bi(r,r.return),Vr(r);break;case 22:r.memoizedState===null&&Vr(r);break;case 30:Vr(r);break;default:Vr(r)}i=i.sibling}}function Xi(i,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,m=i,_=r,A=_.flags;switch(_.tag){case 0:case 11:case 15:Xi(m,_,a),rl(4,_);break;case 1:if(Xi(m,_,a),u=_,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(B){Qe(u,u.return,B)}if(u=_,m=u.updateQueue,m!==null){var w=u.stateNode;try{var k=m.shared.hiddenCallbacks;if(k!==null)for(m.shared.hiddenCallbacks=null,m=0;m<k.length;m++)_g(k[m],w)}catch(B){Qe(u,u.return,B)}}a&&A&64&&Ry(_),ol(_,_.return);break;case 27:Py(_);case 26:case 5:Xi(m,_,a),a&&u===null&&A&4&&My(_),ol(_,_.return);break;case 12:Xi(m,_,a);break;case 31:Xi(m,_,a),a&&A&4&&Oy(m,_);break;case 13:Xi(m,_,a),a&&A&4&&qy(m,_);break;case 22:_.memoizedState===null&&Xi(m,_,a),ol(_,_.return);break;case 30:break;default:Xi(m,_,a)}r=r.sibling}}function oh(i,r){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&Ja(a))}function ah(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Ja(i))}function Zn(i,r,a,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)zy(i,r,a,u),r=r.sibling}function zy(i,r,a,u){var m=r.flags;switch(r.tag){case 0:case 11:case 15:Zn(i,r,a,u),m&2048&&rl(9,r);break;case 1:Zn(i,r,a,u);break;case 3:Zn(i,r,a,u),m&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Ja(i)));break;case 12:if(m&2048){Zn(i,r,a,u),i=r.stateNode;try{var _=r.memoizedProps,A=_.id,w=_.onPostCommit;typeof w=="function"&&w(A,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(k){Qe(r,r.return,k)}}else Zn(i,r,a,u);break;case 31:Zn(i,r,a,u);break;case 13:Zn(i,r,a,u);break;case 23:break;case 22:_=r.stateNode,A=r.alternate,r.memoizedState!==null?_._visibility&2?Zn(i,r,a,u):al(i,r):_._visibility&2?Zn(i,r,a,u):(_._visibility|=2,Po(i,r,a,u,(r.subtreeFlags&10256)!==0||!1)),m&2048&&oh(A,r);break;case 24:Zn(i,r,a,u),m&2048&&ah(r.alternate,r);break;default:Zn(i,r,a,u)}}function Po(i,r,a,u,m){for(m=m&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var _=i,A=r,w=a,k=u,B=A.flags;switch(A.tag){case 0:case 11:case 15:Po(_,A,w,k,m),rl(8,A);break;case 23:break;case 22:var X=A.stateNode;A.memoizedState!==null?X._visibility&2?Po(_,A,w,k,m):al(_,A):(X._visibility|=2,Po(_,A,w,k,m)),m&&B&2048&&oh(A.alternate,A);break;case 24:Po(_,A,w,k,m),m&&B&2048&&ah(A.alternate,A);break;default:Po(_,A,w,k,m)}r=r.sibling}}function al(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=i,u=r,m=u.flags;switch(u.tag){case 22:al(a,u),m&2048&&oh(u.alternate,u);break;case 24:al(a,u),m&2048&&ah(u.alternate,u);break;default:al(a,u)}r=r.sibling}}var ll=8192;function ko(i,r,a){if(i.subtreeFlags&ll)for(i=i.child;i!==null;)By(i,r,a),i=i.sibling}function By(i,r,a){switch(i.tag){case 26:ko(i,r,a),i.flags&ll&&i.memoizedState!==null&&Cx(a,Wn,i.memoizedState,i.memoizedProps);break;case 5:ko(i,r,a);break;case 3:case 4:var u=Wn;Wn=Sc(i.stateNode.containerInfo),ko(i,r,a),Wn=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=ll,ll=16777216,ko(i,r,a),ll=u):ko(i,r,a));break;default:ko(i,r,a)}}function Gy(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function ul(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];Lt=u,Jy(u,i)}Gy(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Yy(i),i=i.sibling}function Yy(i){switch(i.tag){case 0:case 11:case 15:ul(i),i.flags&2048&&Ps(9,i,i.return);break;case 3:ul(i);break;case 12:ul(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,uc(i)):ul(i);break;default:ul(i)}}function uc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];Lt=u,Jy(u,i)}Gy(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Ps(8,r,r.return),uc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,uc(r));break;default:uc(r)}i=i.sibling}}function Jy(i,r){for(;Lt!==null;){var a=Lt;switch(a.tag){case 0:case 11:case 15:Ps(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ja(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,Lt=u;else e:for(a=i;Lt!==null;){u=Lt;var m=u.sibling,_=u.return;if(Vy(u),u===a){Lt=null;break e}if(m!==null){m.return=_,Lt=m;break e}Lt=_}}}var qC={getCacheForType:function(i){var r=Bt(wt),a=r.data.get(i);return a===void 0&&(a=i(),r.data.set(i,a)),a},cacheSignal:function(){return Bt(wt).controller.signal}},FC=typeof WeakMap=="function"?WeakMap:Map,Ye=0,tt=null,De=null,ke=0,je=0,Cn=null,ks=!1,Uo=!1,lh=!1,Wi=0,pt=0,Us=0,Lr=0,uh=0,xn=0,Vo=0,cl=null,hn=null,ch=!1,cc=0,Ky=0,dc=1/0,fc=null,Vs=null,kt=0,Ls=null,Lo=null,Zi=0,dh=0,fh=null,$y=null,dl=0,hh=null;function wn(){return(Ye&2)!==0&&ke!==0?ke&-ke:Q.T!==null?vh():hu()}function jy(){if(xn===0)if((ke&536870912)===0||Le){var i=cr;cr<<=1,(cr&3932160)===0&&(cr=262144),xn=i}else xn=536870912;return i=Sn.current,i!==null&&(i.flags|=32),xn}function pn(i,r,a){(i===tt&&(je===2||je===9)||i.cancelPendingCommit!==null)&&(Oo(i,0),Os(i,ke,xn,!1)),dr(i,a),((Ye&2)===0||i!==tt)&&(i===tt&&((Ye&2)===0&&(Lr|=a),pt===4&&Os(i,ke,xn,!1)),Ii(i))}function Qy(i,r,a){if((Ye&6)!==0)throw Error(s(327));var u=!a&&(r&127)===0&&(r&i.expiredLanes)===0||Bn(i,r),m=u?BC(i,r):mh(i,r,!0),_=u;do{if(m===0){Uo&&!u&&Os(i,r,0,!1);break}else{if(a=i.current.alternate,_&&!HC(a)){m=mh(i,r,!1),_=!1;continue}if(m===2){if(_=r,i.errorRecoveryDisabledLanes&_)var A=0;else A=i.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){r=A;e:{var w=i;m=cl;var k=w.current.memoizedState.isDehydrated;if(k&&(Oo(w,A).flags|=256),A=mh(w,A,!1),A!==2){if(lh&&!k){w.errorRecoveryDisabledLanes|=_,Lr|=_,m=4;break e}_=hn,hn=m,_!==null&&(hn===null?hn=_:hn.push.apply(hn,_))}m=A}if(_=!1,m!==2)continue}}if(m===1){Oo(i,0),Os(i,r,0,!0);break}e:{switch(u=i,_=m,_){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Os(u,r,xn,!ks);break e;case 2:hn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(m=cc+300-rn(),10<m)){if(Os(u,r,xn,!ks),ci(u,0,!0)!==0)break e;Zi=r,u.timeoutHandle=b_(Xy.bind(null,u,a,hn,fc,ch,r,xn,Lr,Vo,ks,_,"Throttled",-0,0),m);break e}Xy(u,a,hn,fc,ch,r,xn,Lr,Vo,ks,_,null,-0,0)}}break}while(!0);Ii(i)}function Xy(i,r,a,u,m,_,A,w,k,B,X,ee,Y,$){if(i.timeoutHandle=-1,ee=r.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jn},By(r,_,ee);var he=(_&62914560)===_?cc-rn():(_&4194048)===_?Ky-rn():0;if(he=xx(ee,he),he!==null){Zi=_,i.cancelPendingCommit=he(r_.bind(null,i,r,_,a,u,m,A,w,k,X,ee,null,Y,$)),Os(i,_,A,!B);return}}r_(i,r,_,a,u,m,A,w,k)}function HC(i){for(var r=i;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var m=a[u],_=m.getSnapshot;m=m.value;try{if(!En(_(),m))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Os(i,r,a,u){r&=~uh,r&=~Lr,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var m=r;0<m;){var _=31-gt(m),A=1<<_;u[_]=-1,m&=~A}a!==0&&fr(i,a,r)}function hc(){return(Ye&6)===0?(fl(0),!1):!0}function ph(){if(De!==null){if(je===0)var i=De.return;else i=De,zi=Ir=null,Nf(i),Io=null,$a=0,i=De;for(;i!==null;)Iy(i.alternate,i),i=i.return;De=null}}function Oo(i,r){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,ax(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),Zi=0,ph(),tt=i,De=a=Fi(i.current,null),ke=r,je=0,Cn=null,ks=!1,Uo=Bn(i,r),lh=!1,Vo=xn=uh=Lr=Us=pt=0,hn=cl=null,ch=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var m=31-gt(u),_=1<<m;r|=i[m],u&=~_}return Wi=r,ku(),a}function Wy(i,r){we=null,Q.H=nl,r===bo||r===zu?(r=pg(),je=3):r===_f?(r=pg(),je=4):je=r===Jf?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Cn=r,De===null&&(pt=1,nc(i,Pn(r,i.current)))}function Zy(){var i=Sn.current;return i===null?!0:(ke&4194048)===ke?Ln===null:(ke&62914560)===ke||(ke&536870912)!==0?i===Ln:!1}function e_(){var i=Q.H;return Q.H=nl,i===null?nl:i}function t_(){var i=Q.A;return Q.A=qC,i}function pc(){pt=4,ks||(ke&4194048)!==ke&&Sn.current!==null||(Uo=!0),(Us&134217727)===0&&(Lr&134217727)===0||tt===null||Os(tt,ke,xn,!1)}function mh(i,r,a){var u=Ye;Ye|=2;var m=e_(),_=t_();(tt!==i||ke!==r)&&(fc=null,Oo(i,r)),r=!1;var A=pt;e:do try{if(je!==0&&De!==null){var w=De,k=Cn;switch(je){case 8:ph(),A=6;break e;case 3:case 2:case 9:case 6:Sn.current===null&&(r=!0);var B=je;if(je=0,Cn=null,qo(i,w,k,B),a&&Uo){A=0;break e}break;default:B=je,je=0,Cn=null,qo(i,w,k,B)}}zC(),A=pt;break}catch(X){Wy(i,X)}while(!0);return r&&i.shellSuspendCounter++,zi=Ir=null,Ye=u,Q.H=m,Q.A=_,De===null&&(tt=null,ke=0,ku()),A}function zC(){for(;De!==null;)n_(De)}function BC(i,r){var a=Ye;Ye|=2;var u=e_(),m=t_();tt!==i||ke!==r?(fc=null,dc=rn()+500,Oo(i,r)):Uo=Bn(i,r);e:do try{if(je!==0&&De!==null){r=De;var _=Cn;t:switch(je){case 1:je=0,Cn=null,qo(i,r,_,1);break;case 2:case 9:if(fg(_)){je=0,Cn=null,i_(r);break}r=function(){je!==2&&je!==9||tt!==i||(je=7),Ii(i)},_.then(r,r);break e;case 3:je=7;break e;case 4:je=5;break e;case 7:fg(_)?(je=0,Cn=null,i_(r)):(je=0,Cn=null,qo(i,r,_,7));break;case 5:var A=null;switch(De.tag){case 26:A=De.memoizedState;case 5:case 27:var w=De;if(A?z_(A):w.stateNode.complete){je=0,Cn=null;var k=w.sibling;if(k!==null)De=k;else{var B=w.return;B!==null?(De=B,mc(B)):De=null}break t}}je=0,Cn=null,qo(i,r,_,5);break;case 6:je=0,Cn=null,qo(i,r,_,6);break;case 8:ph(),pt=6;break e;default:throw Error(s(462))}}GC();break}catch(X){Wy(i,X)}while(!0);return zi=Ir=null,Q.H=u,Q.A=m,Ye=a,De!==null?0:(tt=null,ke=0,ku(),pt)}function GC(){for(;De!==null&&!Gd();)n_(De)}function n_(i){var r=wy(i.alternate,i,Wi);i.memoizedProps=i.pendingProps,r===null?mc(i):De=r}function i_(i){var r=i,a=r.alternate;switch(r.tag){case 15:case 0:r=Ey(a,r,r.pendingProps,r.type,void 0,ke);break;case 11:r=Ey(a,r,r.pendingProps,r.type.render,r.ref,ke);break;case 5:Nf(r);default:Iy(a,r),r=De=tg(r,Wi),r=wy(a,r,Wi)}i.memoizedProps=i.pendingProps,r===null?mc(i):De=r}function qo(i,r,a,u){zi=Ir=null,Nf(r),Io=null,$a=0;var m=r.return;try{if(DC(i,m,r,a,ke)){pt=1,nc(i,Pn(a,i.current)),De=null;return}}catch(_){if(m!==null)throw De=m,_;pt=1,nc(i,Pn(a,i.current)),De=null;return}r.flags&32768?(Le||u===1?i=!0:Uo||(ke&536870912)!==0?i=!1:(ks=i=!0,(u===2||u===9||u===3||u===6)&&(u=Sn.current,u!==null&&u.tag===13&&(u.flags|=16384))),s_(r,i)):mc(r)}function mc(i){var r=i;do{if((r.flags&32768)!==0){s_(r,ks);return}i=r.return;var a=UC(r.alternate,r,Wi);if(a!==null){De=a;return}if(r=r.sibling,r!==null){De=r;return}De=r=i}while(r!==null);pt===0&&(pt=5)}function s_(i,r){do{var a=VC(i.alternate,i);if(a!==null){a.flags&=32767,De=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(i=i.sibling,i!==null)){De=i;return}De=i=a}while(i!==null);pt=6,De=null}function r_(i,r,a,u,m,_,A,w,k){i.cancelPendingCommit=null;do gc();while(kt!==0);if((Ye&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(_=r.lanes|r.childLanes,_|=nf,Kd(i,a,_,A,w,k),i===tt&&(De=tt=null,ke=0),Lo=r,Ls=i,Zi=a,dh=_,fh=m,$y=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,$C(ps,function(){return c_(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=Q.T,Q.T=null,m=ae.p,ae.p=2,A=Ye,Ye|=4;try{LC(i,r,a)}finally{Ye=A,ae.p=m,Q.T=u}}kt=1,o_(),a_(),l_()}}function o_(){if(kt===1){kt=0;var i=Ls,r=Lo,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var u=ae.p;ae.p=2;var m=Ye;Ye|=4;try{Fy(r,i);var _=bh,A=Jm(i.containerInfo),w=_.focusedElem,k=_.selectionRange;if(A!==w&&w&&w.ownerDocument&&Ym(w.ownerDocument.documentElement,w)){if(k!==null&&Xd(w)){var B=k.start,X=k.end;if(X===void 0&&(X=B),"selectionStart"in w)w.selectionStart=B,w.selectionEnd=Math.min(X,w.value.length);else{var ee=w.ownerDocument||document,Y=ee&&ee.defaultView||window;if(Y.getSelection){var $=Y.getSelection(),he=w.textContent.length,ve=Math.min(k.start,he),et=k.end===void 0?ve:Math.min(k.end,he);!$.extend&&ve>et&&(A=et,et=ve,ve=A);var q=Gm(w,ve),L=Gm(w,et);if(q&&L&&($.rangeCount!==1||$.anchorNode!==q.node||$.anchorOffset!==q.offset||$.focusNode!==L.node||$.focusOffset!==L.offset)){var z=ee.createRange();z.setStart(q.node,q.offset),$.removeAllRanges(),ve>et?($.addRange(z),$.extend(L.node,L.offset)):(z.setEnd(L.node,L.offset),$.addRange(z))}}}}for(ee=[],$=w;$=$.parentNode;)$.nodeType===1&&ee.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ee.length;w++){var Z=ee[w];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Ic=!!wh,bh=wh=null}finally{Ye=m,ae.p=u,Q.T=a}}i.current=r,kt=2}}function a_(){if(kt===2){kt=0;var i=Ls,r=Lo,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var u=ae.p;ae.p=2;var m=Ye;Ye|=4;try{Uy(i,r.alternate,r)}finally{Ye=m,ae.p=u,Q.T=a}}kt=3}}function l_(){if(kt===4||kt===3){kt=0,ou();var i=Ls,r=Lo,a=Zi,u=$y;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?kt=5:(kt=0,Lo=Ls=null,u_(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(Vs=null),Vi(a),r=r.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(zn,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=Q.T,m=ae.p,ae.p=2,Q.T=null;try{for(var _=i.onRecoverableError,A=0;A<u.length;A++){var w=u[A];_(w.value,{componentStack:w.stack})}}finally{Q.T=r,ae.p=m}}(Zi&3)!==0&&gc(),Ii(i),m=i.pendingLanes,(a&261930)!==0&&(m&42)!==0?i===hh?dl++:(dl=0,hh=i):dl=0,fl(0)}}function u_(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Ja(r)))}function gc(){return o_(),a_(),l_(),c_()}function c_(){if(kt!==5)return!1;var i=Ls,r=dh;dh=0;var a=Vi(Zi),u=Q.T,m=ae.p;try{ae.p=32>a?32:a,Q.T=null,a=fh,fh=null;var _=Ls,A=Zi;if(kt=0,Lo=Ls=null,Zi=0,(Ye&6)!==0)throw Error(s(331));var w=Ye;if(Ye|=4,Yy(_.current),zy(_,_.current,A,a),Ye=w,fl(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(zn,_)}catch{}return!0}finally{ae.p=m,Q.T=u,u_(i,r)}}function d_(i,r,a){r=Pn(a,r),r=Yf(i.stateNode,r,2),i=Ns(i,r,2),i!==null&&(dr(i,2),Ii(i))}function Qe(i,r,a){if(i.tag===3)d_(i,i,a);else for(;r!==null;){if(r.tag===3){d_(r,i,a);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Vs===null||!Vs.has(u))){i=Pn(a,i),a=fy(2),u=Ns(r,a,2),u!==null&&(hy(a,u,r,i),dr(u,2),Ii(u));break}}r=r.return}}function gh(i,r,a){var u=i.pingCache;if(u===null){u=i.pingCache=new FC;var m=new Set;u.set(r,m)}else m=u.get(r),m===void 0&&(m=new Set,u.set(r,m));m.has(a)||(lh=!0,m.add(a),i=YC.bind(null,i,r,a),r.then(i,i))}function YC(i,r,a){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,tt===i&&(ke&a)===a&&(pt===4||pt===3&&(ke&62914560)===ke&&300>rn()-cc?(Ye&2)===0&&Oo(i,0):uh|=a,Vo===ke&&(Vo=0)),Ii(i)}function f_(i,r){r===0&&(r=fu()),i=xr(i,r),i!==null&&(dr(i,r),Ii(i))}function JC(i){var r=i.memoizedState,a=0;r!==null&&(a=r.retryLane),f_(i,a)}function KC(i,r){var a=0;switch(i.tag){case 31:case 13:var u=i.stateNode,m=i.memoizedState;m!==null&&(a=m.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),f_(i,a)}function $C(i,r){return Pt(i,r)}var yc=null,Fo=null,yh=!1,_c=!1,_h=!1,qs=0;function Ii(i){i!==Fo&&i.next===null&&(Fo===null?yc=Fo=i:Fo=Fo.next=i),_c=!0,yh||(yh=!0,QC())}function fl(i,r){if(!_h&&_c){_h=!0;do for(var a=!1,u=yc;u!==null;){if(i!==0){var m=u.pendingLanes;if(m===0)var _=0;else{var A=u.suspendedLanes,w=u.pingedLanes;_=(1<<31-gt(42|i)+1)-1,_&=m&~(A&~w),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(a=!0,g_(u,_))}else _=ke,_=ci(u,u===tt?_:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(_&3)===0||Bn(u,_)||(a=!0,g_(u,_));u=u.next}while(a);_h=!1}}function jC(){h_()}function h_(){_c=yh=!1;var i=0;qs!==0&&ox()&&(i=qs);for(var r=rn(),a=null,u=yc;u!==null;){var m=u.next,_=p_(u,r);_===0?(u.next=null,a===null?yc=m:a.next=m,m===null&&(Fo=a)):(a=u,(i!==0||(_&3)!==0)&&(_c=!0)),u=m}kt!==0&&kt!==5||fl(i),qs!==0&&(qs=0)}function p_(i,r){for(var a=i.suspendedLanes,u=i.pingedLanes,m=i.expirationTimes,_=i.pendingLanes&-62914561;0<_;){var A=31-gt(_),w=1<<A,k=m[A];k===-1?((w&a)===0||(w&u)!==0)&&(m[A]=Jd(w,r)):k<=r&&(i.expiredLanes|=w),_&=~w}if(r=tt,a=ke,a=ci(i,i===r?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,a===0||i===r&&(je===2||je===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&hs(u),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||Bn(i,a)){if(r=a&-a,r===i.callbackPriority)return r;switch(u!==null&&hs(u),Vi(a)){case 2:case 8:a=Sa;break;case 32:a=ps;break;case 268435456:a=au;break;default:a=ps}return u=m_.bind(null,i),a=Pt(a,u),i.callbackPriority=r,i.callbackNode=a,r}return u!==null&&u!==null&&hs(u),i.callbackPriority=2,i.callbackNode=null,2}function m_(i,r){if(kt!==0&&kt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(gc()&&i.callbackNode!==a)return null;var u=ke;return u=ci(i,i===tt?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(Qy(i,u,r),p_(i,rn()),i.callbackNode!=null&&i.callbackNode===a?m_.bind(null,i):null)}function g_(i,r){if(gc())return null;Qy(i,r,!0)}function QC(){lx(function(){(Ye&6)!==0?Pt(Ta,jC):h_()})}function vh(){if(qs===0){var i=xo;i===0&&(i=li,li<<=1,(li&261888)===0&&(li=256)),qs=i}return qs}function y_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:uo(""+i)}function __(i,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,i.id&&a.setAttribute("form",i.id),r.parentNode.insertBefore(a,r),i=new FormData(i),a.parentNode.removeChild(a),i}function XC(i,r,a,u,m){if(r==="submit"&&a&&a.stateNode===m){var _=y_((m[Ut]||null).action),A=u.submitter;A&&(r=(r=A[Ut]||null)?y_(r.formAction):A.getAttribute("formAction"),r!==null&&(_=r,A=null));var w=new Ti("action","action",null,u,m);i.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(qs!==0){var k=A?__(m,A):new FormData(m);qf(a,{pending:!0,data:k,method:m.method,action:_},null,k)}}else typeof _=="function"&&(w.preventDefault(),k=A?__(m,A):new FormData(m),qf(a,{pending:!0,data:k,method:m.method,action:_},_,k))},currentTarget:m}]})}}for(var Eh=0;Eh<tf.length;Eh++){var Th=tf[Eh],WC=Th.toLowerCase(),ZC=Th[0].toUpperCase()+Th.slice(1);Xn(WC,"on"+ZC)}Xn(jm,"onAnimationEnd"),Xn(Qm,"onAnimationIteration"),Xn(Xm,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(mC,"onTransitionRun"),Xn(gC,"onTransitionStart"),Xn(yC,"onTransitionCancel"),Xn(Wm,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ex=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hl));function v_(i,r){r=(r&4)!==0;for(var a=0;a<i.length;a++){var u=i[a],m=u.event;u=u.listeners;e:{var _=void 0;if(r)for(var A=u.length-1;0<=A;A--){var w=u[A],k=w.instance,B=w.currentTarget;if(w=w.listener,k!==_&&m.isPropagationStopped())break e;_=w,m.currentTarget=B;try{_(m)}catch(X){Pu(X)}m.currentTarget=null,_=k}else for(A=0;A<u.length;A++){if(w=u[A],k=w.instance,B=w.currentTarget,w=w.listener,k!==_&&m.isPropagationStopped())break e;_=w,m.currentTarget=B;try{_(m)}catch(X){Pu(X)}m.currentTarget=null,_=k}}}}function Pe(i,r){var a=r[so];a===void 0&&(a=r[so]=new Set);var u=i+"__bubble";a.has(u)||(E_(r,i,2,!1),a.add(u))}function Sh(i,r,a){var u=0;r&&(u|=4),E_(a,i,u,r)}var vc="_reactListening"+Math.random().toString(36).slice(2);function Ah(i){if(!i[vc]){i[vc]=!0,xa.forEach(function(a){a!=="selectionchange"&&(ex.has(a)||Sh(a,!1,i),Sh(a,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[vc]||(r[vc]=!0,Sh("selectionchange",!1,r))}}function E_(i,r,a,u){switch(j_(r)){case 2:var m=Ix;break;case 8:m=Rx;break;default:m=Oh}a=m.bind(null,r,a,i),m=void 0,!yr||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),u?m!==void 0?i.addEventListener(r,a,{capture:!0,passive:m}):i.addEventListener(r,a,!0):m!==void 0?i.addEventListener(r,a,{passive:m}):i.addEventListener(r,a,!1)}function Ch(i,r,a,u,m){var _=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var A=u.tag;if(A===3||A===4){var w=u.stateNode.containerInfo;if(w===m)break;if(A===4)for(A=u.return;A!==null;){var k=A.tag;if((k===3||k===4)&&A.stateNode.containerInfo===m)return;A=A.return}for(;w!==null;){if(A=pi(w),A===null)return;if(k=A.tag,k===5||k===6||k===26||k===27){u=_=A;continue e}w=w.parentNode}}u=u.return}Es(function(){var B=_,X=Rn(a),ee=[];e:{var Y=Zm.get(i);if(Y!==void 0){var $=Ti,he=i;switch(i){case"keypress":if(vr(a)===0)break e;case"keydown":case"keyup":$=Nu;break;case"focusin":he="focus",$=Tr;break;case"focusout":he="blur",$=Tr;break;case"beforeblur":case"afterblur":$=Tr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Oa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=T;break;case jm:case Qm:case Xm:$=Au;break;case Wm:$=b;break;case"scroll":case"scrollend":$=La;break;case"wheel":$=K;break;case"copy":case"cut":case"paste":$=Cu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=qi;break;case"toggle":case"beforetoggle":$=xe}var ve=(r&4)!==0,et=!ve&&(i==="scroll"||i==="scrollend"),q=ve?Y!==null?Y+"Capture":null:Y;ve=[];for(var L=B,z;L!==null;){var Z=L;if(z=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||z===null||q===null||(Z=Kn(L,q),Z!=null&&ve.push(pl(L,Z,z))),et)break;L=L.return}0<ve.length&&(Y=new $(Y,he,null,a,X),ee.push({event:Y,listeners:ve}))}}if((r&7)===0){e:{if(Y=i==="mouseover"||i==="pointerover",$=i==="mouseout"||i==="pointerout",Y&&a!==ka&&(he=a.relatedTarget||a.fromElement)&&(pi(he)||he[fi]))break e;if(($||Y)&&(Y=X.window===X?X:(Y=X.ownerDocument)?Y.defaultView||Y.parentWindow:window,$?(he=a.relatedTarget||a.toElement,$=B,he=he?pi(he):null,he!==null&&(et=l(he),ve=he.tag,he!==et||ve!==5&&ve!==27&&ve!==6)&&(he=null)):($=null,he=B),$!==he)){if(ve=Oa,Z="onMouseLeave",q="onMouseEnter",L="mouse",(i==="pointerout"||i==="pointerover")&&(ve=qi,Z="onPointerLeave",q="onPointerEnter",L="pointer"),et=$==null?Y:_n($),z=he==null?Y:_n(he),Y=new ve(Z,L+"leave",$,a,X),Y.target=et,Y.relatedTarget=z,Z=null,pi(X)===B&&(ve=new ve(q,L+"enter",he,a,X),ve.target=z,ve.relatedTarget=et,Z=ve),et=Z,$&&he)t:{for(ve=tx,q=$,L=he,z=0,Z=q;Z;Z=ve(Z))z++;Z=0;for(var ge=L;ge;ge=ve(ge))Z++;for(;0<z-Z;)q=ve(q),z--;for(;0<Z-z;)L=ve(L),Z--;for(;z--;){if(q===L||L!==null&&q===L.alternate){ve=q;break t}q=ve(q),L=ve(L)}ve=null}else ve=null;$!==null&&T_(ee,Y,$,ve,!1),he!==null&&et!==null&&T_(ee,et,he,ve,!0)}}e:{if(Y=B?_n(B):window,$=Y.nodeName&&Y.nodeName.toLowerCase(),$==="select"||$==="input"&&Y.type==="file")var He=Om;else if(Vm(Y))if(qm)He=fC;else{He=cC;var pe=uC}else $=Y.nodeName,!$||$.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?B&&lo(B.elementType)&&(He=Om):He=dC;if(He&&(He=He(i,B))){Lm(ee,He,a,X);break e}pe&&pe(i,Y,B),i==="focusout"&&B&&Y.type==="number"&&B.memoizedProps.value!=null&&Ma(Y,"number",Y.value)}switch(pe=B?_n(B):window,i){case"focusin":(Vm(pe)||pe.contentEditable==="true")&&(yo=pe,Wd=B,Ba=null);break;case"focusout":Ba=Wd=yo=null;break;case"mousedown":Zd=!0;break;case"contextmenu":case"mouseup":case"dragend":Zd=!1,Km(ee,a,X);break;case"selectionchange":if(pC)break;case"keydown":case"keyup":Km(ee,a,X)}var Re;if(Ge)e:{switch(i){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else go?Sr(i,a)&&(Ue="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(Ue="onCompositionStart");Ue&&(Ci&&a.locale!=="ko"&&(go||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&go&&(Re=Va()):(Ei=X,Ua="value"in Ei?Ei.value:Ei.textContent,go=!0)),pe=Ec(B,Ue),0<pe.length&&(Ue=new Ai(Ue,i,null,a,X),ee.push({event:Ue,listeners:pe}),Re?Ue.data=Re:(Re=mo(a),Re!==null&&(Ue.data=Re)))),(Re=Mn?rC(i,a):oC(i,a))&&(Ue=Ec(B,"onBeforeInput"),0<Ue.length&&(pe=new Ai("onBeforeInput","beforeinput",null,a,X),ee.push({event:pe,listeners:Ue}),pe.data=Re)),XC(ee,i,B,a,X)}v_(ee,r)})}function pl(i,r,a){return{instance:i,listener:r,currentTarget:a}}function Ec(i,r){for(var a=r+"Capture",u=[];i!==null;){var m=i,_=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||_===null||(m=Kn(i,a),m!=null&&u.unshift(pl(i,m,_)),m=Kn(i,r),m!=null&&u.push(pl(i,m,_))),i.tag===3)return u;i=i.return}return[]}function tx(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function T_(i,r,a,u,m){for(var _=r._reactName,A=[];a!==null&&a!==u;){var w=a,k=w.alternate,B=w.stateNode;if(w=w.tag,k!==null&&k===u)break;w!==5&&w!==26&&w!==27||B===null||(k=B,m?(B=Kn(a,_),B!=null&&A.unshift(pl(a,B,k))):m||(B=Kn(a,_),B!=null&&A.push(pl(a,B,k)))),a=a.return}A.length!==0&&i.push({event:r,listeners:A})}var nx=/\r\n?/g,ix=/\u0000|\uFFFD/g;function S_(i){return(typeof i=="string"?i:""+i).replace(nx,`
`).replace(ix,"")}function A_(i,r){return r=S_(r),S_(i)===r}function Ze(i,r,a,u,m,_){switch(a){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||un(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&un(i,""+u);break;case"className":vn(i,"class",u);break;case"tabIndex":vn(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(i,a,u);break;case"style":Pa(i,u,_);break;case"data":if(r!=="object"){vn(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||a!=="href")){i.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(a);break}u=uo(""+u),i.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(a==="formAction"?(r!=="input"&&Ze(i,r,"name",m.name,m,null),Ze(i,r,"formEncType",m.formEncType,m,null),Ze(i,r,"formMethod",m.formMethod,m,null),Ze(i,r,"formTarget",m.formTarget,m,null)):(Ze(i,r,"encType",m.encType,m,null),Ze(i,r,"method",m.method,m,null),Ze(i,r,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(a);break}u=uo(""+u),i.setAttribute(a,u);break;case"onClick":u!=null&&(i.onclick=Jn);break;case"onScroll":u!=null&&Pe("scroll",i);break;case"onScrollEnd":u!=null&&Pe("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}a=uo(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,""+u):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":u===!0?i.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,u):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(a,u):i.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(a):i.setAttribute(a,u);break;case"popover":Pe("beforetoggle",i),Pe("toggle",i),oo(i,"popover",u);break;case"xlinkActuate":xt(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":xt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":xt(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":xt(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":xt(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":xt(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":xt(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":xt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":xt(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":oo(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Eu.get(a)||a,oo(i,a,u))}}function xh(i,r,a,u,m,_){switch(a){case"style":Pa(i,u,_);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"children":typeof u=="string"?un(i,u):(typeof u=="number"||typeof u=="bigint")&&un(i,""+u);break;case"onScroll":u!=null&&Pe("scroll",i);break;case"onScrollEnd":u!=null&&Pe("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(m=a.endsWith("Capture"),r=a.slice(2,m?a.length-7:void 0),_=i[Ut]||null,_=_!=null?_[a]:null,typeof _=="function"&&i.removeEventListener(r,_,m),typeof u=="function")){typeof _!="function"&&_!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(r,u,m);break e}a in i?i[a]=u:u===!0?i.setAttribute(a,""):oo(i,a,u)}}}function Yt(i,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",i),Pe("load",i);var u=!1,m=!1,_;for(_ in a)if(a.hasOwnProperty(_)){var A=a[_];if(A!=null)switch(_){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ze(i,r,_,A,a,null)}}m&&Ze(i,r,"srcSet",a.srcSet,a,null),u&&Ze(i,r,"src",a.src,a,null);return;case"input":Pe("invalid",i);var w=_=A=m=null,k=null,B=null;for(u in a)if(a.hasOwnProperty(u)){var X=a[u];if(X!=null)switch(u){case"name":m=X;break;case"type":A=X;break;case"checked":k=X;break;case"defaultChecked":B=X;break;case"value":_=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:Ze(i,r,u,X,a,null)}}yu(i,_,w,k,B,A,m,!1);return;case"select":Pe("invalid",i),u=A=_=null;for(m in a)if(a.hasOwnProperty(m)&&(w=a[m],w!=null))switch(m){case"value":_=w;break;case"defaultValue":A=w;break;case"multiple":u=w;default:Ze(i,r,m,w,a,null)}r=_,a=A,i.multiple=!!u,r!=null?gs(i,!!u,r,!1):a!=null&&gs(i,!!u,a,!0);return;case"textarea":Pe("invalid",i),_=m=u=null;for(A in a)if(a.hasOwnProperty(A)&&(w=a[A],w!=null))switch(A){case"value":u=w;break;case"defaultValue":m=w;break;case"children":_=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:Ze(i,r,A,w,a,null)}ys(i,u,m,_);return;case"option":for(k in a)if(a.hasOwnProperty(k)&&(u=a[k],u!=null))switch(k){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ze(i,r,k,u,a,null)}return;case"dialog":Pe("beforetoggle",i),Pe("toggle",i),Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":Pe("load",i);break;case"video":case"audio":for(u=0;u<hl.length;u++)Pe(hl[u],i);break;case"image":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"embed":case"source":case"link":Pe("error",i),Pe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(u=a[B],u!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ze(i,r,B,u,a,null)}return;default:if(lo(r)){for(X in a)a.hasOwnProperty(X)&&(u=a[X],u!==void 0&&xh(i,r,X,u,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(u=a[w],u!=null&&Ze(i,r,w,u,a,null))}function sx(i,r,a,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,_=null,A=null,w=null,k=null,B=null,X=null;for($ in a){var ee=a[$];if(a.hasOwnProperty($)&&ee!=null)switch($){case"checked":break;case"value":break;case"defaultValue":k=ee;default:u.hasOwnProperty($)||Ze(i,r,$,null,u,ee)}}for(var Y in u){var $=u[Y];if(ee=a[Y],u.hasOwnProperty(Y)&&($!=null||ee!=null))switch(Y){case"type":_=$;break;case"name":m=$;break;case"checked":B=$;break;case"defaultChecked":X=$;break;case"value":A=$;break;case"defaultValue":w=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:$!==ee&&Ze(i,r,Y,$,u,ee)}}ao(i,A,w,k,B,X,_,m);return;case"select":$=A=w=Y=null;for(_ in a)if(k=a[_],a.hasOwnProperty(_)&&k!=null)switch(_){case"value":break;case"multiple":$=k;default:u.hasOwnProperty(_)||Ze(i,r,_,null,u,k)}for(m in u)if(_=u[m],k=a[m],u.hasOwnProperty(m)&&(_!=null||k!=null))switch(m){case"value":Y=_;break;case"defaultValue":w=_;break;case"multiple":A=_;default:_!==k&&Ze(i,r,m,_,u,k)}r=w,a=A,u=$,Y!=null?gs(i,!!a,Y,!1):!!u!=!!a&&(r!=null?gs(i,!!a,r,!0):gs(i,!!a,a?[]:"",!1));return;case"textarea":$=Y=null;for(w in a)if(m=a[w],a.hasOwnProperty(w)&&m!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Ze(i,r,w,null,u,m)}for(A in u)if(m=u[A],_=a[A],u.hasOwnProperty(A)&&(m!=null||_!=null))switch(A){case"value":Y=m;break;case"defaultValue":$=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==_&&Ze(i,r,A,m,u,_)}_u(i,Y,$);return;case"option":for(var he in a)if(Y=a[he],a.hasOwnProperty(he)&&Y!=null&&!u.hasOwnProperty(he))switch(he){case"selected":i.selected=!1;break;default:Ze(i,r,he,null,u,Y)}for(k in u)if(Y=u[k],$=a[k],u.hasOwnProperty(k)&&Y!==$&&(Y!=null||$!=null))switch(k){case"selected":i.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:Ze(i,r,k,Y,u,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)Y=a[ve],a.hasOwnProperty(ve)&&Y!=null&&!u.hasOwnProperty(ve)&&Ze(i,r,ve,null,u,Y);for(B in u)if(Y=u[B],$=a[B],u.hasOwnProperty(B)&&Y!==$&&(Y!=null||$!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Ze(i,r,B,Y,u,$)}return;default:if(lo(r)){for(var et in a)Y=a[et],a.hasOwnProperty(et)&&Y!==void 0&&!u.hasOwnProperty(et)&&xh(i,r,et,void 0,u,Y);for(X in u)Y=u[X],$=a[X],!u.hasOwnProperty(X)||Y===$||Y===void 0&&$===void 0||xh(i,r,X,Y,u,$);return}}for(var q in a)Y=a[q],a.hasOwnProperty(q)&&Y!=null&&!u.hasOwnProperty(q)&&Ze(i,r,q,null,u,Y);for(ee in u)Y=u[ee],$=a[ee],!u.hasOwnProperty(ee)||Y===$||Y==null&&$==null||Ze(i,r,ee,Y,u,$)}function C_(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function rx(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,a=performance.getEntriesByType("resource"),u=0;u<a.length;u++){var m=a[u],_=m.transferSize,A=m.initiatorType,w=m.duration;if(_&&w&&C_(A)){for(A=0,w=m.responseEnd,u+=1;u<a.length;u++){var k=a[u],B=k.startTime;if(B>w)break;var X=k.transferSize,ee=k.initiatorType;X&&C_(ee)&&(k=k.responseEnd,A+=X*(k<w?1:(w-B)/(k-B)))}if(--u,r+=8*(_+A)/(m.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var wh=null,bh=null;function Tc(i){return i.nodeType===9?i:i.ownerDocument}function x_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function w_(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Ih(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Rh=null;function ox(){var i=window.event;return i&&i.type==="popstate"?i===Rh?!1:(Rh=i,!0):(Rh=null,!1)}var b_=typeof setTimeout=="function"?setTimeout:void 0,ax=typeof clearTimeout=="function"?clearTimeout:void 0,I_=typeof Promise=="function"?Promise:void 0,lx=typeof queueMicrotask=="function"?queueMicrotask:typeof I_<"u"?function(i){return I_.resolve(null).then(i).catch(ux)}:b_;function ux(i){setTimeout(function(){throw i})}function Fs(i){return i==="head"}function R_(i,r){var a=r,u=0;do{var m=a.nextSibling;if(i.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"||a==="/&"){if(u===0){i.removeChild(m),Go(r);return}u--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")u++;else if(a==="html")ml(i.ownerDocument.documentElement);else if(a==="head"){a=i.ownerDocument.head,ml(a);for(var _=a.firstChild;_;){var A=_.nextSibling,w=_.nodeName;_[hi]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=A}}else a==="body"&&ml(i.ownerDocument.body);a=m}while(a);Go(r)}function N_(i,r){var a=i;i=0;do{var u=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(i===0)break;i--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||i++;a=u}while(a)}function Nh(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Nh(a),ro(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function cx(i,r,a,u){for(;i.nodeType===1;){var m=a;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[hi])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(_=i.getAttribute("rel"),_==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(_!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(_=i.getAttribute("src"),(_!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&_&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var _=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===_)return i}else return i;if(i=On(i.nextSibling),i===null)break}return null}function dx(i,r,a){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=On(i.nextSibling),i===null))return null;return i}function M_(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=On(i.nextSibling),i===null))return null;return i}function Mh(i){return i.data==="$?"||i.data==="$~"}function Dh(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function fx(i,r){var a=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||a.readyState!=="loading")r();else{var u=function(){r(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function On(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Ph=null;function D_(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var a=i.data;if(a==="/$"||a==="/&"){if(r===0)return On(i.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}i=i.nextSibling}return null}function P_(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return i;r--}else a!=="/$"&&a!=="/&"||r++}i=i.previousSibling}return null}function k_(i,r,a){switch(r=Tc(a),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function ml(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);ro(i)}var qn=new Map,U_=new Set;function Sc(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var es=ae.d;ae.d={f:hx,r:px,D:mx,C:gx,L:yx,m:_x,X:Ex,S:vx,M:Tx};function hx(){var i=es.f(),r=hc();return i||r}function px(i){var r=In(i);r!==null&&r.tag===5&&r.type==="form"?Wg(r):es.r(i)}var Ho=typeof document>"u"?null:document;function V_(i,r,a){var u=Ho;if(u&&typeof r=="string"&&r){var m=ln(r);m='link[rel="'+i+'"][href="'+m+'"]',typeof a=="string"&&(m+='[crossorigin="'+a+'"]'),U_.has(m)||(U_.add(m),i={rel:i,crossOrigin:a,href:r},u.querySelector(m)===null&&(r=u.createElement("link"),Yt(r,"link",i),Ct(r),u.head.appendChild(r)))}}function mx(i){es.D(i),V_("dns-prefetch",i,null)}function gx(i,r){es.C(i,r),V_("preconnect",i,r)}function yx(i,r,a){es.L(i,r,a);var u=Ho;if(u&&i&&r){var m='link[rel="preload"][as="'+ln(r)+'"]';r==="image"&&a&&a.imageSrcSet?(m+='[imagesrcset="'+ln(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(m+='[imagesizes="'+ln(a.imageSizes)+'"]')):m+='[href="'+ln(i)+'"]';var _=m;switch(r){case"style":_=zo(i);break;case"script":_=Bo(i)}qn.has(_)||(i=S({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:i,as:r},a),qn.set(_,i),u.querySelector(m)!==null||r==="style"&&u.querySelector(gl(_))||r==="script"&&u.querySelector(yl(_))||(r=u.createElement("link"),Yt(r,"link",i),Ct(r),u.head.appendChild(r)))}}function _x(i,r){es.m(i,r);var a=Ho;if(a&&i){var u=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+ln(u)+'"][href="'+ln(i)+'"]',_=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Bo(i)}if(!qn.has(_)&&(i=S({rel:"modulepreload",href:i},r),qn.set(_,i),a.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(yl(_)))return}u=a.createElement("link"),Yt(u,"link",i),Ct(u),a.head.appendChild(u)}}}function vx(i,r,a){es.S(i,r,a);var u=Ho;if(u&&i){var m=mi(u).hoistableStyles,_=zo(i);r=r||"default";var A=m.get(_);if(!A){var w={loading:0,preload:null};if(A=u.querySelector(gl(_)))w.loading=5;else{i=S({rel:"stylesheet",href:i,"data-precedence":r},a),(a=qn.get(_))&&kh(i,a);var k=A=u.createElement("link");Ct(k),Yt(k,"link",i),k._p=new Promise(function(B,X){k.onload=B,k.onerror=X}),k.addEventListener("load",function(){w.loading|=1}),k.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Ac(A,r,u)}A={type:"stylesheet",instance:A,count:1,state:w},m.set(_,A)}}}function Ex(i,r){es.X(i,r);var a=Ho;if(a&&i){var u=mi(a).hoistableScripts,m=Bo(i),_=u.get(m);_||(_=a.querySelector(yl(m)),_||(i=S({src:i,async:!0},r),(r=qn.get(m))&&Uh(i,r),_=a.createElement("script"),Ct(_),Yt(_,"link",i),a.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},u.set(m,_))}}function Tx(i,r){es.M(i,r);var a=Ho;if(a&&i){var u=mi(a).hoistableScripts,m=Bo(i),_=u.get(m);_||(_=a.querySelector(yl(m)),_||(i=S({src:i,async:!0,type:"module"},r),(r=qn.get(m))&&Uh(i,r),_=a.createElement("script"),Ct(_),Yt(_,"link",i),a.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},u.set(m,_))}}function L_(i,r,a,u){var m=(m=Ie.current)?Sc(m):null;if(!m)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=zo(a.href),a=mi(m).hoistableStyles,u=a.get(r),u||(u={type:"style",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=zo(a.href);var _=mi(m).hoistableStyles,A=_.get(i);if(A||(m=m.ownerDocument||m,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(i,A),(_=m.querySelector(gl(i)))&&!_._p&&(A.instance=_,A.state.loading=5),qn.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},qn.set(i,a),_||Sx(m,i,a,A.state))),r&&u===null)throw Error(s(528,""));return A}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Bo(a),a=mi(m).hoistableScripts,u=a.get(r),u||(u={type:"script",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function zo(i){return'href="'+ln(i)+'"'}function gl(i){return'link[rel="stylesheet"]['+i+"]"}function O_(i){return S({},i,{"data-precedence":i.precedence,precedence:null})}function Sx(i,r,a,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Yt(r,"link",a),Ct(r),i.head.appendChild(r))}function Bo(i){return'[src="'+ln(i)+'"]'}function yl(i){return"script[async]"+i}function q_(i,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+ln(a.href)+'"]');if(u)return r.instance=u,Ct(u),u;var m=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Ct(u),Yt(u,"style",m),Ac(u,a.precedence,i),r.instance=u;case"stylesheet":m=zo(a.href);var _=i.querySelector(gl(m));if(_)return r.state.loading|=4,r.instance=_,Ct(_),_;u=O_(a),(m=qn.get(m))&&kh(u,m),_=(i.ownerDocument||i).createElement("link"),Ct(_);var A=_;return A._p=new Promise(function(w,k){A.onload=w,A.onerror=k}),Yt(_,"link",u),r.state.loading|=4,Ac(_,a.precedence,i),r.instance=_;case"script":return _=Bo(a.src),(m=i.querySelector(yl(_)))?(r.instance=m,Ct(m),m):(u=a,(m=qn.get(_))&&(u=S({},a),Uh(u,m)),i=i.ownerDocument||i,m=i.createElement("script"),Ct(m),Yt(m,"link",u),i.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Ac(u,a.precedence,i));return r.instance}function Ac(i,r,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,_=m,A=0;A<u.length;A++){var w=u[A];if(w.dataset.precedence===r)_=w;else if(_!==m)break}_?_.parentNode.insertBefore(i,_.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(i,r.firstChild))}function kh(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Uh(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Cc=null;function F_(i,r,a){if(Cc===null){var u=new Map,m=Cc=new Map;m.set(a,u)}else m=Cc,u=m.get(a),u||(u=new Map,m.set(a,u));if(u.has(i))return u;for(u.set(i,null),a=a.getElementsByTagName(i),m=0;m<a.length;m++){var _=a[m];if(!(_[hi]||_[At]||i==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var A=_.getAttribute(r)||"";A=i+A;var w=u.get(A);w?w.push(_):u.set(A,[_])}}return u}function H_(i,r,a){i=i.ownerDocument||i,i.head.insertBefore(a,r==="title"?i.querySelector("head > title"):null)}function Ax(i,r,a){if(a===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function z_(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function Cx(i,r,a,u){if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=zo(u.href),_=r.querySelector(gl(m));if(_){r=_._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=xc.bind(i),r.then(i,i)),a.state.loading|=4,a.instance=_,Ct(_);return}_=r.ownerDocument||r,u=O_(u),(m=qn.get(m))&&kh(u,m),_=_.createElement("link"),Ct(_);var A=_;A._p=new Promise(function(w,k){A.onload=w,A.onerror=k}),Yt(_,"link",u),a.instance=_}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(i.count++,a=xc.bind(i),r.addEventListener("load",a),r.addEventListener("error",a))}}var Vh=0;function xx(i,r){return i.stylesheets&&i.count===0&&bc(i,i.stylesheets),0<i.count||0<i.imgCount?function(a){var u=setTimeout(function(){if(i.stylesheets&&bc(i,i.stylesheets),i.unsuspend){var _=i.unsuspend;i.unsuspend=null,_()}},6e4+r);0<i.imgBytes&&Vh===0&&(Vh=62500*rx());var m=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&bc(i,i.stylesheets),i.unsuspend)){var _=i.unsuspend;i.unsuspend=null,_()}},(i.imgBytes>Vh?50:800)+r);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(m)}}:null}function xc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bc(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var wc=null;function bc(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,wc=new Map,r.forEach(wx,i),wc=null,xc.call(i))}function wx(i,r){if(!(r.state.loading&4)){var a=wc.get(i);if(a)var u=a.get(null);else{a=new Map,wc.set(i,a);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<m.length;_++){var A=m[_];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(a.set(A.dataset.precedence,A),u=A)}u&&a.set(null,u)}m=r.instance,A=m.getAttribute("data-precedence"),_=a.get(A)||u,_===u&&a.set(null,m),a.set(A,m),this.count++,u=xc.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),_?_.parentNode.insertBefore(m,_.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),r.state.loading|=4}}var _l={$$typeof:j,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function bx(i,r,a,u,m,_,A,w,k){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.hiddenUpdates=di(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=_,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function B_(i,r,a,u,m,_,A,w,k,B,X,ee){return i=new bx(i,r,a,A,k,B,X,ee,w),r=1,_===!0&&(r|=24),_=Tn(3,null,null,r),i.current=_,_.stateNode=i,r=mf(),r.refCount++,i.pooledCache=r,r.refCount++,_.memoizedState={element:u,isDehydrated:a,cache:r},vf(_),i}function G_(i){return i?(i=Eo,i):Eo}function Y_(i,r,a,u,m,_){m=G_(m),u.context===null?u.context=m:u.pendingContext=m,u=Rs(r),u.payload={element:a},_=_===void 0?null:_,_!==null&&(u.callback=_),a=Ns(i,u,r),a!==null&&(pn(a,i,r),Qa(a,i,r))}function J_(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<r?a:r}}function Lh(i,r){J_(i,r),(i=i.alternate)&&J_(i,r)}function K_(i){if(i.tag===13||i.tag===31){var r=xr(i,67108864);r!==null&&pn(r,i,67108864),Lh(i,67108864)}}function $_(i){if(i.tag===13||i.tag===31){var r=wn();r=hr(r);var a=xr(i,r);a!==null&&pn(a,i,r),Lh(i,r)}}var Ic=!0;function Ix(i,r,a,u){var m=Q.T;Q.T=null;var _=ae.p;try{ae.p=2,Oh(i,r,a,u)}finally{ae.p=_,Q.T=m}}function Rx(i,r,a,u){var m=Q.T;Q.T=null;var _=ae.p;try{ae.p=8,Oh(i,r,a,u)}finally{ae.p=_,Q.T=m}}function Oh(i,r,a,u){if(Ic){var m=qh(u);if(m===null)Ch(i,r,u,Rc,a),Q_(i,u);else if(Mx(m,i,r,a,u))u.stopPropagation();else if(Q_(i,u),r&4&&-1<Nx.indexOf(i)){for(;m!==null;){var _=In(m);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var A=ui(_.pendingLanes);if(A!==0){var w=_;for(w.pendingLanes|=2,w.entangledLanes|=2;A;){var k=1<<31-gt(A);w.entanglements[1]|=k,A&=~k}Ii(_),(Ye&6)===0&&(dc=rn()+500,fl(0))}}break;case 31:case 13:w=xr(_,2),w!==null&&pn(w,_,2),hc(),Lh(_,2)}if(_=qh(u),_===null&&Ch(i,r,u,Rc,a),_===m)break;m=_}m!==null&&u.stopPropagation()}else Ch(i,r,u,null,a)}}function qh(i){return i=Rn(i),Fh(i)}var Rc=null;function Fh(i){if(Rc=null,i=pi(i),i!==null){var r=l(i);if(r===null)i=null;else{var a=r.tag;if(a===13){if(i=c(r),i!==null)return i;i=null}else if(a===31){if(i=h(r),i!==null)return i;i=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Rc=i,null}function j_(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ur()){case Ta:return 2;case Sa:return 8;case ps:case Yd:return 32;case au:return 268435456;default:return 32}default:return 32}}var Hh=!1,Hs=null,zs=null,Bs=null,vl=new Map,El=new Map,Gs=[],Nx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Q_(i,r){switch(i){case"focusin":case"focusout":Hs=null;break;case"dragenter":case"dragleave":zs=null;break;case"mouseover":case"mouseout":Bs=null;break;case"pointerover":case"pointerout":vl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":El.delete(r.pointerId)}}function Tl(i,r,a,u,m,_){return i===null||i.nativeEvent!==_?(i={blockedOn:r,domEventName:a,eventSystemFlags:u,nativeEvent:_,targetContainers:[m]},r!==null&&(r=In(r),r!==null&&K_(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),i)}function Mx(i,r,a,u,m){switch(r){case"focusin":return Hs=Tl(Hs,i,r,a,u,m),!0;case"dragenter":return zs=Tl(zs,i,r,a,u,m),!0;case"mouseover":return Bs=Tl(Bs,i,r,a,u,m),!0;case"pointerover":var _=m.pointerId;return vl.set(_,Tl(vl.get(_)||null,i,r,a,u,m)),!0;case"gotpointercapture":return _=m.pointerId,El.set(_,Tl(El.get(_)||null,i,r,a,u,m)),!0}return!1}function X_(i){var r=pi(i.target);if(r!==null){var a=l(r);if(a!==null){if(r=a.tag,r===13){if(r=c(a),r!==null){i.blockedOn=r,Gn(i.priority,function(){$_(a)});return}}else if(r===31){if(r=h(a),r!==null){i.blockedOn=r,Gn(i.priority,function(){$_(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Nc(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var a=qh(i.nativeEvent);if(a===null){a=i.nativeEvent;var u=new a.constructor(a.type,a);ka=u,a.target.dispatchEvent(u),ka=null}else return r=In(a),r!==null&&K_(r),i.blockedOn=a,!1;r.shift()}return!0}function W_(i,r,a){Nc(i)&&a.delete(r)}function Dx(){Hh=!1,Hs!==null&&Nc(Hs)&&(Hs=null),zs!==null&&Nc(zs)&&(zs=null),Bs!==null&&Nc(Bs)&&(Bs=null),vl.forEach(W_),El.forEach(W_)}function Mc(i,r){i.blockedOn===r&&(i.blockedOn=null,Hh||(Hh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Dx)))}var Dc=null;function Z_(i){Dc!==i&&(Dc=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Dc===i&&(Dc=null);for(var r=0;r<i.length;r+=3){var a=i[r],u=i[r+1],m=i[r+2];if(typeof u!="function"){if(Fh(u||a)===null)continue;break}var _=In(a);_!==null&&(i.splice(r,3),r-=3,qf(_,{pending:!0,data:m,method:a.method,action:u},u,m))}}))}function Go(i){function r(k){return Mc(k,i)}Hs!==null&&Mc(Hs,i),zs!==null&&Mc(zs,i),Bs!==null&&Mc(Bs,i),vl.forEach(r),El.forEach(r);for(var a=0;a<Gs.length;a++){var u=Gs[a];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Gs.length&&(a=Gs[0],a.blockedOn===null);)X_(a),a.blockedOn===null&&Gs.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var m=a[u],_=a[u+1],A=m[Ut]||null;if(typeof _=="function")A||Z_(a);else if(A){var w=null;if(_&&_.hasAttribute("formAction")){if(m=_,A=_[Ut]||null)w=A.formAction;else if(Fh(m)!==null)continue}else w=A.action;typeof w=="function"?a[u+1]=w:(a.splice(u,3),u-=3),Z_(a)}}}function ev(){function i(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(A){return m=A})},focusReset:"manual",scroll:"manual"})}function r(){m!==null&&(m(),m=null),u||setTimeout(a,20)}function a(){if(!u&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,m=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),m!==null&&(m(),m=null)}}}function zh(i){this._internalRoot=i}Pc.prototype.render=zh.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,u=wn();Y_(a,u,i,r,null,null)},Pc.prototype.unmount=zh.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;Y_(i.current,2,null,i,null,null),hc(),r[fi]=null}};function Pc(i){this._internalRoot=i}Pc.prototype.unstable_scheduleHydration=function(i){if(i){var r=hu();i={blockedOn:null,target:i,priority:r};for(var a=0;a<Gs.length&&r!==0&&r<Gs[a].priority;a++);Gs.splice(a,0,i),a===0&&X_(i)}};var tv=e.version;if(tv!=="19.2.0")throw Error(s(527,tv,"19.2.0"));ae.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=g(r),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var Px={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kc.isDisabled&&kc.supportsFiber)try{zn=kc.inject(Px),Ft=kc}catch{}}return Al.createRoot=function(i,r){if(!o(i))throw Error(s(299));var a=!1,u="",m=ly,_=uy,A=cy;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(A=r.onRecoverableError)),r=B_(i,1,!1,null,null,a,u,null,m,_,A,ev),i[fi]=r.current,Ah(i),new zh(r)},Al.hydrateRoot=function(i,r,a){if(!o(i))throw Error(s(299));var u=!1,m="",_=ly,A=uy,w=cy,k=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onUncaughtError!==void 0&&(_=a.onUncaughtError),a.onCaughtError!==void 0&&(A=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.formState!==void 0&&(k=a.formState)),r=B_(i,1,!0,r,a??null,u,m,k,_,A,w,ev),r.context=G_(null),a=r.current,u=wn(),u=hr(u),m=Rs(u),m.callback=null,Ns(a,m,u),a=u,r.current.lanes=a,dr(r,a),Ii(r),i[fi]=r.current,Ah(i),new Pc(r)},Al.version="19.2.0",Al}var dv;function Gx(){if(dv)return Yh.exports;dv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Yh.exports=Bx(),Yh.exports}var Yx=Gx();const Jx=oT(Yx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$x=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),fv=t=>{const e=$x(t);return e.charAt(0).toUpperCase()+e.slice(1)},aT=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),jx=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Qx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=Ee.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:l,iconNode:c,...h},y)=>Ee.createElement("svg",{ref:y,...Qx,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:aT("lucide",o),...!l&&!jx(h)&&{"aria-hidden":"true"},...h},[...c.map(([g,v])=>Ee.createElement(g,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=(t,e)=>{const n=Ee.forwardRef(({className:s,...o},l)=>Ee.createElement(Xx,{ref:l,iconNode:e,className:aT(`lucide-${Kx(fv(t))}`,`lucide-${t}`,s),...o}));return n.displayName=fv(t),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Zx=Ae("arrow-left",Wx);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],lT=Ae("award",e1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],n1=Ae("briefcase",t1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],uT=Ae("calendar",i1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],r1=Ae("camera",s1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],a1=Ae("chef-hat",o1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],jh=Ae("chevron-right",l1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],zp=Ae("circle-check-big",u1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],cT=Ae("clock",c1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],f1=Ae("code",d1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],p1=Ae("copy",h1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],g1=Ae("credit-card",m1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],_1=Ae("facebook",y1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],E1=Ae("flame",v1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],S1=Ae("house",T1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],C1=Ae("instagram",A1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],dT=Ae("loader-circle",x1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],b1=Ae("log-in",w1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],R1=Ae("log-out",I1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],M1=Ae("mail",N1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],fT=Ae("map-pin",D1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],k1=Ae("menu",P1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=[["path",{d:"M5 12h14",key:"1ays0h"}]],V1=Ae("minus",U1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],hv=Ae("package",L1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],q1=Ae("party-popper",O1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],H1=Ae("phone",F1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],B1=Ae("play",z1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],hT=Ae("plus",G1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],J1=Ae("quote",Y1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],$1=Ae("send",K1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],Q1=Ae("server",j1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],W1=Ae("settings",X1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],pT=Ae("shield-check",Z1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],tw=Ae("shopping-bag",ew);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],iw=Ae("smartphone",nw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],rw=Ae("sparkles",sw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],mT=Ae("star",ow);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],up=Ae("terminal",aw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],uw=Ae("trash-2",lw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],dw=Ae("trending-up",cw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],hw=Ae("truck",fw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],mw=Ae("twitter",pw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],yw=Ae("user",gw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _w=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],gT=Ae("users",_w);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vw=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],Ew=Ae("utensils-crossed",vw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Cd=Ae("x",Tw),Sw=({currentView:t,setView:e,cartCount:n,toggleCart:s,user:o,onLoginClick:l})=>{var y;const[c,h]=Ee.useState(!1);return Ee.useEffect(()=>{const g=()=>h(window.scrollY>20);return window.addEventListener("scroll",g),()=>window.removeEventListener("scroll",g)},[]),E.jsx("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-500 ${c?"bg-black/80 backdrop-blur-xl border-b border-white/5 py-3 shadow-2xl":"bg-transparent py-6"}`,children:E.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("div",{className:"flex-shrink-0 cursor-pointer group",onClick:()=>e("HOME"),children:E.jsxs("div",{className:"flex flex-col",children:[E.jsxs("span",{className:"text-2xl md:text-3xl font-serif text-white tracking-widest font-bold uppercase group-hover:text-primary transition-colors duration-300",children:["Alpha ",E.jsx("span",{className:"text-primary italic",children:"Mandi"})]}),E.jsx("div",{className:"h-[1px] w-0 group-hover:w-full bg-gradient-to-r from-primary to-transparent transition-all duration-500"})]})}),E.jsxs("div",{className:"hidden md:flex items-center space-x-2 bg-black/20 p-1 rounded-full border border-white/5 backdrop-blur-md",children:[E.jsx(Qh,{active:t==="HOME",onClick:()=>e("HOME"),icon:E.jsx(S1,{size:16}),label:"Home"}),E.jsx(Qh,{active:t==="MENU",onClick:()=>e("MENU"),icon:E.jsx(k1,{size:16}),label:"Menu"}),E.jsx(Qh,{active:t==="RESERVATIONS",onClick:()=>e("RESERVATIONS"),icon:E.jsx(uT,{size:16}),label:"Reserve"})]}),E.jsxs("div",{className:"flex items-center gap-3 md:gap-6",children:[o!=null&&o.isLoggedIn?E.jsxs("button",{onClick:()=>e("PROFILE"),className:`hidden md:flex items-center gap-3 pr-4 pl-1 py-1 rounded-full border transition-all duration-300 ${t==="PROFILE"?"bg-primary/10 border-primary text-primary shadow-[0_0_15px_rgba(212,175,55,0.2)]":"bg-white/5 border-white/10 text-gray-300 hover:border-primary/50 hover:text-white"}`,children:[E.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden border border-primary/30",children:E.jsx("img",{src:o.avatar||"https://randomuser.me/api/portraits/lego/1.jpg",alt:"User",className:"w-full h-full object-cover"})}),E.jsx("span",{className:"font-medium text-sm",children:((y=o.name)==null?void 0:y.split(" ")[0])??"User"})]}):E.jsxs("button",{onClick:l,className:"hidden md:flex items-center gap-2 text-sm font-bold tracking-widest uppercase text-white hover:text-primary transition-colors",children:[E.jsx(b1,{size:18}),E.jsx("span",{children:"Login"})]}),E.jsx("button",{onClick:()=>o!=null&&o.isLoggedIn?e("PROFILE"):l(),className:"md:hidden p-2 text-gray-300 hover:text-primary transition-colors",children:E.jsx(yw,{size:24,className:t==="PROFILE"?"text-primary":""})}),E.jsxs("button",{onClick:s,"aria-label":"Open cart",className:"relative p-3 text-white hover:text-primary transition-colors group",children:[E.jsx(tw,{size:22,className:"group-hover:scale-110 transition-transform"}),n>0&&E.jsx("span",{className:"absolute top-1 right-1 inline-flex items-center justify-center w-5 h-5 text-[10px] font-bold text-black bg-gradient-to-r from-primary to-primary-dark rounded-full shadow-lg animate-bounce",children:n})]})]})]})})})},Qh=({active:t,onClick:e,label:n,icon:s})=>E.jsxs("button",{onClick:e,className:`flex items-center gap-2 px-6 py-2.5 rounded-full text-xs font-bold uppercase tracking-widest transition-all duration-300 ${t?"bg-gradient-to-r from-primary to-primary-dark text-black shadow-[0_0_15px_rgba(212,175,55,0.4)]":"text-gray-400 hover:text-white hover:bg-white/10"}`,children:[s,n]}),Cl=({onOrderNow:t,onReserveNow:e})=>E.jsxs("div",{className:"relative h-screen flex items-center justify-center overflow-hidden bg-surface",children:[E.jsxs("div",{className:"absolute inset-0 z-0 bg-cover bg-center bg-no-repeat transform scale-105 animate-[pulse-slow_10s_ease-in-out_infinite]",style:{backgroundImage:'url("https://images.unsplash.com/photo-1514362545857-3bc16c4c7d1b?ixlib=rb-1.2.1&auto=format&fit=crop&w=1920&q=80")'},children:[E.jsx("div",{className:"absolute inset-0 bg-black/60"}),E.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-surface via-surface/80 to-transparent"}),E.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-surface via-transparent to-surface opacity-80"})]}),E.jsxs("div",{className:"relative z-10 text-center px-4 max-w-5xl mx-auto",children:[E.jsxs("div",{className:"mb-8 flex justify-center items-center gap-4 animate-fade-in-up",children:[E.jsx("div",{className:"h-[1px] w-12 bg-gradient-to-r from-transparent to-primary"}),E.jsx("span",{className:"text-primary text-sm md:text-base font-bold tracking-[0.4em] uppercase",children:"Est. 2024"}),E.jsx("div",{className:"h-[1px] w-12 bg-gradient-to-l from-transparent to-primary"})]}),E.jsxs("h1",{className:"text-6xl md:text-9xl font-serif text-white mb-8 leading-none tracking-tight animate-fade-in-up",style:{animationDelay:"0.1s"},children:["Alpha ",E.jsx("span",{className:"text-gold-gradient italic pr-2",children:"Mandi"})]}),E.jsx("p",{className:"text-gray-300 text-lg md:text-xl mb-12 max-w-2xl mx-auto font-light leading-relaxed tracking-wide animate-fade-in-up",style:{animationDelay:"0.2s"},children:"Experience the pinnacle of Arabian culinary art. A symphony of authentic spices, premium meats, and modern luxury."}),E.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center animate-fade-in-up",style:{animationDelay:"0.3s"},children:[E.jsxs("button",{onClick:e,className:"group relative px-10 py-4 bg-gradient-to-r from-primary to-primary-dark text-black font-bold uppercase tracking-[0.2em] overflow-hidden rounded-sm hover:scale-105 transition-transform duration-300 shadow-[0_0_20px_rgba(212,175,55,0.4)]",children:[E.jsx("div",{className:"absolute inset-0 w-full h-full bg-white/20 translate-y-full group-hover:translate-y-0 transition-transform duration-500"}),E.jsx("span",{className:"relative",children:"Reserve Table"})]}),E.jsx("button",{onClick:t,className:"px-10 py-4 border border-primary/30 text-primary hover:text-black hover:bg-primary font-bold uppercase tracking-[0.2em] transition-all duration-300 rounded-sm backdrop-blur-sm bg-black/20",children:"Order Online"})]})]})]});var Et=(t=>(t.STARTER="Starters",t.MAIN="Mains",t.DESSERT="Desserts",t.DRINK="Drinks",t))(Et||{});const cp=[{id:1,name:"Chicken Alfaham",description:"Arabian style grilled chicken marinated in special spices, served with kuboos and garlic dip.",price:18,category:Et.STARTER,imageUrl:"https://images.unsplash.com/photo-1599487488170-d11ec9c172f0?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",calories:450},{id:2,name:"Dragon Chicken",description:"Indo-Chinese specialty. Strips of chicken tossed in a spicy, sweet, and tangy sauce with cashews.",price:15,category:Et.STARTER,imageUrl:"https://images.unsplash.com/photo-1626804475297-411dbe636d06?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",calories:380},{id:12,name:"Golden Fried Prawns",description:"Jumbo prawns batter-fried to a golden crisp, served with our signature sweet chili tartare sauce.",price:22,category:Et.STARTER,imageUrl:"https://images.unsplash.com/photo-1559339352-11d035aa65de?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",calories:320},{id:13,name:"Hummus with Spiced Lamb",description:"Creamy homemade hummus topped with sizzling pine nuts and minced lamb, served with warm pita.",price:16,category:Et.STARTER,imageUrl:"https://images.unsplash.com/photo-1630409351241-e90e7f5e4784?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",calories:410},{id:17,name:"Paneer Tikka Skewers",description:"Cottage cheese cubes marinated in yogurt and tandoori spices, charcoal-grilled with bell peppers.",price:14,category:Et.STARTER,imageUrl:"https://images.unsplash.com/photo-1567188040759-fb8a883dc6d8?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",calories:290},{id:3,name:"Signature Chicken Mandi",description:"Traditional Yemeni dish. Tender chicken steam-roasted with aromatic spices, served over flavorful basmati rice.",price:25,category:Et.MAIN,imageUrl:"https://images.unsplash.com/photo-1633945274405-b6c8069047b0?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",calories:850},{id:4,name:"Mutton Juicy Mandi",description:"Succulent mutton slow-cooked to perfection, served with our secret spice-infused Mandi rice.",price:32,category:Et.MAIN,imageUrl:"https://images.unsplash.com/photo-1544025162-d76694265947?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",calories:920},{id:9,name:"Royal Lamb Shank Mandi",description:"A feast fit for a king. Whole lamb shank braised for 6 hours until fall-off-the-bone tender, served on royal rice.",price:45,category:Et.MAIN,imageUrl:"https://images.unsplash.com/photo-1574653853027-5386907608dd?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",calories:1100},{id:11,name:"Mutton Madfoon",description:"Meat marinated in exotic spices, wrapped in foil/banana leaf and slow-cooked underground to retain all juices.",price:34,category:Et.MAIN,imageUrl:"https://images.unsplash.com/photo-1606471191009-63994c53433b?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",calories:950},{id:10,name:"Peri Peri Alfaham",description:"Spicy twist on the classic. Charcoal grilled chicken brushed with our house-made spicy Peri Peri sauce.",price:20,category:Et.MAIN,imageUrl:"https://images.unsplash.com/photo-1598515214211-89d3c73ae83b?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",calories:500},{id:5,name:"Butter Chicken & Naan",description:"Rich creamy tomato gravy with tender chicken cubes, served with two butter naans.",price:20,category:Et.MAIN,imageUrl:"https://images.unsplash.com/photo-1603894584373-5ac82b2ae398?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",calories:750},{id:18,name:"Grilled King Fish Platter",description:"Fresh King Fish steaks marinated in Arabic spices and grilled to perfection. Served with lemon garlic butter.",price:28,category:Et.MAIN,imageUrl:"https://images.unsplash.com/photo-1533758488827-1a59648d86ba?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",calories:600},{id:6,name:"Classic Kunafa",description:"Middle Eastern dessert made with shredded pastry soaked in syrup, layered with cheese and cream.",price:14,category:Et.DESSERT,imageUrl:"https://images.unsplash.com/photo-1576506295286-5cda18df43e7?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",calories:550},{id:7,name:"Sizzling Brownie",description:"Hot walnut brownie served on a sizzler plate with vanilla ice cream and chocolate sauce.",price:12,category:Et.DESSERT,imageUrl:"https://images.unsplash.com/photo-1551024601-bec78aea704b?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",calories:600},{id:14,name:"Lotus Biscoff Milk Cake",description:"Ultra-moist sponge cake soaked in three kinds of milk, topped with Lotus Biscoff spread and crumbs.",price:16,category:Et.DESSERT,imageUrl:"https://images.unsplash.com/photo-1558961363-fa8fdf82db35?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",calories:650},{id:19,name:"Umm Ali",description:"Egyptian bread pudding with puff pastry, milk, cream, nuts, and raisins. Served warm.",price:13,category:Et.DESSERT,imageUrl:"https://images.unsplash.com/photo-1616031037011-087000171abe?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",calories:480},{id:8,name:"Blue Lagoon Mojito",description:"Refreshing blue curaao mocktail with mint, lemon, and soda.",price:8,category:Et.DRINK,imageUrl:"https://images.unsplash.com/photo-1513558161293-cdaf765ed2fd?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",calories:140},{id:15,name:"Saudi Champagne (Pitcher)",description:"The classic celebration drink. Apple juice, sparkling water, mint leaves, and chopped fruits.",price:18,category:Et.DRINK,imageUrl:"https://images.unsplash.com/photo-1556679343-c7306c1976bc?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",calories:220},{id:16,name:"Signature Karak Tea",description:"Strong brewed tea with evaporated milk and cardamom. The perfect finish to a heavy meal.",price:4,category:Et.DRINK,imageUrl:"https://images.unsplash.com/photo-1563911302283-d2bc129e7c1f?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",calories:80}],Aw=[{id:1,user:"Sarah Jenkins",rating:5,comment:"The Chicken Mandi is absolutely authentic! Reminds me of my trip to Dubai.",avatar:"https://randomuser.me/api/portraits/women/44.jpg"},{id:2,user:"Rahul Mehta",rating:4,comment:"Great ambience and the Kunafa is a must-try. Delivery was super fast.",avatar:"https://randomuser.me/api/portraits/men/32.jpg"},{id:3,user:"Aisha Khan",rating:5,comment:"Best multi-cuisine restaurant in town. The staff is very polite.",avatar:"https://randomuser.me/api/portraits/women/68.jpg"}],Cw=[{id:1,title:"Weekend Feast",description:"Get 20% off on all Family Platters this weekend!",code:"FEAST20",discount:"20% OFF",color:"from-orange-500 to-red-600"},{id:2,title:"First Order",description:"Flat $50 off on your first app order.",code:"ALPHA50",discount:"$50 OFF",color:"from-green-600 to-emerald-800"}],xw=[{id:"#ORD-9921",date:"Oct 24, 2024",items:["Chicken Mandi (x2)","Blue Lagoon","Kunafa"],total:72,status:"Delivered",pointsEarned:720},{id:"#ORD-8842",date:"Oct 12, 2024",items:["Butter Chicken","Garlic Naan (x2)","Coke"],total:45.5,status:"Delivered",pointsEarned:455}],ww=`
You are the AI Concierge for 'Alpha Mandi Multi Cuisine Restaurant'. 
Your tone is welcoming, sophisticated, and knowledgeable about Arabian and Multi-Cuisine dishes.
You have access to the following menu:
${JSON.stringify(cp)}

Your goal is to assist customers by:
1. Recommending dishes, especially highlighting our signature Mandi and Alfaham.
2. Explaining what 'Mandi' is (a traditional Yemeni dish with meat and rice cooked in a pit) if asked.
3. Suggesting drinks to pair with spicy food.
4. Informing them about our latest offers: Weekend Feast (20% off) and First Order ($50 off).

Keep responses concise and elegant.
`,pv=({addToCart:t})=>{const[e,n]=Ee.useState("All"),s=e==="All"?cp:cp.filter(o=>o.category===e);return E.jsxs("div",{className:"min-h-screen bg-surface pt-24 pb-20 px-4 sm:px-6 lg:px-8 relative",children:[E.jsx("div",{className:"absolute top-0 left-0 w-full h-96 bg-gradient-to-b from-surface-light/20 to-transparent"}),E.jsxs("div",{className:"text-center mb-16 relative z-10",children:[E.jsx("h2",{className:"text-5xl font-serif text-white mb-4",children:"Culinary Masterpieces"}),E.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-transparent via-primary to-transparent mx-auto"}),E.jsx("p",{className:"mt-4 text-gray-400 max-w-xl mx-auto tracking-wide",children:"Curated flavors from the heart of Arabia."})]}),E.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mb-16 relative z-10",children:[E.jsx(mv,{active:e==="All",onClick:()=>n("All"),label:"All Collections"}),Object.values(Et).map(o=>E.jsx(mv,{active:e===o,onClick:()=>n(o),label:o},o))]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8 max-w-8xl mx-auto relative z-10",children:s.map(o=>E.jsxs("div",{className:"group relative bg-surface-light rounded-2xl overflow-hidden hover:-translate-y-2 transition-all duration-500 shadow-2xl hover:shadow-[0_10px_30px_rgba(212,175,55,0.1)] border border-white/5 hover:border-primary/30",children:[E.jsxs("div",{className:"h-72 overflow-hidden relative",children:[E.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-surface-light via-transparent to-transparent z-10 opacity-80"}),E.jsx("img",{src:o.imageUrl,alt:o.name,className:"w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-1000 grayscale-[20%] group-hover:grayscale-0"}),E.jsxs("div",{className:"absolute top-4 right-4 z-20 bg-black/60 backdrop-blur-md px-3 py-1.5 rounded-full text-[10px] font-bold uppercase tracking-wider text-primary border border-primary/20 flex items-center gap-1",children:[E.jsx(E1,{size:12,className:"text-primary"})," ",o.calories," kcal"]})]}),E.jsx("div",{className:"p-6 relative z-20 -mt-20",children:E.jsxs("div",{className:"glass-panel bg-[#151515]/95 rounded-xl p-5 shadow-2xl backdrop-blur-xl border border-white/5",children:[E.jsxs("div",{className:"flex justify-between items-start mb-2",children:[E.jsx("h3",{className:"text-lg font-serif text-white leading-tight pr-2 group-hover:text-primary transition-colors",children:o.name}),E.jsxs("span",{className:"text-primary font-bold text-lg drop-shadow-md",children:["$",o.price]})]}),E.jsx("p",{className:"text-gray-500 text-xs mb-6 h-10 leading-relaxed overflow-hidden text-ellipsis line-clamp-2",children:o.description}),E.jsxs("button",{onClick:()=>t(o),className:"w-full flex items-center justify-center gap-2 py-3 bg-white/5 hover:bg-primary text-gray-300 hover:text-black border border-white/10 hover:border-primary rounded-lg transition-all duration-300 uppercase text-xs tracking-widest font-bold group/btn",children:[E.jsx(hT,{size:14,className:"group-hover/btn:rotate-90 transition-transform"})," Add to Order"]})]})})]},o.id))})]})},mv=({active:t,onClick:e,label:n})=>E.jsx("button",{onClick:e,className:`px-8 py-3 rounded-full text-xs font-bold uppercase tracking-widest transition-all duration-300 border ${t?"bg-primary border-primary text-black shadow-[0_0_15px_rgba(212,175,55,0.3)] transform scale-105":"bg-transparent border-white/10 text-gray-500 hover:border-primary/50 hover:text-primary hover:bg-white/5"}`,children:n}),bw=({isOpen:t,onClose:e,cart:n,updateQuantity:s,removeItem:o,onCheckout:l})=>{const c=n.reduce((h,y)=>h+y.price*y.quantity,0);return E.jsxs(E.Fragment,{children:[t&&E.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 transition-opacity",onClick:e}),E.jsx("div",{className:`fixed inset-y-0 right-0 w-full sm:w-96 bg-surface-light border-l border-white/10 shadow-2xl z-[60] transform transition-transform duration-300 ease-in-out ${t?"translate-x-0":"translate-x-full"}`,children:E.jsxs("div",{className:"flex flex-col h-full",children:[E.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center bg-black/20",children:[E.jsx("h2",{className:"text-2xl font-serif text-white",children:"Your Selection"}),E.jsx("button",{onClick:e,className:"text-gray-400 hover:text-primary transition-colors",children:E.jsx(Cd,{size:24})})]}),E.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:n.length===0?E.jsxs("div",{className:"text-center text-gray-500 mt-20",children:[E.jsx("p",{className:"text-sm tracking-wide",children:"Your cart is empty."}),E.jsx("button",{onClick:e,className:"mt-4 text-primary hover:underline text-sm uppercase font-bold tracking-widest",children:"Browse Menu"})]}):n.map(h=>E.jsxs("div",{className:"flex gap-4 p-3 rounded-lg hover:bg-white/5 transition-colors border border-transparent hover:border-white/5",children:[E.jsx("img",{src:h.imageUrl,alt:h.name,className:"w-20 h-20 object-cover rounded-md border border-white/10"}),E.jsxs("div",{className:"flex-1",children:[E.jsxs("div",{className:"flex justify-between mb-1",children:[E.jsx("h3",{className:"font-medium text-white font-serif",children:h.name}),E.jsxs("span",{className:"text-primary font-bold",children:["$",(h.price*h.quantity).toFixed(2)]})]}),E.jsxs("p",{className:"text-xs text-gray-400 mb-3",children:["$",h.price," each"]}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsxs("div",{className:"flex items-center border border-white/20 rounded-md bg-black/20",children:[E.jsx("button",{onClick:()=>s(h.id,-1),className:"p-1 hover:bg-white/10 text-gray-400 hover:text-white transition-colors",children:E.jsx(V1,{size:14})}),E.jsx("span",{className:"px-2 text-sm text-white font-mono",children:h.quantity}),E.jsx("button",{onClick:()=>s(h.id,1),className:"p-1 hover:bg-white/10 text-gray-400 hover:text-white transition-colors",children:E.jsx(hT,{size:14})})]}),E.jsx("button",{onClick:()=>o(h.id),className:"text-gray-600 hover:text-red-400 ml-auto transition-colors",children:E.jsx(uw,{size:16})})]})]})]},h.id))}),E.jsxs("div",{className:"p-6 border-t border-white/10 bg-black/20",children:[E.jsxs("div",{className:"flex justify-between items-center mb-6",children:[E.jsx("span",{className:"text-gray-400 uppercase tracking-wider text-xs",children:"Total"}),E.jsxs("span",{className:"text-3xl font-serif text-primary",children:["$",c.toFixed(2)]})]}),E.jsx("button",{onClick:l,disabled:n.length===0,className:"w-full py-4 bg-primary text-black font-bold uppercase tracking-[0.2em] hover:bg-white hover:text-black transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed shadow-[0_0_15px_rgba(212,175,55,0.2)]",children:"Checkout"})]})]})})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Iw,Rw;function Nw(){return{geminiUrl:Iw,vertexUrl:Rw}}function Mw(t,e,n,s){var o,l;if(!(t!=null&&t.baseUrl)){const c=Nw();return e?(o=c.vertexUrl)!==null&&o!==void 0?o:n:(l=c.geminiUrl)!==null&&l!==void 0?l:s}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class us{}function ce(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(s,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const l=e[o];return l!=null?String(l):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function f(t,e,n){for(let l=0;l<e.length-1;l++){const c=e[l];if(c.endsWith("[]")){const h=c.slice(0,-2);if(!(h in t))if(Array.isArray(n))t[h]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(t[h])){const y=t[h];if(Array.isArray(n))for(let g=0;g<y.length;g++){const v=y[g];f(v,e.slice(l+1),n[g])}else for(const g of y)f(g,e.slice(l+1),n)}return}else if(c.endsWith("[0]")){const h=c.slice(0,-3);h in t||(t[h]=[{}]);const y=t[h];f(y[0],e.slice(l+1),n);return}(!t[c]||typeof t[c]!="object")&&(t[c]={}),t=t[c]}const s=e[e.length-1],o=t[s];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[s]=n}function d(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let s=0;s<e.length;s++){if(typeof t!="object"||t===null)return n;const o=e[s];if(o.endsWith("[]")){const l=o.slice(0,-2);if(l in t){const c=t[l];return Array.isArray(c)?c.map(h=>d(h,e.slice(s+1),n)):n}else return n}else t=t[o]}return t}catch(s){if(s instanceof TypeError)return n;throw s}}function Dw(t,e){for(const[n,s]of Object.entries(e)){const o=n.split("."),l=s.split("."),c=new Set;let h=-1;for(let y=0;y<o.length;y++)if(o[y]==="*"){h=y;break}if(h!==-1&&l.length>h)for(let y=h;y<l.length;y++){const g=l[y];g!=="*"&&!g.endsWith("[]")&&!g.endsWith("[0]")&&c.add(g)}dp(t,o,l,0,c)}}function dp(t,e,n,s,o){if(s>=e.length||typeof t!="object"||t===null)return;const l=e[s];if(l.endsWith("[]")){const c=l.slice(0,-2),h=t;if(c in h&&Array.isArray(h[c]))for(const y of h[c])dp(y,e,n,s+1,o)}else if(l==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const c=t,h=Object.keys(c).filter(g=>!g.startsWith("_")&&!o.has(g)),y={};for(const g of h)y[g]=c[g];for(const[g,v]of Object.entries(y)){const S=[];for(const C of n.slice(s))C==="*"?S.push(g):S.push(C);f(c,S,v)}for(const g of h)delete c[g]}}else{const c=t;l in c&&dp(c[l],e,n,s+1,o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bp(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pw(t){const e={},n=d(t,["operationName"]);n!=null&&f(e,["operationName"],n);const s=d(t,["resourceName"]);return s!=null&&f(e,["_url","resourceName"],s),e}function kw(t){const e={},n=d(t,["name"]);n!=null&&f(e,["name"],n);const s=d(t,["metadata"]);s!=null&&f(e,["metadata"],s);const o=d(t,["done"]);o!=null&&f(e,["done"],o);const l=d(t,["error"]);l!=null&&f(e,["error"],l);const c=d(t,["response","generateVideoResponse"]);return c!=null&&f(e,["response"],Vw(c)),e}function Uw(t){const e={},n=d(t,["name"]);n!=null&&f(e,["name"],n);const s=d(t,["metadata"]);s!=null&&f(e,["metadata"],s);const o=d(t,["done"]);o!=null&&f(e,["done"],o);const l=d(t,["error"]);l!=null&&f(e,["error"],l);const c=d(t,["response"]);return c!=null&&f(e,["response"],Lw(c)),e}function Vw(t){const e={},n=d(t,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>Ow(c))),f(e,["generatedVideos"],l)}const s=d(t,["raiMediaFilteredCount"]);s!=null&&f(e,["raiMediaFilteredCount"],s);const o=d(t,["raiMediaFilteredReasons"]);return o!=null&&f(e,["raiMediaFilteredReasons"],o),e}function Lw(t){const e={},n=d(t,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>qw(c))),f(e,["generatedVideos"],l)}const s=d(t,["raiMediaFilteredCount"]);s!=null&&f(e,["raiMediaFilteredCount"],s);const o=d(t,["raiMediaFilteredReasons"]);return o!=null&&f(e,["raiMediaFilteredReasons"],o),e}function Ow(t){const e={},n=d(t,["video"]);return n!=null&&f(e,["video"],Yw(n)),e}function qw(t){const e={},n=d(t,["_self"]);return n!=null&&f(e,["video"],Jw(n)),e}function Fw(t){const e={},n=d(t,["operationName"]);return n!=null&&f(e,["_url","operationName"],n),e}function Hw(t){const e={},n=d(t,["operationName"]);return n!=null&&f(e,["_url","operationName"],n),e}function zw(t){const e={},n=d(t,["name"]);n!=null&&f(e,["name"],n);const s=d(t,["metadata"]);s!=null&&f(e,["metadata"],s);const o=d(t,["done"]);o!=null&&f(e,["done"],o);const l=d(t,["error"]);l!=null&&f(e,["error"],l);const c=d(t,["response"]);return c!=null&&f(e,["response"],Bw(c)),e}function Bw(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const s=d(t,["parent"]);s!=null&&f(e,["parent"],s);const o=d(t,["documentName"]);return o!=null&&f(e,["documentName"],o),e}function yT(t){const e={},n=d(t,["name"]);n!=null&&f(e,["name"],n);const s=d(t,["metadata"]);s!=null&&f(e,["metadata"],s);const o=d(t,["done"]);o!=null&&f(e,["done"],o);const l=d(t,["error"]);l!=null&&f(e,["error"],l);const c=d(t,["response"]);return c!=null&&f(e,["response"],Gw(c)),e}function Gw(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const s=d(t,["parent"]);s!=null&&f(e,["parent"],s);const o=d(t,["documentName"]);return o!=null&&f(e,["documentName"],o),e}function Yw(t){const e={},n=d(t,["uri"]);n!=null&&f(e,["uri"],n);const s=d(t,["encodedVideo"]);s!=null&&f(e,["videoBytes"],Bp(s));const o=d(t,["encoding"]);return o!=null&&f(e,["mimeType"],o),e}function Jw(t){const e={},n=d(t,["gcsUri"]);n!=null&&f(e,["uri"],n);const s=d(t,["bytesBase64Encoded"]);s!=null&&f(e,["videoBytes"],Bp(s));const o=d(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var gv;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(gv||(gv={}));var yv;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(yv||(yv={}));var _v;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(_v||(_v={}));var Xs;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Xs||(Xs={}));var vv;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(vv||(vv={}));var Ev;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Ev||(Ev={}));var Tv;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Tv||(Tv={}));var Sv;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Sv||(Sv={}));var Av;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Av||(Av={}));var Cv;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(Cv||(Cv={}));var xv;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(xv||(xv={}));var wv;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(wv||(wv={}));var bv;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(bv||(bv={}));var Iv;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(Iv||(Iv={}));var Rv;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Rv||(Rv={}));var Nv;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Nv||(Nv={}));var Mv;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Mv||(Mv={}));var Dv;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(Dv||(Dv={}));var Pv;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Pv||(Pv={}));var ed;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(ed||(ed={}));var kv;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(kv||(kv={}));var Uv;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Uv||(Uv={}));var Vv;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Vv||(Vv={}));var fp;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(fp||(fp={}));var Lv;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Lv||(Lv={}));var Ov;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Ov||(Ov={}));var qv;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(qv||(qv={}));var Fv;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Fv||(Fv={}));var Hv;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Hv||(Hv={}));var zv;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(zv||(zv={}));var Bv;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Bv||(Bv={}));var Gv;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Gv||(Gv={}));var Yv;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Yv||(Yv={}));var Jv;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Jv||(Jv={}));var Kv;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Kv||(Kv={}));var $v;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})($v||($v={}));var jv;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(jv||(jv={}));var Qv;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Qv||(Qv={}));var Xv;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Xv||(Xv={}));var Wv;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(Wv||(Wv={}));var Zv;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(Zv||(Zv={}));var e0;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(e0||(e0={}));var t0;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(t0||(t0={}));var n0;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(n0||(n0={}));var i0;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(i0||(i0={}));var s0;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(s0||(s0={}));var r0;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(r0||(r0={}));var o0;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(o0||(o0={}));var a0;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(a0||(a0={}));var l0;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(l0||(l0={}));var u0;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(u0||(u0={}));var c0;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(c0||(c0={}));var d0;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(d0||(d0={}));var f0;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(f0||(f0={}));var Ko;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Ko||(Ko={}));class hp{constructor(e){const n={};for(const s of e.headers.entries())n[s[0]]=s[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class xl{get text(){var e,n,s,o,l,c,h,y;if(((o=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let g="",v=!1;const S=[];for(const C of(y=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[I,F]of Object.entries(C))I!=="text"&&I!=="thought"&&I!=="thoughtSignature"&&(F!==null||F!==void 0)&&S.push(I);if(typeof C.text=="string"){if(typeof C.thought=="boolean"&&C.thought)continue;v=!0,g+=C.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?g:void 0}get data(){var e,n,s,o,l,c,h,y;if(((o=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let g="";const v=[];for(const S of(y=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[C,I]of Object.entries(S))C!=="inlineData"&&(I!==null||I!==void 0)&&v.push(C);S.inlineData&&typeof S.inlineData.data=="string"&&(g+=atob(S.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),g.length>0?btoa(g):void 0}get functionCalls(){var e,n,s,o,l,c,h,y;if(((o=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const g=(y=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((g==null?void 0:g.length)!==0)return g}get executableCode(){var e,n,s,o,l,c,h,y,g;if(((o=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(g=v==null?void 0:v[0])===null||g===void 0?void 0:g.code}get codeExecutionResult(){var e,n,s,o,l,c,h,y,g;if(((o=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(g=v==null?void 0:v[0])===null||g===void 0?void 0:g.output}}class h0{}class p0{}class Kw{}class $w{}class jw{}class Qw{}class m0{}class g0{}class y0{}class Xw{}class td{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const s=new td;let o;const l=e;return n?o=Uw(l):o=kw(l),Object.assign(s,o),s}}class _0{}class v0{}class E0{}class Ww{}class Zw{}class eb{}class Gp{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const s=new Gp,l=zw(e);return Object.assign(s,l),s}}class tb{}class nb{}class ib{}class T0{}class sb{get text(){var e,n,s;let o="",l=!1;const c=[];for(const h of(s=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&s!==void 0?s:[]){for(const[y,g]of Object.entries(h))y!=="text"&&y!=="thought"&&g!==null&&c.push(y);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;l=!0,o+=h.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?o:void 0}get data(){var e,n,s;let o="";const l=[];for(const c of(s=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&s!==void 0?s:[]){for(const[h,y]of Object.entries(c))h!=="inlineData"&&y!==null&&l.push(h);c.inlineData&&typeof c.inlineData.data=="string"&&(o+=atob(c.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class rb{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Yp{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const s=new Yp,l=yT(e);return Object.assign(s,l),s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Be(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function _T(t,e){const n=Be(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function vT(t){return Array.isArray(t)?t.map(e=>nd(e)):[nd(t)]}function nd(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function ET(t){const e=nd(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function TT(t){const e=nd(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function S0(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function ST(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>S0(e)):[S0(t)]}function pp(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function A0(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function C0(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function nn(t){if(t==null)throw new Error("ContentUnion is required");return pp(t)?t:{role:"user",parts:ST(t)}}function Jp(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const s=nn(n);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(t.isVertexAI()){const n=nn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>nn(n)):[nn(e)]}function Hn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(A0(t)||C0(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[nn(t)]}const e=[],n=[],s=pp(t[0]);for(const o of t){const l=pp(o);if(l!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)e.push(o);else{if(A0(o)||C0(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return s||e.push({role:"user",parts:ST(n)}),e}function ob(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(s=>s!=="null");if(n.length===1)e.type=Object.values(Xs).includes(n[0].toUpperCase())?n[0].toUpperCase():Xs.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const s of n)e.anyOf.push({type:Object.values(Xs).includes(s.toUpperCase())?s.toUpperCase():Xs.TYPE_UNSPECIFIED})}}function jo(t){const e={},n=["items"],s=["anyOf"],o=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=t.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(e.nullable=!0,t=l[1]):l[1].type==="null"&&(e.nullable=!0,t=l[0])),t.type instanceof Array&&ob(t.type,e);for(const[c,h]of Object.entries(t))if(h!=null)if(c=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(Xs).includes(h.toUpperCase())?h.toUpperCase():Xs.TYPE_UNSPECIFIED}else if(n.includes(c))e[c]=jo(h);else if(s.includes(c)){const y=[];for(const g of h){if(g.type=="null"){e.nullable=!0;continue}y.push(jo(g))}e[c]=y}else if(o.includes(c)){const y={};for(const[g,v]of Object.entries(h))y[g]=jo(v);e[c]=y}else{if(c==="additionalProperties")continue;e[c]=h}return e}function Kp(t){return jo(t)}function $p(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function jp(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function ca(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=jo(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=jo(e.response));return t}function da(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function ab(t,e,n,s=1){const o=!e.startsWith(`${n}/`)&&e.split("/").length===s;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:o?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:o?`${n}/${e}`:e}function cs(t,e){if(typeof e!="string")throw new Error("name must be a string");return ab(t,e,"cachedContents")}function AT(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function or(t){return Bp(t)}function lb(t){return t!=null&&typeof t=="object"&&"name"in t}function ub(t){return t!=null&&typeof t=="object"&&"video"in t}function cb(t){return t!=null&&typeof t=="object"&&"uri"in t}function CT(t){var e;let n;if(lb(t)&&(n=t.name),!(cb(t)&&(n=t.uri,n===void 0))&&!(ub(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function xT(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function wT(t){for(const e of["models","tunedModels","publisherModels"])if(db(t,e))return t[e];return[]}function db(t,e){return t!==null&&typeof t=="object"&&e in t}function fb(t,e={}){const n=t,s={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(s.responseJsonSchema=n.outputSchema),e.behavior&&(s.behavior=e.behavior),{functionDeclarations:[s]}}function hb(t,e={}){const n=[],s=new Set;for(const o of t){const l=o.name;if(s.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);s.add(l);const c=fb(o,e);c.functionDeclarations&&n.push(...c.functionDeclarations)}return{functionDeclarations:n}}function bT(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const s=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,o=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(o>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||o!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function pb(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function IT(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const o=n.inlinedResponses;if(!Array.isArray(o)||o.length===0)return t;let l=!1;for(const c of o){if(typeof c!="object"||c===null)continue;const y=c.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){l=!0;break}}return l&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function fa(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function RT(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mb(t){const e={},n=d(t,["responsesFile"]);n!=null&&f(e,["fileName"],n);const s=d(t,["inlinedResponses","inlinedResponses"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>jb(c))),f(e,["inlinedResponses"],l)}const o=d(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["inlinedEmbedContentResponses"],l)}return e}function gb(t){const e={},n=d(t,["predictionsFormat"]);n!=null&&f(e,["format"],n);const s=d(t,["gcsDestination","outputUriPrefix"]);s!=null&&f(e,["gcsUri"],s);const o=d(t,["bigqueryDestination","outputUri"]);return o!=null&&f(e,["bigqueryUri"],o),e}function yb(t){const e={},n=d(t,["format"]);n!=null&&f(e,["predictionsFormat"],n);const s=d(t,["gcsUri"]);s!=null&&f(e,["gcsDestination","outputUriPrefix"],s);const o=d(t,["bigqueryUri"]);if(o!=null&&f(e,["bigqueryDestination","outputUri"],o),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function zc(t){const e={},n=d(t,["name"]);n!=null&&f(e,["name"],n);const s=d(t,["metadata","displayName"]);s!=null&&f(e,["displayName"],s);const o=d(t,["metadata","state"]);o!=null&&f(e,["state"],RT(o));const l=d(t,["metadata","createTime"]);l!=null&&f(e,["createTime"],l);const c=d(t,["metadata","endTime"]);c!=null&&f(e,["endTime"],c);const h=d(t,["metadata","updateTime"]);h!=null&&f(e,["updateTime"],h);const y=d(t,["metadata","model"]);y!=null&&f(e,["model"],y);const g=d(t,["metadata","output"]);return g!=null&&f(e,["dest"],mb(IT(g))),e}function mp(t){const e={},n=d(t,["name"]);n!=null&&f(e,["name"],n);const s=d(t,["displayName"]);s!=null&&f(e,["displayName"],s);const o=d(t,["state"]);o!=null&&f(e,["state"],RT(o));const l=d(t,["error"]);l!=null&&f(e,["error"],l);const c=d(t,["createTime"]);c!=null&&f(e,["createTime"],c);const h=d(t,["startTime"]);h!=null&&f(e,["startTime"],h);const y=d(t,["endTime"]);y!=null&&f(e,["endTime"],y);const g=d(t,["updateTime"]);g!=null&&f(e,["updateTime"],g);const v=d(t,["model"]);v!=null&&f(e,["model"],v);const S=d(t,["inputConfig"]);S!=null&&f(e,["src"],_b(S));const C=d(t,["outputConfig"]);C!=null&&f(e,["dest"],gb(IT(C)));const I=d(t,["completionStats"]);return I!=null&&f(e,["completionStats"],I),e}function _b(t){const e={},n=d(t,["instancesFormat"]);n!=null&&f(e,["format"],n);const s=d(t,["gcsSource","uris"]);s!=null&&f(e,["gcsUri"],s);const o=d(t,["bigquerySource","inputUri"]);return o!=null&&f(e,["bigqueryUri"],o),e}function vb(t,e){const n={};if(d(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=d(e,["fileName"]);s!=null&&f(n,["fileName"],s);const o=d(e,["inlinedRequests"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>$b(t,c))),f(n,["requests","requests"],l)}return n}function Eb(t){const e={},n=d(t,["format"]);n!=null&&f(e,["instancesFormat"],n);const s=d(t,["gcsUri"]);s!=null&&f(e,["gcsSource","uris"],s);const o=d(t,["bigqueryUri"]);if(o!=null&&f(e,["bigquerySource","inputUri"],o),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Tb(t){const e={},n=d(t,["data"]);if(n!=null&&f(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=d(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function Sb(t,e){const n={},s=d(e,["name"]);return s!=null&&f(n,["_url","name"],fa(t,s)),n}function Ab(t,e){const n={},s=d(e,["name"]);return s!=null&&f(n,["_url","name"],fa(t,s)),n}function Cb(t){const e={},n=d(t,["content"]);n!=null&&f(e,["content"],n);const s=d(t,["citationMetadata"]);s!=null&&f(e,["citationMetadata"],xb(s));const o=d(t,["tokenCount"]);o!=null&&f(e,["tokenCount"],o);const l=d(t,["finishReason"]);l!=null&&f(e,["finishReason"],l);const c=d(t,["avgLogprobs"]);c!=null&&f(e,["avgLogprobs"],c);const h=d(t,["groundingMetadata"]);h!=null&&f(e,["groundingMetadata"],h);const y=d(t,["index"]);y!=null&&f(e,["index"],y);const g=d(t,["logprobsResult"]);g!=null&&f(e,["logprobsResult"],g);const v=d(t,["safetyRatings"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(I=>I)),f(e,["safetyRatings"],C)}const S=d(t,["urlContextMetadata"]);return S!=null&&f(e,["urlContextMetadata"],S),e}function xb(t){const e={},n=d(t,["citationSources"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>o)),f(e,["citations"],s)}return e}function NT(t){const e={},n=d(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>nI(l))),f(e,["parts"],o)}const s=d(t,["role"]);return s!=null&&f(e,["role"],s),e}function wb(t,e){const n={},s=d(t,["displayName"]);if(e!==void 0&&s!=null&&f(e,["batch","displayName"],s),d(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function bb(t,e){const n={},s=d(t,["displayName"]);e!==void 0&&s!=null&&f(e,["displayName"],s);const o=d(t,["dest"]);return e!==void 0&&o!=null&&f(e,["outputConfig"],yb(pb(o))),n}function x0(t,e){const n={},s=d(e,["model"]);s!=null&&f(n,["_url","model"],Be(t,s));const o=d(e,["src"]);o!=null&&f(n,["batch","inputConfig"],vb(t,bT(t,o)));const l=d(e,["config"]);return l!=null&&wb(l,n),n}function Ib(t,e){const n={},s=d(e,["model"]);s!=null&&f(n,["model"],Be(t,s));const o=d(e,["src"]);o!=null&&f(n,["inputConfig"],Eb(bT(t,o)));const l=d(e,["config"]);return l!=null&&bb(l,n),n}function Rb(t,e){const n={},s=d(t,["displayName"]);return e!==void 0&&s!=null&&f(e,["batch","displayName"],s),n}function Nb(t,e){const n={},s=d(e,["model"]);s!=null&&f(n,["_url","model"],Be(t,s));const o=d(e,["src"]);o!=null&&f(n,["batch","inputConfig"],Lb(t,o));const l=d(e,["config"]);return l!=null&&Rb(l,n),n}function Mb(t,e){const n={},s=d(e,["name"]);return s!=null&&f(n,["_url","name"],fa(t,s)),n}function Db(t,e){const n={},s=d(e,["name"]);return s!=null&&f(n,["_url","name"],fa(t,s)),n}function Pb(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const s=d(t,["name"]);s!=null&&f(e,["name"],s);const o=d(t,["done"]);o!=null&&f(e,["done"],o);const l=d(t,["error"]);return l!=null&&f(e,["error"],l),e}function kb(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const s=d(t,["name"]);s!=null&&f(e,["name"],s);const o=d(t,["done"]);o!=null&&f(e,["done"],o);const l=d(t,["error"]);return l!=null&&f(e,["error"],l),e}function Ub(t,e){const n={},s=d(e,["contents"]);if(s!=null){let l=Jp(t,s);Array.isArray(l)&&(l=l.map(c=>c)),f(n,["requests[]","request","content"],l)}const o=d(e,["config"]);return o!=null&&(f(n,["_self"],Vb(o,n)),Dw(n,{"requests[].*":"requests[].request.*"})),n}function Vb(t,e){const n={},s=d(t,["taskType"]);e!==void 0&&s!=null&&f(e,["requests[]","taskType"],s);const o=d(t,["title"]);e!==void 0&&o!=null&&f(e,["requests[]","title"],o);const l=d(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&f(e,["requests[]","outputDimensionality"],l),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Lb(t,e){const n={},s=d(e,["fileName"]);s!=null&&f(n,["file_name"],s);const o=d(e,["inlinedRequests"]);return o!=null&&f(n,["requests"],Ub(t,o)),n}function Ob(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const s=d(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function qb(t){const e={},n=d(t,["id"]);n!=null&&f(e,["id"],n);const s=d(t,["args"]);s!=null&&f(e,["args"],s);const o=d(t,["name"]);if(o!=null&&f(e,["name"],o),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Fb(t){const e={},n=d(t,["mode"]);n!=null&&f(e,["mode"],n);const s=d(t,["allowedFunctionNames"]);if(s!=null&&f(e,["allowedFunctionNames"],s),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Hb(t,e,n){const s={},o=d(e,["systemInstruction"]);n!==void 0&&o!=null&&f(n,["systemInstruction"],NT(nn(o)));const l=d(e,["temperature"]);l!=null&&f(s,["temperature"],l);const c=d(e,["topP"]);c!=null&&f(s,["topP"],c);const h=d(e,["topK"]);h!=null&&f(s,["topK"],h);const y=d(e,["candidateCount"]);y!=null&&f(s,["candidateCount"],y);const g=d(e,["maxOutputTokens"]);g!=null&&f(s,["maxOutputTokens"],g);const v=d(e,["stopSequences"]);v!=null&&f(s,["stopSequences"],v);const S=d(e,["responseLogprobs"]);S!=null&&f(s,["responseLogprobs"],S);const C=d(e,["logprobs"]);C!=null&&f(s,["logprobs"],C);const I=d(e,["presencePenalty"]);I!=null&&f(s,["presencePenalty"],I);const F=d(e,["frequencyPenalty"]);F!=null&&f(s,["frequencyPenalty"],F);const J=d(e,["seed"]);J!=null&&f(s,["seed"],J);const G=d(e,["responseMimeType"]);G!=null&&f(s,["responseMimeType"],G);const W=d(e,["responseSchema"]);W!=null&&f(s,["responseSchema"],Kp(W));const ne=d(e,["responseJsonSchema"]);if(ne!=null&&f(s,["responseJsonSchema"],ne),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const j=d(e,["safetySettings"]);if(n!==void 0&&j!=null){let V=j;Array.isArray(V)&&(V=V.map(P=>iI(P))),f(n,["safetySettings"],V)}const re=d(e,["tools"]);if(n!==void 0&&re!=null){let V=da(re);Array.isArray(V)&&(V=V.map(P=>rI(ca(P)))),f(n,["tools"],V)}const de=d(e,["toolConfig"]);if(n!==void 0&&de!=null&&f(n,["toolConfig"],sI(de)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const le=d(e,["cachedContent"]);n!==void 0&&le!=null&&f(n,["cachedContent"],cs(t,le));const M=d(e,["responseModalities"]);M!=null&&f(s,["responseModalities"],M);const N=d(e,["mediaResolution"]);N!=null&&f(s,["mediaResolution"],N);const R=d(e,["speechConfig"]);if(R!=null&&f(s,["speechConfig"],$p(R)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const U=d(e,["thinkingConfig"]);U!=null&&f(s,["thinkingConfig"],U);const D=d(e,["imageConfig"]);return D!=null&&f(s,["imageConfig"],Kb(D)),s}function zb(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const s=d(t,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(g=>Cb(g))),f(e,["candidates"],y)}const o=d(t,["modelVersion"]);o!=null&&f(e,["modelVersion"],o);const l=d(t,["promptFeedback"]);l!=null&&f(e,["promptFeedback"],l);const c=d(t,["responseId"]);c!=null&&f(e,["responseId"],c);const h=d(t,["usageMetadata"]);return h!=null&&f(e,["usageMetadata"],h),e}function Bb(t,e){const n={},s=d(e,["name"]);return s!=null&&f(n,["_url","name"],fa(t,s)),n}function Gb(t,e){const n={},s=d(e,["name"]);return s!=null&&f(n,["_url","name"],fa(t,s)),n}function Yb(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&f(e,["enableWidget"],n),e}function Jb(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],n),e}function Kb(t){const e={},n=d(t,["aspectRatio"]);n!=null&&f(e,["aspectRatio"],n);const s=d(t,["imageSize"]);if(s!=null&&f(e,["imageSize"],s),d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function $b(t,e){const n={},s=d(e,["model"]);s!=null&&f(n,["request","model"],Be(t,s));const o=d(e,["contents"]);if(o!=null){let h=Hn(o);Array.isArray(h)&&(h=h.map(y=>NT(y))),f(n,["request","contents"],h)}const l=d(e,["metadata"]);l!=null&&f(n,["metadata"],l);const c=d(e,["config"]);return c!=null&&f(n,["request","generationConfig"],Hb(t,c,d(n,["request"],{}))),n}function jb(t){const e={},n=d(t,["response"]);n!=null&&f(e,["response"],zb(n));const s=d(t,["error"]);return s!=null&&f(e,["error"],s),e}function Qb(t,e){const n={},s=d(t,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const o=d(t,["pageToken"]);if(e!==void 0&&o!=null&&f(e,["_query","pageToken"],o),d(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Xb(t,e){const n={},s=d(t,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const o=d(t,["pageToken"]);e!==void 0&&o!=null&&f(e,["_query","pageToken"],o);const l=d(t,["filter"]);return e!==void 0&&l!=null&&f(e,["_query","filter"],l),n}function Wb(t){const e={},n=d(t,["config"]);return n!=null&&Qb(n,e),e}function Zb(t){const e={},n=d(t,["config"]);return n!=null&&Xb(n,e),e}function eI(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const s=d(t,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const o=d(t,["operations"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>zc(c))),f(e,["batchJobs"],l)}return e}function tI(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const s=d(t,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const o=d(t,["batchPredictionJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>mp(c))),f(e,["batchJobs"],l)}return e}function nI(t){const e={},n=d(t,["mediaResolution"]);n!=null&&f(e,["mediaResolution"],n);const s=d(t,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const o=d(t,["executableCode"]);o!=null&&f(e,["executableCode"],o);const l=d(t,["fileData"]);l!=null&&f(e,["fileData"],Ob(l));const c=d(t,["functionCall"]);c!=null&&f(e,["functionCall"],qb(c));const h=d(t,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const y=d(t,["inlineData"]);y!=null&&f(e,["inlineData"],Tb(y));const g=d(t,["text"]);g!=null&&f(e,["text"],g);const v=d(t,["thought"]);v!=null&&f(e,["thought"],v);const S=d(t,["thoughtSignature"]);S!=null&&f(e,["thoughtSignature"],S);const C=d(t,["videoMetadata"]);return C!=null&&f(e,["videoMetadata"],C),e}function iI(t){const e={},n=d(t,["category"]);if(n!=null&&f(e,["category"],n),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=d(t,["threshold"]);return s!=null&&f(e,["threshold"],s),e}function sI(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&f(e,["functionCallingConfig"],Fb(n));const s=d(t,["retrievalConfig"]);return s!=null&&f(e,["retrievalConfig"],s),e}function rI(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(S=>S)),f(e,["functionDeclarations"],v)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=d(t,["googleSearchRetrieval"]);s!=null&&f(e,["googleSearchRetrieval"],s);const o=d(t,["computerUse"]);o!=null&&f(e,["computerUse"],o);const l=d(t,["fileSearch"]);l!=null&&f(e,["fileSearch"],l);const c=d(t,["codeExecution"]);if(c!=null&&f(e,["codeExecution"],c),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=d(t,["googleMaps"]);h!=null&&f(e,["googleMaps"],Yb(h));const y=d(t,["googleSearch"]);y!=null&&f(e,["googleSearch"],Jb(y));const g=d(t,["urlContext"]);return g!=null&&f(e,["urlContext"],g),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var os;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(os||(os={}));class Qr{constructor(e,n,s,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,s,o)}init(e,n,s){var o,l;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let c={config:{}};!s||Object.keys(s).length===0?c={config:{}}:typeof s=="object"?c=Object.assign({},s):c=s,c.config&&(c.config.pageToken=n.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(l=(o=c.config)===null||o===void 0?void 0:o.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oI extends us{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new Qr(os.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=x0(this.apiClient,e),s=n._url,o=ce("{model}:batchGenerateContent",s),h=n.batch.inputConfig.requests,y=h.requests,g=[];for(const v of y){const S=Object.assign({},v);if(S.systemInstruction){const C=S.systemInstruction;delete S.systemInstruction;const I=S.request;I.systemInstruction=C,S.request=I}g.push(S)}return h.requests=g,delete n.config,delete n._url,delete n._query,{path:o,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const s=n?Object.assign({},n):{},o=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${o}`),s.dest===void 0){const l=this.getGcsUri(e),c=this.getBigqueryUri(e);if(l)l.endsWith(".jsonl")?s.dest=`${l.slice(0,-6)}/dest`:s.dest=`${l}_dest_${o}`;else if(c)s.dest=`${c}_dest_${o}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(e){var n,s,o,l;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=Ib(this.apiClient,e);return h=ce("batchPredictionJobs",g._url),y=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>mp(v))}else{const g=x0(this.apiClient,e);return h=ce("{model}:batchGenerateContent",g._url),y=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>zc(v))}}async createEmbeddingsInternal(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Nb(this.apiClient,e);return l=ce("{model}:asyncBatchEmbedContent",h._url),c=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),o.then(y=>zc(y))}}async get(e){var n,s,o,l;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=Gb(this.apiClient,e);return h=ce("batchPredictionJobs/{name}",g._url),y=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>mp(v))}else{const g=Bb(this.apiClient,e);return h=ce("batches/{name}",g._url),y=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>zc(v))}}async cancel(e){var n,s,o,l;let c="",h={};if(this.apiClient.isVertexAI()){const y=Ab(this.apiClient,e);c=ce("batchPredictionJobs/{name}:cancel",y._url),h=y._query,delete y._url,delete y._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}else{const y=Sb(this.apiClient,e);c=ce("batches/{name}:cancel",y._url),h=y._query,delete y._url,delete y._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var n,s,o,l;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=Zb(e);return h=ce("batchPredictionJobs",g._url),y=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),c.then(v=>{const S=tI(v),C=new T0;return Object.assign(C,S),C})}else{const g=Wb(e);return h=ce("batches",g._url),y=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),c.then(v=>{const S=eI(v),C=new T0;return Object.assign(C,S),C})}}async delete(e){var n,s,o,l;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=Db(this.apiClient,e);return h=ce("batchPredictionJobs/{name}",g._url),y=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),c.then(v=>kb(v))}else{const g=Mb(this.apiClient,e);return h=ce("batches/{name}",g._url),y=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),c.then(v=>Pb(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aI(t){const e={},n=d(t,["data"]);if(n!=null&&f(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=d(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function w0(t){const e={},n=d(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>NI(l))),f(e,["parts"],o)}const s=d(t,["role"]);return s!=null&&f(e,["role"],s),e}function lI(t,e){const n={},s=d(t,["ttl"]);e!==void 0&&s!=null&&f(e,["ttl"],s);const o=d(t,["expireTime"]);e!==void 0&&o!=null&&f(e,["expireTime"],o);const l=d(t,["displayName"]);e!==void 0&&l!=null&&f(e,["displayName"],l);const c=d(t,["contents"]);if(e!==void 0&&c!=null){let v=Hn(c);Array.isArray(v)&&(v=v.map(S=>w0(S))),f(e,["contents"],v)}const h=d(t,["systemInstruction"]);e!==void 0&&h!=null&&f(e,["systemInstruction"],w0(nn(h)));const y=d(t,["tools"]);if(e!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(S=>DI(S))),f(e,["tools"],v)}const g=d(t,["toolConfig"]);if(e!==void 0&&g!=null&&f(e,["toolConfig"],MI(g)),d(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function uI(t,e){const n={},s=d(t,["ttl"]);e!==void 0&&s!=null&&f(e,["ttl"],s);const o=d(t,["expireTime"]);e!==void 0&&o!=null&&f(e,["expireTime"],o);const l=d(t,["displayName"]);e!==void 0&&l!=null&&f(e,["displayName"],l);const c=d(t,["contents"]);if(e!==void 0&&c!=null){let S=Hn(c);Array.isArray(S)&&(S=S.map(C=>C)),f(e,["contents"],S)}const h=d(t,["systemInstruction"]);e!==void 0&&h!=null&&f(e,["systemInstruction"],nn(h));const y=d(t,["tools"]);if(e!==void 0&&y!=null){let S=y;Array.isArray(S)&&(S=S.map(C=>PI(C))),f(e,["tools"],S)}const g=d(t,["toolConfig"]);e!==void 0&&g!=null&&f(e,["toolConfig"],g);const v=d(t,["kmsKeyName"]);return e!==void 0&&v!=null&&f(e,["encryption_spec","kmsKeyName"],v),n}function cI(t,e){const n={},s=d(e,["model"]);s!=null&&f(n,["model"],_T(t,s));const o=d(e,["config"]);return o!=null&&lI(o,n),n}function dI(t,e){const n={},s=d(e,["model"]);s!=null&&f(n,["model"],_T(t,s));const o=d(e,["config"]);return o!=null&&uI(o,n),n}function fI(t,e){const n={},s=d(e,["name"]);return s!=null&&f(n,["_url","name"],cs(t,s)),n}function hI(t,e){const n={},s=d(e,["name"]);return s!=null&&f(n,["_url","name"],cs(t,s)),n}function pI(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}function mI(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}function gI(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const s=d(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function yI(t){const e={},n=d(t,["id"]);n!=null&&f(e,["id"],n);const s=d(t,["args"]);s!=null&&f(e,["args"],s);const o=d(t,["name"]);if(o!=null&&f(e,["name"],o),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function _I(t){const e={},n=d(t,["mode"]);n!=null&&f(e,["mode"],n);const s=d(t,["allowedFunctionNames"]);if(s!=null&&f(e,["allowedFunctionNames"],s),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function vI(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=d(t,["description"]);n!=null&&f(e,["description"],n);const s=d(t,["name"]);s!=null&&f(e,["name"],s);const o=d(t,["parameters"]);o!=null&&f(e,["parameters"],o);const l=d(t,["parametersJsonSchema"]);l!=null&&f(e,["parametersJsonSchema"],l);const c=d(t,["response"]);c!=null&&f(e,["response"],c);const h=d(t,["responseJsonSchema"]);return h!=null&&f(e,["responseJsonSchema"],h),e}function EI(t,e){const n={},s=d(e,["name"]);return s!=null&&f(n,["_url","name"],cs(t,s)),n}function TI(t,e){const n={},s=d(e,["name"]);return s!=null&&f(n,["_url","name"],cs(t,s)),n}function SI(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&f(e,["enableWidget"],n),e}function AI(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],n),e}function CI(t,e){const n={},s=d(t,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const o=d(t,["pageToken"]);return e!==void 0&&o!=null&&f(e,["_query","pageToken"],o),n}function xI(t,e){const n={},s=d(t,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const o=d(t,["pageToken"]);return e!==void 0&&o!=null&&f(e,["_query","pageToken"],o),n}function wI(t){const e={},n=d(t,["config"]);return n!=null&&CI(n,e),e}function bI(t){const e={},n=d(t,["config"]);return n!=null&&xI(n,e),e}function II(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const s=d(t,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const o=d(t,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["cachedContents"],l)}return e}function RI(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const s=d(t,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const o=d(t,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["cachedContents"],l)}return e}function NI(t){const e={},n=d(t,["mediaResolution"]);n!=null&&f(e,["mediaResolution"],n);const s=d(t,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const o=d(t,["executableCode"]);o!=null&&f(e,["executableCode"],o);const l=d(t,["fileData"]);l!=null&&f(e,["fileData"],gI(l));const c=d(t,["functionCall"]);c!=null&&f(e,["functionCall"],yI(c));const h=d(t,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const y=d(t,["inlineData"]);y!=null&&f(e,["inlineData"],aI(y));const g=d(t,["text"]);g!=null&&f(e,["text"],g);const v=d(t,["thought"]);v!=null&&f(e,["thought"],v);const S=d(t,["thoughtSignature"]);S!=null&&f(e,["thoughtSignature"],S);const C=d(t,["videoMetadata"]);return C!=null&&f(e,["videoMetadata"],C),e}function MI(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&f(e,["functionCallingConfig"],_I(n));const s=d(t,["retrievalConfig"]);return s!=null&&f(e,["retrievalConfig"],s),e}function DI(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(S=>S)),f(e,["functionDeclarations"],v)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=d(t,["googleSearchRetrieval"]);s!=null&&f(e,["googleSearchRetrieval"],s);const o=d(t,["computerUse"]);o!=null&&f(e,["computerUse"],o);const l=d(t,["fileSearch"]);l!=null&&f(e,["fileSearch"],l);const c=d(t,["codeExecution"]);if(c!=null&&f(e,["codeExecution"],c),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=d(t,["googleMaps"]);h!=null&&f(e,["googleMaps"],SI(h));const y=d(t,["googleSearch"]);y!=null&&f(e,["googleSearch"],AI(y));const g=d(t,["urlContext"]);return g!=null&&f(e,["urlContext"],g),e}function PI(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let S=n;Array.isArray(S)&&(S=S.map(C=>vI(C))),f(e,["functionDeclarations"],S)}const s=d(t,["retrieval"]);s!=null&&f(e,["retrieval"],s);const o=d(t,["googleSearchRetrieval"]);o!=null&&f(e,["googleSearchRetrieval"],o);const l=d(t,["computerUse"]);if(l!=null&&f(e,["computerUse"],l),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=d(t,["codeExecution"]);c!=null&&f(e,["codeExecution"],c);const h=d(t,["enterpriseWebSearch"]);h!=null&&f(e,["enterpriseWebSearch"],h);const y=d(t,["googleMaps"]);y!=null&&f(e,["googleMaps"],y);const g=d(t,["googleSearch"]);g!=null&&f(e,["googleSearch"],g);const v=d(t,["urlContext"]);return v!=null&&f(e,["urlContext"],v),e}function kI(t,e){const n={},s=d(t,["ttl"]);e!==void 0&&s!=null&&f(e,["ttl"],s);const o=d(t,["expireTime"]);return e!==void 0&&o!=null&&f(e,["expireTime"],o),n}function UI(t,e){const n={},s=d(t,["ttl"]);e!==void 0&&s!=null&&f(e,["ttl"],s);const o=d(t,["expireTime"]);return e!==void 0&&o!=null&&f(e,["expireTime"],o),n}function VI(t,e){const n={},s=d(e,["name"]);s!=null&&f(n,["_url","name"],cs(t,s));const o=d(e,["config"]);return o!=null&&kI(o,n),n}function LI(t,e){const n={},s=d(e,["name"]);s!=null&&f(n,["_url","name"],cs(t,s));const o=d(e,["config"]);return o!=null&&UI(o,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OI extends us{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Qr(os.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(n),n)}async create(e){var n,s,o,l;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=dI(this.apiClient,e);return h=ce("cachedContents",g._url),y=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>v)}else{const g=cI(this.apiClient,e);return h=ce("cachedContents",g._url),y=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>v)}}async get(e){var n,s,o,l;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=TI(this.apiClient,e);return h=ce("{name}",g._url),y=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>v)}else{const g=EI(this.apiClient,e);return h=ce("{name}",g._url),y=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>v)}}async delete(e){var n,s,o,l;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=hI(this.apiClient,e);return h=ce("{name}",g._url),y=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),c.then(v=>{const S=mI(v),C=new v0;return Object.assign(C,S),C})}else{const g=fI(this.apiClient,e);return h=ce("{name}",g._url),y=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),c.then(v=>{const S=pI(v),C=new v0;return Object.assign(C,S),C})}}async update(e){var n,s,o,l;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=LI(this.apiClient,e);return h=ce("{name}",g._url),y=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>v)}else{const g=VI(this.apiClient,e);return h=ce("{name}",g._url),y=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>v)}}async listInternal(e){var n,s,o,l;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=bI(e);return h=ce("cachedContents",g._url),y=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),c.then(v=>{const S=RI(v),C=new E0;return Object.assign(C,S),C})}else{const g=wI(e);return h=ce("cachedContents",g._url),y=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),c.then(v=>{const S=II(v),C=new E0;return Object.assign(C,S),C})}}}function b0(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],s=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function rt(t){return this instanceof rt?(this.v=t,this):new rt(t)}function Qo(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(t,e||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",c),o[Symbol.asyncIterator]=function(){return this},o;function c(I){return function(F){return Promise.resolve(F).then(I,S)}}function h(I,F){s[I]&&(o[I]=function(J){return new Promise(function(G,W){l.push([I,J,G,W])>1||y(I,J)})},F&&(o[I]=F(o[I])))}function y(I,F){try{g(s[I](F))}catch(J){C(l[0][3],J)}}function g(I){I.value instanceof rt?Promise.resolve(I.value.v).then(v,S):C(l[0][2],I)}function v(I){y("next",I)}function S(I){y("throw",I)}function C(I,F){I(F),l.shift(),l.length&&y(l[0][0],l[0][1])}}function Nl(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof b0=="function"?b0(t):t[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(l){n[l]=t[l]&&function(c){return new Promise(function(h,y){c=t[l](c),o(h,y,c.done,c.value)})}}function o(l,c,h,y){Promise.resolve(y).then(function(g){l({value:g,done:h})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qI(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:MT(n)}function MT(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function FI(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function I0(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let s=0;for(;s<n;)if(t[s].role==="user")e.push(t[s]),s++;else{const o=[];let l=!0;for(;s<n&&t[s].role==="model";)o.push(t[s]),l&&!MT(t[s])&&(l=!1),s++;l?e.push(...o):e.pop()}return e}class HI{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new zI(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class zI{constructor(e,n,s,o={},l=[]){this.apiClient=e,this.modelsModule=n,this.model=s,this.config=o,this.history=l,this.sendPromise=Promise.resolve(),FI(l)}async sendMessage(e){var n;await this.sendPromise;const s=nn(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var l,c,h;const y=await o,g=(c=(l=y.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content,v=y.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let C=[];v!=null&&(C=(h=v.slice(S))!==null&&h!==void 0?h:[]);const I=g?[g]:[];this.recordHistory(s,I,C)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var n;await this.sendPromise;const s=nn(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const l=await o;return this.processStreamResponse(l,s)}getHistory(e=!1){const n=e?I0(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var s,o;return Qo(this,arguments,function*(){var c,h,y,g;const v=[];try{for(var S=!0,C=Nl(e),I;I=yield rt(C.next()),c=I.done,!c;S=!0){g=I.value,S=!1;const F=g;if(qI(F)){const J=(o=(s=F.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content;J!==void 0&&v.push(J)}yield yield rt(F)}}catch(F){h={error:F}}finally{try{!S&&!c&&(y=C.return)&&(yield rt(y.call(C)))}finally{if(h)throw h.error}}this.recordHistory(n,v)})}recordHistory(e,n,s){let o=[];n.length>0&&n.every(l=>l.role!==void 0)?o=n:o.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...I0(s)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xd extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,xd.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BI(t){const e={},n=d(t,["file"]);return n!=null&&f(e,["file"],n),e}function GI(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}function YI(t){const e={},n=d(t,["name"]);return n!=null&&f(e,["_url","file"],CT(n)),e}function JI(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}function KI(t){const e={},n=d(t,["name"]);return n!=null&&f(e,["_url","file"],CT(n)),e}function $I(t,e){const n={},s=d(t,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const o=d(t,["pageToken"]);return e!==void 0&&o!=null&&f(e,["_query","pageToken"],o),n}function jI(t){const e={},n=d(t,["config"]);return n!=null&&$I(n,e),e}function QI(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const s=d(t,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const o=d(t,["files"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["files"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XI extends us{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Qr(os.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=jI(e);return l=ce("files",h._url),c=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),o.then(y=>{const g=QI(y),v=new tb;return Object.assign(v,g),v})}}async createInternal(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=BI(e);return l=ce("upload/v1beta/files",h._url),c=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),o.then(y=>{const g=GI(y),v=new nb;return Object.assign(v,g),v})}}async get(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=KI(e);return l=ce("files/{file}",h._url),c=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),o.then(y=>y)}}async delete(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=YI(e);return l=ce("files/{file}",h._url),c=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),o.then(y=>{const g=JI(y),v=new ib;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bc(t){const e={},n=d(t,["data"]);if(n!=null&&f(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=d(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function WI(t){const e={},n=d(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>pR(l))),f(e,["parts"],o)}const s=d(t,["role"]);return s!=null&&f(e,["role"],s),e}function ZI(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const s=d(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function eR(t){const e={},n=d(t,["id"]);n!=null&&f(e,["id"],n);const s=d(t,["args"]);s!=null&&f(e,["args"],s);const o=d(t,["name"]);if(o!=null&&f(e,["name"],o),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function tR(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=d(t,["description"]);n!=null&&f(e,["description"],n);const s=d(t,["name"]);s!=null&&f(e,["name"],s);const o=d(t,["parameters"]);o!=null&&f(e,["parameters"],o);const l=d(t,["parametersJsonSchema"]);l!=null&&f(e,["parametersJsonSchema"],l);const c=d(t,["response"]);c!=null&&f(e,["response"],c);const h=d(t,["responseJsonSchema"]);return h!=null&&f(e,["responseJsonSchema"],h),e}function nR(t){const e={},n=d(t,["modelSelectionConfig"]);n!=null&&f(e,["modelConfig"],n);const s=d(t,["responseJsonSchema"]);s!=null&&f(e,["responseJsonSchema"],s);const o=d(t,["audioTimestamp"]);o!=null&&f(e,["audioTimestamp"],o);const l=d(t,["candidateCount"]);l!=null&&f(e,["candidateCount"],l);const c=d(t,["enableAffectiveDialog"]);c!=null&&f(e,["enableAffectiveDialog"],c);const h=d(t,["frequencyPenalty"]);h!=null&&f(e,["frequencyPenalty"],h);const y=d(t,["logprobs"]);y!=null&&f(e,["logprobs"],y);const g=d(t,["maxOutputTokens"]);g!=null&&f(e,["maxOutputTokens"],g);const v=d(t,["mediaResolution"]);v!=null&&f(e,["mediaResolution"],v);const S=d(t,["presencePenalty"]);S!=null&&f(e,["presencePenalty"],S);const C=d(t,["responseLogprobs"]);C!=null&&f(e,["responseLogprobs"],C);const I=d(t,["responseMimeType"]);I!=null&&f(e,["responseMimeType"],I);const F=d(t,["responseModalities"]);F!=null&&f(e,["responseModalities"],F);const J=d(t,["responseSchema"]);J!=null&&f(e,["responseSchema"],J);const G=d(t,["routingConfig"]);G!=null&&f(e,["routingConfig"],G);const W=d(t,["seed"]);W!=null&&f(e,["seed"],W);const ne=d(t,["speechConfig"]);ne!=null&&f(e,["speechConfig"],DT(ne));const j=d(t,["stopSequences"]);j!=null&&f(e,["stopSequences"],j);const re=d(t,["temperature"]);re!=null&&f(e,["temperature"],re);const de=d(t,["thinkingConfig"]);de!=null&&f(e,["thinkingConfig"],de);const le=d(t,["topK"]);le!=null&&f(e,["topK"],le);const M=d(t,["topP"]);if(M!=null&&f(e,["topP"],M),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function iR(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&f(e,["enableWidget"],n),e}function sR(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],n),e}function rR(t,e){const n={},s=d(t,["generationConfig"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig"],s);const o=d(t,["responseModalities"]);e!==void 0&&o!=null&&f(e,["setup","generationConfig","responseModalities"],o);const l=d(t,["temperature"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","temperature"],l);const c=d(t,["topP"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","topP"],c);const h=d(t,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const y=d(t,["maxOutputTokens"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","maxOutputTokens"],y);const g=d(t,["mediaResolution"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","mediaResolution"],g);const v=d(t,["seed"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","seed"],v);const S=d(t,["speechConfig"]);e!==void 0&&S!=null&&f(e,["setup","generationConfig","speechConfig"],jp(S));const C=d(t,["thinkingConfig"]);e!==void 0&&C!=null&&f(e,["setup","generationConfig","thinkingConfig"],C);const I=d(t,["enableAffectiveDialog"]);e!==void 0&&I!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],I);const F=d(t,["systemInstruction"]);e!==void 0&&F!=null&&f(e,["setup","systemInstruction"],WI(nn(F)));const J=d(t,["tools"]);if(e!==void 0&&J!=null){let le=da(J);Array.isArray(le)&&(le=le.map(M=>gR(ca(M)))),f(e,["setup","tools"],le)}const G=d(t,["sessionResumption"]);e!==void 0&&G!=null&&f(e,["setup","sessionResumption"],mR(G));const W=d(t,["inputAudioTranscription"]);e!==void 0&&W!=null&&f(e,["setup","inputAudioTranscription"],W);const ne=d(t,["outputAudioTranscription"]);e!==void 0&&ne!=null&&f(e,["setup","outputAudioTranscription"],ne);const j=d(t,["realtimeInputConfig"]);e!==void 0&&j!=null&&f(e,["setup","realtimeInputConfig"],j);const re=d(t,["contextWindowCompression"]);e!==void 0&&re!=null&&f(e,["setup","contextWindowCompression"],re);const de=d(t,["proactivity"]);return e!==void 0&&de!=null&&f(e,["setup","proactivity"],de),n}function oR(t,e){const n={},s=d(t,["generationConfig"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig"],nR(s));const o=d(t,["responseModalities"]);e!==void 0&&o!=null&&f(e,["setup","generationConfig","responseModalities"],o);const l=d(t,["temperature"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","temperature"],l);const c=d(t,["topP"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","topP"],c);const h=d(t,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const y=d(t,["maxOutputTokens"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","maxOutputTokens"],y);const g=d(t,["mediaResolution"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","mediaResolution"],g);const v=d(t,["seed"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","seed"],v);const S=d(t,["speechConfig"]);e!==void 0&&S!=null&&f(e,["setup","generationConfig","speechConfig"],DT(jp(S)));const C=d(t,["thinkingConfig"]);e!==void 0&&C!=null&&f(e,["setup","generationConfig","thinkingConfig"],C);const I=d(t,["enableAffectiveDialog"]);e!==void 0&&I!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],I);const F=d(t,["systemInstruction"]);e!==void 0&&F!=null&&f(e,["setup","systemInstruction"],nn(F));const J=d(t,["tools"]);if(e!==void 0&&J!=null){let le=da(J);Array.isArray(le)&&(le=le.map(M=>yR(ca(M)))),f(e,["setup","tools"],le)}const G=d(t,["sessionResumption"]);e!==void 0&&G!=null&&f(e,["setup","sessionResumption"],G);const W=d(t,["inputAudioTranscription"]);e!==void 0&&W!=null&&f(e,["setup","inputAudioTranscription"],W);const ne=d(t,["outputAudioTranscription"]);e!==void 0&&ne!=null&&f(e,["setup","outputAudioTranscription"],ne);const j=d(t,["realtimeInputConfig"]);e!==void 0&&j!=null&&f(e,["setup","realtimeInputConfig"],j);const re=d(t,["contextWindowCompression"]);e!==void 0&&re!=null&&f(e,["setup","contextWindowCompression"],re);const de=d(t,["proactivity"]);return e!==void 0&&de!=null&&f(e,["setup","proactivity"],de),n}function aR(t,e){const n={},s=d(e,["model"]);s!=null&&f(n,["setup","model"],Be(t,s));const o=d(e,["config"]);return o!=null&&f(n,["config"],rR(o,n)),n}function lR(t,e){const n={},s=d(e,["model"]);s!=null&&f(n,["setup","model"],Be(t,s));const o=d(e,["config"]);return o!=null&&f(n,["config"],oR(o,n)),n}function uR(t){const e={},n=d(t,["musicGenerationConfig"]);return n!=null&&f(e,["musicGenerationConfig"],n),e}function cR(t){const e={},n=d(t,["weightedPrompts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>o)),f(e,["weightedPrompts"],s)}return e}function dR(t){const e={},n=d(t,["media"]);if(n!=null){let g=vT(n);Array.isArray(g)&&(g=g.map(v=>Bc(v))),f(e,["mediaChunks"],g)}const s=d(t,["audio"]);s!=null&&f(e,["audio"],Bc(TT(s)));const o=d(t,["audioStreamEnd"]);o!=null&&f(e,["audioStreamEnd"],o);const l=d(t,["video"]);l!=null&&f(e,["video"],Bc(ET(l)));const c=d(t,["text"]);c!=null&&f(e,["text"],c);const h=d(t,["activityStart"]);h!=null&&f(e,["activityStart"],h);const y=d(t,["activityEnd"]);return y!=null&&f(e,["activityEnd"],y),e}function fR(t){const e={},n=d(t,["media"]);if(n!=null){let g=vT(n);Array.isArray(g)&&(g=g.map(v=>v)),f(e,["mediaChunks"],g)}const s=d(t,["audio"]);s!=null&&f(e,["audio"],TT(s));const o=d(t,["audioStreamEnd"]);o!=null&&f(e,["audioStreamEnd"],o);const l=d(t,["video"]);l!=null&&f(e,["video"],ET(l));const c=d(t,["text"]);c!=null&&f(e,["text"],c);const h=d(t,["activityStart"]);h!=null&&f(e,["activityStart"],h);const y=d(t,["activityEnd"]);return y!=null&&f(e,["activityEnd"],y),e}function hR(t){const e={},n=d(t,["setupComplete"]);n!=null&&f(e,["setupComplete"],n);const s=d(t,["serverContent"]);s!=null&&f(e,["serverContent"],s);const o=d(t,["toolCall"]);o!=null&&f(e,["toolCall"],o);const l=d(t,["toolCallCancellation"]);l!=null&&f(e,["toolCallCancellation"],l);const c=d(t,["usageMetadata"]);c!=null&&f(e,["usageMetadata"],_R(c));const h=d(t,["goAway"]);h!=null&&f(e,["goAway"],h);const y=d(t,["sessionResumptionUpdate"]);return y!=null&&f(e,["sessionResumptionUpdate"],y),e}function pR(t){const e={},n=d(t,["mediaResolution"]);n!=null&&f(e,["mediaResolution"],n);const s=d(t,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const o=d(t,["executableCode"]);o!=null&&f(e,["executableCode"],o);const l=d(t,["fileData"]);l!=null&&f(e,["fileData"],ZI(l));const c=d(t,["functionCall"]);c!=null&&f(e,["functionCall"],eR(c));const h=d(t,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const y=d(t,["inlineData"]);y!=null&&f(e,["inlineData"],Bc(y));const g=d(t,["text"]);g!=null&&f(e,["text"],g);const v=d(t,["thought"]);v!=null&&f(e,["thought"],v);const S=d(t,["thoughtSignature"]);S!=null&&f(e,["thoughtSignature"],S);const C=d(t,["videoMetadata"]);return C!=null&&f(e,["videoMetadata"],C),e}function mR(t){const e={},n=d(t,["handle"]);if(n!=null&&f(e,["handle"],n),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function DT(t){const e={},n=d(t,["languageCode"]);n!=null&&f(e,["languageCode"],n);const s=d(t,["voiceConfig"]);if(s!=null&&f(e,["voiceConfig"],s),d(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function gR(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(S=>S)),f(e,["functionDeclarations"],v)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=d(t,["googleSearchRetrieval"]);s!=null&&f(e,["googleSearchRetrieval"],s);const o=d(t,["computerUse"]);o!=null&&f(e,["computerUse"],o);const l=d(t,["fileSearch"]);l!=null&&f(e,["fileSearch"],l);const c=d(t,["codeExecution"]);if(c!=null&&f(e,["codeExecution"],c),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=d(t,["googleMaps"]);h!=null&&f(e,["googleMaps"],iR(h));const y=d(t,["googleSearch"]);y!=null&&f(e,["googleSearch"],sR(y));const g=d(t,["urlContext"]);return g!=null&&f(e,["urlContext"],g),e}function yR(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let S=n;Array.isArray(S)&&(S=S.map(C=>tR(C))),f(e,["functionDeclarations"],S)}const s=d(t,["retrieval"]);s!=null&&f(e,["retrieval"],s);const o=d(t,["googleSearchRetrieval"]);o!=null&&f(e,["googleSearchRetrieval"],o);const l=d(t,["computerUse"]);if(l!=null&&f(e,["computerUse"],l),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=d(t,["codeExecution"]);c!=null&&f(e,["codeExecution"],c);const h=d(t,["enterpriseWebSearch"]);h!=null&&f(e,["enterpriseWebSearch"],h);const y=d(t,["googleMaps"]);y!=null&&f(e,["googleMaps"],y);const g=d(t,["googleSearch"]);g!=null&&f(e,["googleSearch"],g);const v=d(t,["urlContext"]);return v!=null&&f(e,["urlContext"],v),e}function _R(t){const e={},n=d(t,["promptTokenCount"]);n!=null&&f(e,["promptTokenCount"],n);const s=d(t,["cachedContentTokenCount"]);s!=null&&f(e,["cachedContentTokenCount"],s);const o=d(t,["candidatesTokenCount"]);o!=null&&f(e,["responseTokenCount"],o);const l=d(t,["toolUsePromptTokenCount"]);l!=null&&f(e,["toolUsePromptTokenCount"],l);const c=d(t,["thoughtsTokenCount"]);c!=null&&f(e,["thoughtsTokenCount"],c);const h=d(t,["totalTokenCount"]);h!=null&&f(e,["totalTokenCount"],h);const y=d(t,["promptTokensDetails"]);if(y!=null){let I=y;Array.isArray(I)&&(I=I.map(F=>F)),f(e,["promptTokensDetails"],I)}const g=d(t,["cacheTokensDetails"]);if(g!=null){let I=g;Array.isArray(I)&&(I=I.map(F=>F)),f(e,["cacheTokensDetails"],I)}const v=d(t,["candidatesTokensDetails"]);if(v!=null){let I=v;Array.isArray(I)&&(I=I.map(F=>F)),f(e,["responseTokensDetails"],I)}const S=d(t,["toolUsePromptTokensDetails"]);if(S!=null){let I=S;Array.isArray(I)&&(I=I.map(F=>F)),f(e,["toolUsePromptTokensDetails"],I)}const C=d(t,["trafficType"]);return C!=null&&f(e,["trafficType"],C),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vR(t){const e={},n=d(t,["data"]);if(n!=null&&f(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=d(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function ER(t){const e={},n=d(t,["content"]);n!=null&&f(e,["content"],n);const s=d(t,["citationMetadata"]);s!=null&&f(e,["citationMetadata"],TR(s));const o=d(t,["tokenCount"]);o!=null&&f(e,["tokenCount"],o);const l=d(t,["finishReason"]);l!=null&&f(e,["finishReason"],l);const c=d(t,["avgLogprobs"]);c!=null&&f(e,["avgLogprobs"],c);const h=d(t,["groundingMetadata"]);h!=null&&f(e,["groundingMetadata"],h);const y=d(t,["index"]);y!=null&&f(e,["index"],y);const g=d(t,["logprobsResult"]);g!=null&&f(e,["logprobsResult"],g);const v=d(t,["safetyRatings"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(I=>I)),f(e,["safetyRatings"],C)}const S=d(t,["urlContextMetadata"]);return S!=null&&f(e,["urlContextMetadata"],S),e}function TR(t){const e={},n=d(t,["citationSources"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>o)),f(e,["citations"],s)}return e}function SR(t,e){const n={},s=d(e,["model"]);s!=null&&f(n,["_url","model"],Be(t,s));const o=d(e,["contents"]);if(o!=null){let l=Hn(o);Array.isArray(l)&&(l=l.map(c=>c)),f(n,["contents"],l)}return n}function AR(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const s=d(t,["tokensInfo"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>l)),f(e,["tokensInfo"],o)}return e}function CR(t){const e={},n=d(t,["values"]);n!=null&&f(e,["values"],n);const s=d(t,["statistics"]);return s!=null&&f(e,["statistics"],xR(s)),e}function xR(t){const e={},n=d(t,["truncated"]);n!=null&&f(e,["truncated"],n);const s=d(t,["token_count"]);return s!=null&&f(e,["tokenCount"],s),e}function wd(t){const e={},n=d(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>kN(l))),f(e,["parts"],o)}const s=d(t,["role"]);return s!=null&&f(e,["role"],s),e}function wR(t){const e={},n=d(t,["controlType"]);n!=null&&f(e,["controlType"],n);const s=d(t,["enableControlImageComputation"]);return s!=null&&f(e,["computeControl"],s),e}function bR(t){const e={};if(d(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function IR(t,e){const n={},s=d(t,["systemInstruction"]);e!==void 0&&s!=null&&f(e,["systemInstruction"],nn(s));const o=d(t,["tools"]);if(e!==void 0&&o!=null){let c=o;Array.isArray(c)&&(c=c.map(h=>LT(h))),f(e,["tools"],c)}const l=d(t,["generationConfig"]);return e!==void 0&&l!=null&&f(e,["generationConfig"],vN(l)),n}function RR(t,e){const n={},s=d(e,["model"]);s!=null&&f(n,["_url","model"],Be(t,s));const o=d(e,["contents"]);if(o!=null){let c=Hn(o);Array.isArray(c)&&(c=c.map(h=>wd(h))),f(n,["contents"],c)}const l=d(e,["config"]);return l!=null&&bR(l),n}function NR(t,e){const n={},s=d(e,["model"]);s!=null&&f(n,["_url","model"],Be(t,s));const o=d(e,["contents"]);if(o!=null){let c=Hn(o);Array.isArray(c)&&(c=c.map(h=>h)),f(n,["contents"],c)}const l=d(e,["config"]);return l!=null&&IR(l,n),n}function MR(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const s=d(t,["totalTokens"]);s!=null&&f(e,["totalTokens"],s);const o=d(t,["cachedContentTokenCount"]);return o!=null&&f(e,["cachedContentTokenCount"],o),e}function DR(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const s=d(t,["totalTokens"]);return s!=null&&f(e,["totalTokens"],s),e}function PR(t,e){const n={},s=d(e,["model"]);return s!=null&&f(n,["_url","name"],Be(t,s)),n}function kR(t,e){const n={},s=d(e,["model"]);return s!=null&&f(n,["_url","name"],Be(t,s)),n}function UR(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}function VR(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}function LR(t,e){const n={},s=d(t,["outputGcsUri"]);e!==void 0&&s!=null&&f(e,["parameters","storageUri"],s);const o=d(t,["negativePrompt"]);e!==void 0&&o!=null&&f(e,["parameters","negativePrompt"],o);const l=d(t,["numberOfImages"]);e!==void 0&&l!=null&&f(e,["parameters","sampleCount"],l);const c=d(t,["aspectRatio"]);e!==void 0&&c!=null&&f(e,["parameters","aspectRatio"],c);const h=d(t,["guidanceScale"]);e!==void 0&&h!=null&&f(e,["parameters","guidanceScale"],h);const y=d(t,["seed"]);e!==void 0&&y!=null&&f(e,["parameters","seed"],y);const g=d(t,["safetyFilterLevel"]);e!==void 0&&g!=null&&f(e,["parameters","safetySetting"],g);const v=d(t,["personGeneration"]);e!==void 0&&v!=null&&f(e,["parameters","personGeneration"],v);const S=d(t,["includeSafetyAttributes"]);e!==void 0&&S!=null&&f(e,["parameters","includeSafetyAttributes"],S);const C=d(t,["includeRaiReason"]);e!==void 0&&C!=null&&f(e,["parameters","includeRaiReason"],C);const I=d(t,["language"]);e!==void 0&&I!=null&&f(e,["parameters","language"],I);const F=d(t,["outputMimeType"]);e!==void 0&&F!=null&&f(e,["parameters","outputOptions","mimeType"],F);const J=d(t,["outputCompressionQuality"]);e!==void 0&&J!=null&&f(e,["parameters","outputOptions","compressionQuality"],J);const G=d(t,["addWatermark"]);e!==void 0&&G!=null&&f(e,["parameters","addWatermark"],G);const W=d(t,["labels"]);e!==void 0&&W!=null&&f(e,["labels"],W);const ne=d(t,["editMode"]);e!==void 0&&ne!=null&&f(e,["parameters","editMode"],ne);const j=d(t,["baseSteps"]);return e!==void 0&&j!=null&&f(e,["parameters","editConfig","baseSteps"],j),n}function OR(t,e){const n={},s=d(e,["model"]);s!=null&&f(n,["_url","model"],Be(t,s));const o=d(e,["prompt"]);o!=null&&f(n,["instances[0]","prompt"],o);const l=d(e,["referenceImages"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(y=>FN(y))),f(n,["instances[0]","referenceImages"],h)}const c=d(e,["config"]);return c!=null&&LR(c,n),n}function qR(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const s=d(t,["predictions"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>bd(l))),f(e,["generatedImages"],o)}return e}function FR(t,e){const n={},s=d(t,["taskType"]);e!==void 0&&s!=null&&f(e,["requests[]","taskType"],s);const o=d(t,["title"]);e!==void 0&&o!=null&&f(e,["requests[]","title"],o);const l=d(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&f(e,["requests[]","outputDimensionality"],l),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function HR(t,e){const n={},s=d(t,["taskType"]);e!==void 0&&s!=null&&f(e,["instances[]","task_type"],s);const o=d(t,["title"]);e!==void 0&&o!=null&&f(e,["instances[]","title"],o);const l=d(t,["outputDimensionality"]);e!==void 0&&l!=null&&f(e,["parameters","outputDimensionality"],l);const c=d(t,["mimeType"]);e!==void 0&&c!=null&&f(e,["instances[]","mimeType"],c);const h=d(t,["autoTruncate"]);return e!==void 0&&h!=null&&f(e,["parameters","autoTruncate"],h),n}function zR(t,e){const n={},s=d(e,["model"]);s!=null&&f(n,["_url","model"],Be(t,s));const o=d(e,["contents"]);if(o!=null){let h=Jp(t,o);Array.isArray(h)&&(h=h.map(y=>y)),f(n,["requests[]","content"],h)}const l=d(e,["config"]);l!=null&&FR(l,n);const c=d(e,["model"]);return c!==void 0&&f(n,["requests[]","model"],Be(t,c)),n}function BR(t,e){const n={},s=d(e,["model"]);s!=null&&f(n,["_url","model"],Be(t,s));const o=d(e,["contents"]);if(o!=null){let c=Jp(t,o);Array.isArray(c)&&(c=c.map(h=>h)),f(n,["instances[]","content"],c)}const l=d(e,["config"]);return l!=null&&HR(l,n),n}function GR(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const s=d(t,["embeddings"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["embeddings"],l)}const o=d(t,["metadata"]);return o!=null&&f(e,["metadata"],o),e}function YR(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const s=d(t,["predictions[]","embeddings"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>CR(c))),f(e,["embeddings"],l)}const o=d(t,["metadata"]);return o!=null&&f(e,["metadata"],o),e}function JR(t){const e={},n=d(t,["endpoint"]);n!=null&&f(e,["name"],n);const s=d(t,["deployedModelId"]);return s!=null&&f(e,["deployedModelId"],s),e}function KR(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const s=d(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function $R(t){const e={},n=d(t,["id"]);n!=null&&f(e,["id"],n);const s=d(t,["args"]);s!=null&&f(e,["args"],s);const o=d(t,["name"]);if(o!=null&&f(e,["name"],o),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function jR(t){const e={},n=d(t,["mode"]);n!=null&&f(e,["mode"],n);const s=d(t,["allowedFunctionNames"]);if(s!=null&&f(e,["allowedFunctionNames"],s),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function QR(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=d(t,["description"]);n!=null&&f(e,["description"],n);const s=d(t,["name"]);s!=null&&f(e,["name"],s);const o=d(t,["parameters"]);o!=null&&f(e,["parameters"],o);const l=d(t,["parametersJsonSchema"]);l!=null&&f(e,["parametersJsonSchema"],l);const c=d(t,["response"]);c!=null&&f(e,["response"],c);const h=d(t,["responseJsonSchema"]);return h!=null&&f(e,["responseJsonSchema"],h),e}function XR(t,e,n){const s={},o=d(e,["systemInstruction"]);n!==void 0&&o!=null&&f(n,["systemInstruction"],wd(nn(o)));const l=d(e,["temperature"]);l!=null&&f(s,["temperature"],l);const c=d(e,["topP"]);c!=null&&f(s,["topP"],c);const h=d(e,["topK"]);h!=null&&f(s,["topK"],h);const y=d(e,["candidateCount"]);y!=null&&f(s,["candidateCount"],y);const g=d(e,["maxOutputTokens"]);g!=null&&f(s,["maxOutputTokens"],g);const v=d(e,["stopSequences"]);v!=null&&f(s,["stopSequences"],v);const S=d(e,["responseLogprobs"]);S!=null&&f(s,["responseLogprobs"],S);const C=d(e,["logprobs"]);C!=null&&f(s,["logprobs"],C);const I=d(e,["presencePenalty"]);I!=null&&f(s,["presencePenalty"],I);const F=d(e,["frequencyPenalty"]);F!=null&&f(s,["frequencyPenalty"],F);const J=d(e,["seed"]);J!=null&&f(s,["seed"],J);const G=d(e,["responseMimeType"]);G!=null&&f(s,["responseMimeType"],G);const W=d(e,["responseSchema"]);W!=null&&f(s,["responseSchema"],Kp(W));const ne=d(e,["responseJsonSchema"]);if(ne!=null&&f(s,["responseJsonSchema"],ne),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const j=d(e,["safetySettings"]);if(n!==void 0&&j!=null){let V=j;Array.isArray(V)&&(V=V.map(P=>HN(P))),f(n,["safetySettings"],V)}const re=d(e,["tools"]);if(n!==void 0&&re!=null){let V=da(re);Array.isArray(V)&&(V=V.map(P=>$N(ca(P)))),f(n,["tools"],V)}const de=d(e,["toolConfig"]);if(n!==void 0&&de!=null&&f(n,["toolConfig"],KN(de)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const le=d(e,["cachedContent"]);n!==void 0&&le!=null&&f(n,["cachedContent"],cs(t,le));const M=d(e,["responseModalities"]);M!=null&&f(s,["responseModalities"],M);const N=d(e,["mediaResolution"]);N!=null&&f(s,["mediaResolution"],N);const R=d(e,["speechConfig"]);if(R!=null&&f(s,["speechConfig"],$p(R)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const U=d(e,["thinkingConfig"]);U!=null&&f(s,["thinkingConfig"],U);const D=d(e,["imageConfig"]);return D!=null&&f(s,["imageConfig"],CN(D)),s}function WR(t,e,n){const s={},o=d(e,["systemInstruction"]);n!==void 0&&o!=null&&f(n,["systemInstruction"],nn(o));const l=d(e,["temperature"]);l!=null&&f(s,["temperature"],l);const c=d(e,["topP"]);c!=null&&f(s,["topP"],c);const h=d(e,["topK"]);h!=null&&f(s,["topK"],h);const y=d(e,["candidateCount"]);y!=null&&f(s,["candidateCount"],y);const g=d(e,["maxOutputTokens"]);g!=null&&f(s,["maxOutputTokens"],g);const v=d(e,["stopSequences"]);v!=null&&f(s,["stopSequences"],v);const S=d(e,["responseLogprobs"]);S!=null&&f(s,["responseLogprobs"],S);const C=d(e,["logprobs"]);C!=null&&f(s,["logprobs"],C);const I=d(e,["presencePenalty"]);I!=null&&f(s,["presencePenalty"],I);const F=d(e,["frequencyPenalty"]);F!=null&&f(s,["frequencyPenalty"],F);const J=d(e,["seed"]);J!=null&&f(s,["seed"],J);const G=d(e,["responseMimeType"]);G!=null&&f(s,["responseMimeType"],G);const W=d(e,["responseSchema"]);W!=null&&f(s,["responseSchema"],Kp(W));const ne=d(e,["responseJsonSchema"]);ne!=null&&f(s,["responseJsonSchema"],ne);const j=d(e,["routingConfig"]);j!=null&&f(s,["routingConfig"],j);const re=d(e,["modelSelectionConfig"]);re!=null&&f(s,["modelConfig"],re);const de=d(e,["safetySettings"]);if(n!==void 0&&de!=null){let Q=de;Array.isArray(Q)&&(Q=Q.map(ae=>ae)),f(n,["safetySettings"],Q)}const le=d(e,["tools"]);if(n!==void 0&&le!=null){let Q=da(le);Array.isArray(Q)&&(Q=Q.map(ae=>LT(ca(ae)))),f(n,["tools"],Q)}const M=d(e,["toolConfig"]);n!==void 0&&M!=null&&f(n,["toolConfig"],M);const N=d(e,["labels"]);n!==void 0&&N!=null&&f(n,["labels"],N);const R=d(e,["cachedContent"]);n!==void 0&&R!=null&&f(n,["cachedContent"],cs(t,R));const U=d(e,["responseModalities"]);U!=null&&f(s,["responseModalities"],U);const D=d(e,["mediaResolution"]);D!=null&&f(s,["mediaResolution"],D);const V=d(e,["speechConfig"]);V!=null&&f(s,["speechConfig"],VT($p(V)));const P=d(e,["audioTimestamp"]);P!=null&&f(s,["audioTimestamp"],P);const be=d(e,["thinkingConfig"]);be!=null&&f(s,["thinkingConfig"],be);const ft=d(e,["imageConfig"]);return ft!=null&&f(s,["imageConfig"],xN(ft)),s}function R0(t,e){const n={},s=d(e,["model"]);s!=null&&f(n,["_url","model"],Be(t,s));const o=d(e,["contents"]);if(o!=null){let c=Hn(o);Array.isArray(c)&&(c=c.map(h=>wd(h))),f(n,["contents"],c)}const l=d(e,["config"]);return l!=null&&f(n,["generationConfig"],XR(t,l,n)),n}function N0(t,e){const n={},s=d(e,["model"]);s!=null&&f(n,["_url","model"],Be(t,s));const o=d(e,["contents"]);if(o!=null){let c=Hn(o);Array.isArray(c)&&(c=c.map(h=>h)),f(n,["contents"],c)}const l=d(e,["config"]);return l!=null&&f(n,["generationConfig"],WR(t,l,n)),n}function M0(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const s=d(t,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(g=>ER(g))),f(e,["candidates"],y)}const o=d(t,["modelVersion"]);o!=null&&f(e,["modelVersion"],o);const l=d(t,["promptFeedback"]);l!=null&&f(e,["promptFeedback"],l);const c=d(t,["responseId"]);c!=null&&f(e,["responseId"],c);const h=d(t,["usageMetadata"]);return h!=null&&f(e,["usageMetadata"],h),e}function D0(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const s=d(t,["candidates"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(v=>v)),f(e,["candidates"],g)}const o=d(t,["createTime"]);o!=null&&f(e,["createTime"],o);const l=d(t,["modelVersion"]);l!=null&&f(e,["modelVersion"],l);const c=d(t,["promptFeedback"]);c!=null&&f(e,["promptFeedback"],c);const h=d(t,["responseId"]);h!=null&&f(e,["responseId"],h);const y=d(t,["usageMetadata"]);return y!=null&&f(e,["usageMetadata"],y),e}function ZR(t,e){const n={};if(d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=d(t,["numberOfImages"]);e!==void 0&&s!=null&&f(e,["parameters","sampleCount"],s);const o=d(t,["aspectRatio"]);e!==void 0&&o!=null&&f(e,["parameters","aspectRatio"],o);const l=d(t,["guidanceScale"]);if(e!==void 0&&l!=null&&f(e,["parameters","guidanceScale"],l),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=d(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&f(e,["parameters","safetySetting"],c);const h=d(t,["personGeneration"]);e!==void 0&&h!=null&&f(e,["parameters","personGeneration"],h);const y=d(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&f(e,["parameters","includeSafetyAttributes"],y);const g=d(t,["includeRaiReason"]);e!==void 0&&g!=null&&f(e,["parameters","includeRaiReason"],g);const v=d(t,["language"]);e!==void 0&&v!=null&&f(e,["parameters","language"],v);const S=d(t,["outputMimeType"]);e!==void 0&&S!=null&&f(e,["parameters","outputOptions","mimeType"],S);const C=d(t,["outputCompressionQuality"]);if(e!==void 0&&C!=null&&f(e,["parameters","outputOptions","compressionQuality"],C),d(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=d(t,["imageSize"]);if(e!==void 0&&I!=null&&f(e,["parameters","sampleImageSize"],I),d(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function eN(t,e){const n={},s=d(t,["outputGcsUri"]);e!==void 0&&s!=null&&f(e,["parameters","storageUri"],s);const o=d(t,["negativePrompt"]);e!==void 0&&o!=null&&f(e,["parameters","negativePrompt"],o);const l=d(t,["numberOfImages"]);e!==void 0&&l!=null&&f(e,["parameters","sampleCount"],l);const c=d(t,["aspectRatio"]);e!==void 0&&c!=null&&f(e,["parameters","aspectRatio"],c);const h=d(t,["guidanceScale"]);e!==void 0&&h!=null&&f(e,["parameters","guidanceScale"],h);const y=d(t,["seed"]);e!==void 0&&y!=null&&f(e,["parameters","seed"],y);const g=d(t,["safetyFilterLevel"]);e!==void 0&&g!=null&&f(e,["parameters","safetySetting"],g);const v=d(t,["personGeneration"]);e!==void 0&&v!=null&&f(e,["parameters","personGeneration"],v);const S=d(t,["includeSafetyAttributes"]);e!==void 0&&S!=null&&f(e,["parameters","includeSafetyAttributes"],S);const C=d(t,["includeRaiReason"]);e!==void 0&&C!=null&&f(e,["parameters","includeRaiReason"],C);const I=d(t,["language"]);e!==void 0&&I!=null&&f(e,["parameters","language"],I);const F=d(t,["outputMimeType"]);e!==void 0&&F!=null&&f(e,["parameters","outputOptions","mimeType"],F);const J=d(t,["outputCompressionQuality"]);e!==void 0&&J!=null&&f(e,["parameters","outputOptions","compressionQuality"],J);const G=d(t,["addWatermark"]);e!==void 0&&G!=null&&f(e,["parameters","addWatermark"],G);const W=d(t,["labels"]);e!==void 0&&W!=null&&f(e,["labels"],W);const ne=d(t,["imageSize"]);e!==void 0&&ne!=null&&f(e,["parameters","sampleImageSize"],ne);const j=d(t,["enhancePrompt"]);return e!==void 0&&j!=null&&f(e,["parameters","enhancePrompt"],j),n}function tN(t,e){const n={},s=d(e,["model"]);s!=null&&f(n,["_url","model"],Be(t,s));const o=d(e,["prompt"]);o!=null&&f(n,["instances[0]","prompt"],o);const l=d(e,["config"]);return l!=null&&ZR(l,n),n}function nN(t,e){const n={},s=d(e,["model"]);s!=null&&f(n,["_url","model"],Be(t,s));const o=d(e,["prompt"]);o!=null&&f(n,["instances[0]","prompt"],o);const l=d(e,["config"]);return l!=null&&eN(l,n),n}function iN(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const s=d(t,["predictions"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>mN(c))),f(e,["generatedImages"],l)}const o=d(t,["positivePromptSafetyAttributes"]);return o!=null&&f(e,["positivePromptSafetyAttributes"],kT(o)),e}function sN(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const s=d(t,["predictions"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>bd(c))),f(e,["generatedImages"],l)}const o=d(t,["positivePromptSafetyAttributes"]);return o!=null&&f(e,["positivePromptSafetyAttributes"],UT(o)),e}function rN(t,e){const n={},s=d(t,["numberOfVideos"]);if(e!==void 0&&s!=null&&f(e,["parameters","sampleCount"],s),d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=d(t,["durationSeconds"]);if(e!==void 0&&o!=null&&f(e,["parameters","durationSeconds"],o),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=d(t,["aspectRatio"]);e!==void 0&&l!=null&&f(e,["parameters","aspectRatio"],l);const c=d(t,["resolution"]);e!==void 0&&c!=null&&f(e,["parameters","resolution"],c);const h=d(t,["personGeneration"]);if(e!==void 0&&h!=null&&f(e,["parameters","personGeneration"],h),d(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=d(t,["negativePrompt"]);e!==void 0&&y!=null&&f(e,["parameters","negativePrompt"],y);const g=d(t,["enhancePrompt"]);if(e!==void 0&&g!=null&&f(e,["parameters","enhancePrompt"],g),d(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=d(t,["lastFrame"]);e!==void 0&&v!=null&&f(e,["instances[0]","lastFrame"],Id(v));const S=d(t,["referenceImages"]);if(e!==void 0&&S!=null){let C=S;Array.isArray(C)&&(C=C.map(I=>a2(I))),f(e,["instances[0]","referenceImages"],C)}if(d(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function oN(t,e){const n={},s=d(t,["numberOfVideos"]);e!==void 0&&s!=null&&f(e,["parameters","sampleCount"],s);const o=d(t,["outputGcsUri"]);e!==void 0&&o!=null&&f(e,["parameters","storageUri"],o);const l=d(t,["fps"]);e!==void 0&&l!=null&&f(e,["parameters","fps"],l);const c=d(t,["durationSeconds"]);e!==void 0&&c!=null&&f(e,["parameters","durationSeconds"],c);const h=d(t,["seed"]);e!==void 0&&h!=null&&f(e,["parameters","seed"],h);const y=d(t,["aspectRatio"]);e!==void 0&&y!=null&&f(e,["parameters","aspectRatio"],y);const g=d(t,["resolution"]);e!==void 0&&g!=null&&f(e,["parameters","resolution"],g);const v=d(t,["personGeneration"]);e!==void 0&&v!=null&&f(e,["parameters","personGeneration"],v);const S=d(t,["pubsubTopic"]);e!==void 0&&S!=null&&f(e,["parameters","pubsubTopic"],S);const C=d(t,["negativePrompt"]);e!==void 0&&C!=null&&f(e,["parameters","negativePrompt"],C);const I=d(t,["enhancePrompt"]);e!==void 0&&I!=null&&f(e,["parameters","enhancePrompt"],I);const F=d(t,["generateAudio"]);e!==void 0&&F!=null&&f(e,["parameters","generateAudio"],F);const J=d(t,["lastFrame"]);e!==void 0&&J!=null&&f(e,["instances[0]","lastFrame"],oi(J));const G=d(t,["referenceImages"]);if(e!==void 0&&G!=null){let j=G;Array.isArray(j)&&(j=j.map(re=>l2(re))),f(e,["instances[0]","referenceImages"],j)}const W=d(t,["mask"]);e!==void 0&&W!=null&&f(e,["instances[0]","mask"],o2(W));const ne=d(t,["compressionQuality"]);return e!==void 0&&ne!=null&&f(e,["parameters","compressionQuality"],ne),n}function aN(t){const e={},n=d(t,["name"]);n!=null&&f(e,["name"],n);const s=d(t,["metadata"]);s!=null&&f(e,["metadata"],s);const o=d(t,["done"]);o!=null&&f(e,["done"],o);const l=d(t,["error"]);l!=null&&f(e,["error"],l);const c=d(t,["response","generateVideoResponse"]);return c!=null&&f(e,["response"],dN(c)),e}function lN(t){const e={},n=d(t,["name"]);n!=null&&f(e,["name"],n);const s=d(t,["metadata"]);s!=null&&f(e,["metadata"],s);const o=d(t,["done"]);o!=null&&f(e,["done"],o);const l=d(t,["error"]);l!=null&&f(e,["error"],l);const c=d(t,["response"]);return c!=null&&f(e,["response"],fN(c)),e}function uN(t,e){const n={},s=d(e,["model"]);s!=null&&f(n,["_url","model"],Be(t,s));const o=d(e,["prompt"]);o!=null&&f(n,["instances[0]","prompt"],o);const l=d(e,["image"]);l!=null&&f(n,["instances[0]","image"],Id(l));const c=d(e,["video"]);c!=null&&f(n,["instances[0]","video"],OT(c));const h=d(e,["source"]);h!=null&&hN(h,n);const y=d(e,["config"]);return y!=null&&rN(y,n),n}function cN(t,e){const n={},s=d(e,["model"]);s!=null&&f(n,["_url","model"],Be(t,s));const o=d(e,["prompt"]);o!=null&&f(n,["instances[0]","prompt"],o);const l=d(e,["image"]);l!=null&&f(n,["instances[0]","image"],oi(l));const c=d(e,["video"]);c!=null&&f(n,["instances[0]","video"],qT(c));const h=d(e,["source"]);h!=null&&pN(h,n);const y=d(e,["config"]);return y!=null&&oN(y,n),n}function dN(t){const e={},n=d(t,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>yN(c))),f(e,["generatedVideos"],l)}const s=d(t,["raiMediaFilteredCount"]);s!=null&&f(e,["raiMediaFilteredCount"],s);const o=d(t,["raiMediaFilteredReasons"]);return o!=null&&f(e,["raiMediaFilteredReasons"],o),e}function fN(t){const e={},n=d(t,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>_N(c))),f(e,["generatedVideos"],l)}const s=d(t,["raiMediaFilteredCount"]);s!=null&&f(e,["raiMediaFilteredCount"],s);const o=d(t,["raiMediaFilteredReasons"]);return o!=null&&f(e,["raiMediaFilteredReasons"],o),e}function hN(t,e){const n={},s=d(t,["prompt"]);e!==void 0&&s!=null&&f(e,["instances[0]","prompt"],s);const o=d(t,["image"]);e!==void 0&&o!=null&&f(e,["instances[0]","image"],Id(o));const l=d(t,["video"]);return e!==void 0&&l!=null&&f(e,["instances[0]","video"],OT(l)),n}function pN(t,e){const n={},s=d(t,["prompt"]);e!==void 0&&s!=null&&f(e,["instances[0]","prompt"],s);const o=d(t,["image"]);e!==void 0&&o!=null&&f(e,["instances[0]","image"],oi(o));const l=d(t,["video"]);return e!==void 0&&l!=null&&f(e,["instances[0]","video"],qT(l)),n}function mN(t){const e={},n=d(t,["_self"]);n!=null&&f(e,["image"],wN(n));const s=d(t,["raiFilteredReason"]);s!=null&&f(e,["raiFilteredReason"],s);const o=d(t,["_self"]);return o!=null&&f(e,["safetyAttributes"],kT(o)),e}function bd(t){const e={},n=d(t,["_self"]);n!=null&&f(e,["image"],PT(n));const s=d(t,["raiFilteredReason"]);s!=null&&f(e,["raiFilteredReason"],s);const o=d(t,["_self"]);o!=null&&f(e,["safetyAttributes"],UT(o));const l=d(t,["prompt"]);return l!=null&&f(e,["enhancedPrompt"],l),e}function gN(t){const e={},n=d(t,["_self"]);n!=null&&f(e,["mask"],PT(n));const s=d(t,["labels"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>l)),f(e,["labels"],o)}return e}function yN(t){const e={},n=d(t,["video"]);return n!=null&&f(e,["video"],s2(n)),e}function _N(t){const e={},n=d(t,["_self"]);return n!=null&&f(e,["video"],r2(n)),e}function vN(t){const e={},n=d(t,["modelSelectionConfig"]);n!=null&&f(e,["modelConfig"],n);const s=d(t,["responseJsonSchema"]);s!=null&&f(e,["responseJsonSchema"],s);const o=d(t,["audioTimestamp"]);o!=null&&f(e,["audioTimestamp"],o);const l=d(t,["candidateCount"]);l!=null&&f(e,["candidateCount"],l);const c=d(t,["enableAffectiveDialog"]);c!=null&&f(e,["enableAffectiveDialog"],c);const h=d(t,["frequencyPenalty"]);h!=null&&f(e,["frequencyPenalty"],h);const y=d(t,["logprobs"]);y!=null&&f(e,["logprobs"],y);const g=d(t,["maxOutputTokens"]);g!=null&&f(e,["maxOutputTokens"],g);const v=d(t,["mediaResolution"]);v!=null&&f(e,["mediaResolution"],v);const S=d(t,["presencePenalty"]);S!=null&&f(e,["presencePenalty"],S);const C=d(t,["responseLogprobs"]);C!=null&&f(e,["responseLogprobs"],C);const I=d(t,["responseMimeType"]);I!=null&&f(e,["responseMimeType"],I);const F=d(t,["responseModalities"]);F!=null&&f(e,["responseModalities"],F);const J=d(t,["responseSchema"]);J!=null&&f(e,["responseSchema"],J);const G=d(t,["routingConfig"]);G!=null&&f(e,["routingConfig"],G);const W=d(t,["seed"]);W!=null&&f(e,["seed"],W);const ne=d(t,["speechConfig"]);ne!=null&&f(e,["speechConfig"],VT(ne));const j=d(t,["stopSequences"]);j!=null&&f(e,["stopSequences"],j);const re=d(t,["temperature"]);re!=null&&f(e,["temperature"],re);const de=d(t,["thinkingConfig"]);de!=null&&f(e,["thinkingConfig"],de);const le=d(t,["topK"]);le!=null&&f(e,["topK"],le);const M=d(t,["topP"]);if(M!=null&&f(e,["topP"],M),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function EN(t,e){const n={},s=d(e,["model"]);return s!=null&&f(n,["_url","name"],Be(t,s)),n}function TN(t,e){const n={},s=d(e,["model"]);return s!=null&&f(n,["_url","name"],Be(t,s)),n}function SN(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&f(e,["enableWidget"],n),e}function AN(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],n),e}function CN(t){const e={},n=d(t,["aspectRatio"]);n!=null&&f(e,["aspectRatio"],n);const s=d(t,["imageSize"]);if(s!=null&&f(e,["imageSize"],s),d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function xN(t){const e={},n=d(t,["aspectRatio"]);n!=null&&f(e,["aspectRatio"],n);const s=d(t,["imageSize"]);s!=null&&f(e,["imageSize"],s);const o=d(t,["outputMimeType"]);o!=null&&f(e,["imageOutputOptions","mimeType"],o);const l=d(t,["outputCompressionQuality"]);return l!=null&&f(e,["imageOutputOptions","compressionQuality"],l),e}function wN(t){const e={},n=d(t,["bytesBase64Encoded"]);n!=null&&f(e,["imageBytes"],or(n));const s=d(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function PT(t){const e={},n=d(t,["gcsUri"]);n!=null&&f(e,["gcsUri"],n);const s=d(t,["bytesBase64Encoded"]);s!=null&&f(e,["imageBytes"],or(s));const o=d(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function Id(t){const e={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=d(t,["imageBytes"]);n!=null&&f(e,["bytesBase64Encoded"],or(n));const s=d(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function oi(t){const e={},n=d(t,["gcsUri"]);n!=null&&f(e,["gcsUri"],n);const s=d(t,["imageBytes"]);s!=null&&f(e,["bytesBase64Encoded"],or(s));const o=d(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function bN(t,e,n){const s={},o=d(e,["pageSize"]);n!==void 0&&o!=null&&f(n,["_query","pageSize"],o);const l=d(e,["pageToken"]);n!==void 0&&l!=null&&f(n,["_query","pageToken"],l);const c=d(e,["filter"]);n!==void 0&&c!=null&&f(n,["_query","filter"],c);const h=d(e,["queryBase"]);return n!==void 0&&h!=null&&f(n,["_url","models_url"],xT(t,h)),s}function IN(t,e,n){const s={},o=d(e,["pageSize"]);n!==void 0&&o!=null&&f(n,["_query","pageSize"],o);const l=d(e,["pageToken"]);n!==void 0&&l!=null&&f(n,["_query","pageToken"],l);const c=d(e,["filter"]);n!==void 0&&c!=null&&f(n,["_query","filter"],c);const h=d(e,["queryBase"]);return n!==void 0&&h!=null&&f(n,["_url","models_url"],xT(t,h)),s}function RN(t,e){const n={},s=d(e,["config"]);return s!=null&&bN(t,s,n),n}function NN(t,e){const n={},s=d(e,["config"]);return s!=null&&IN(t,s,n),n}function MN(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const s=d(t,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const o=d(t,["_self"]);if(o!=null){let l=wT(o);Array.isArray(l)&&(l=l.map(c=>gp(c))),f(e,["models"],l)}return e}function DN(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const s=d(t,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const o=d(t,["_self"]);if(o!=null){let l=wT(o);Array.isArray(l)&&(l=l.map(c=>yp(c))),f(e,["models"],l)}return e}function PN(t){const e={},n=d(t,["maskMode"]);n!=null&&f(e,["maskMode"],n);const s=d(t,["segmentationClasses"]);s!=null&&f(e,["maskClasses"],s);const o=d(t,["maskDilation"]);return o!=null&&f(e,["dilation"],o),e}function gp(t){const e={},n=d(t,["name"]);n!=null&&f(e,["name"],n);const s=d(t,["displayName"]);s!=null&&f(e,["displayName"],s);const o=d(t,["description"]);o!=null&&f(e,["description"],o);const l=d(t,["version"]);l!=null&&f(e,["version"],l);const c=d(t,["_self"]);c!=null&&f(e,["tunedModelInfo"],jN(c));const h=d(t,["inputTokenLimit"]);h!=null&&f(e,["inputTokenLimit"],h);const y=d(t,["outputTokenLimit"]);y!=null&&f(e,["outputTokenLimit"],y);const g=d(t,["supportedGenerationMethods"]);g!=null&&f(e,["supportedActions"],g);const v=d(t,["temperature"]);v!=null&&f(e,["temperature"],v);const S=d(t,["maxTemperature"]);S!=null&&f(e,["maxTemperature"],S);const C=d(t,["topP"]);C!=null&&f(e,["topP"],C);const I=d(t,["topK"]);I!=null&&f(e,["topK"],I);const F=d(t,["thinking"]);return F!=null&&f(e,["thinking"],F),e}function yp(t){const e={},n=d(t,["name"]);n!=null&&f(e,["name"],n);const s=d(t,["displayName"]);s!=null&&f(e,["displayName"],s);const o=d(t,["description"]);o!=null&&f(e,["description"],o);const l=d(t,["versionId"]);l!=null&&f(e,["version"],l);const c=d(t,["deployedModels"]);if(c!=null){let S=c;Array.isArray(S)&&(S=S.map(C=>JR(C))),f(e,["endpoints"],S)}const h=d(t,["labels"]);h!=null&&f(e,["labels"],h);const y=d(t,["_self"]);y!=null&&f(e,["tunedModelInfo"],QN(y));const g=d(t,["defaultCheckpointId"]);g!=null&&f(e,["defaultCheckpointId"],g);const v=d(t,["checkpoints"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(C=>C)),f(e,["checkpoints"],S)}return e}function kN(t){const e={},n=d(t,["mediaResolution"]);n!=null&&f(e,["mediaResolution"],n);const s=d(t,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const o=d(t,["executableCode"]);o!=null&&f(e,["executableCode"],o);const l=d(t,["fileData"]);l!=null&&f(e,["fileData"],KR(l));const c=d(t,["functionCall"]);c!=null&&f(e,["functionCall"],$R(c));const h=d(t,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const y=d(t,["inlineData"]);y!=null&&f(e,["inlineData"],vR(y));const g=d(t,["text"]);g!=null&&f(e,["text"],g);const v=d(t,["thought"]);v!=null&&f(e,["thought"],v);const S=d(t,["thoughtSignature"]);S!=null&&f(e,["thoughtSignature"],S);const C=d(t,["videoMetadata"]);return C!=null&&f(e,["videoMetadata"],C),e}function UN(t){const e={},n=d(t,["productImage"]);return n!=null&&f(e,["image"],oi(n)),e}function VN(t,e){const n={},s=d(t,["numberOfImages"]);e!==void 0&&s!=null&&f(e,["parameters","sampleCount"],s);const o=d(t,["baseSteps"]);e!==void 0&&o!=null&&f(e,["parameters","baseSteps"],o);const l=d(t,["outputGcsUri"]);e!==void 0&&l!=null&&f(e,["parameters","storageUri"],l);const c=d(t,["seed"]);e!==void 0&&c!=null&&f(e,["parameters","seed"],c);const h=d(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&f(e,["parameters","safetySetting"],h);const y=d(t,["personGeneration"]);e!==void 0&&y!=null&&f(e,["parameters","personGeneration"],y);const g=d(t,["addWatermark"]);e!==void 0&&g!=null&&f(e,["parameters","addWatermark"],g);const v=d(t,["outputMimeType"]);e!==void 0&&v!=null&&f(e,["parameters","outputOptions","mimeType"],v);const S=d(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&f(e,["parameters","outputOptions","compressionQuality"],S);const C=d(t,["enhancePrompt"]);e!==void 0&&C!=null&&f(e,["parameters","enhancePrompt"],C);const I=d(t,["labels"]);return e!==void 0&&I!=null&&f(e,["labels"],I),n}function LN(t,e){const n={},s=d(e,["model"]);s!=null&&f(n,["_url","model"],Be(t,s));const o=d(e,["source"]);o!=null&&qN(o,n);const l=d(e,["config"]);return l!=null&&VN(l,n),n}function ON(t){const e={},n=d(t,["predictions"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>bd(o))),f(e,["generatedImages"],s)}return e}function qN(t,e){const n={},s=d(t,["prompt"]);e!==void 0&&s!=null&&f(e,["instances[0]","prompt"],s);const o=d(t,["personImage"]);e!==void 0&&o!=null&&f(e,["instances[0]","personImage","image"],oi(o));const l=d(t,["productImages"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(h=>UN(h))),f(e,["instances[0]","productImages"],c)}return n}function FN(t){const e={},n=d(t,["referenceImage"]);n!=null&&f(e,["referenceImage"],oi(n));const s=d(t,["referenceId"]);s!=null&&f(e,["referenceId"],s);const o=d(t,["referenceType"]);o!=null&&f(e,["referenceType"],o);const l=d(t,["maskImageConfig"]);l!=null&&f(e,["maskImageConfig"],PN(l));const c=d(t,["controlImageConfig"]);c!=null&&f(e,["controlImageConfig"],wR(c));const h=d(t,["styleImageConfig"]);h!=null&&f(e,["styleImageConfig"],h);const y=d(t,["subjectImageConfig"]);return y!=null&&f(e,["subjectImageConfig"],y),e}function kT(t){const e={},n=d(t,["safetyAttributes","categories"]);n!=null&&f(e,["categories"],n);const s=d(t,["safetyAttributes","scores"]);s!=null&&f(e,["scores"],s);const o=d(t,["contentType"]);return o!=null&&f(e,["contentType"],o),e}function UT(t){const e={},n=d(t,["safetyAttributes","categories"]);n!=null&&f(e,["categories"],n);const s=d(t,["safetyAttributes","scores"]);s!=null&&f(e,["scores"],s);const o=d(t,["contentType"]);return o!=null&&f(e,["contentType"],o),e}function HN(t){const e={},n=d(t,["category"]);if(n!=null&&f(e,["category"],n),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=d(t,["threshold"]);return s!=null&&f(e,["threshold"],s),e}function zN(t){const e={},n=d(t,["image"]);return n!=null&&f(e,["image"],oi(n)),e}function BN(t,e){const n={},s=d(t,["mode"]);e!==void 0&&s!=null&&f(e,["parameters","mode"],s);const o=d(t,["maxPredictions"]);e!==void 0&&o!=null&&f(e,["parameters","maxPredictions"],o);const l=d(t,["confidenceThreshold"]);e!==void 0&&l!=null&&f(e,["parameters","confidenceThreshold"],l);const c=d(t,["maskDilation"]);e!==void 0&&c!=null&&f(e,["parameters","maskDilation"],c);const h=d(t,["binaryColorThreshold"]);e!==void 0&&h!=null&&f(e,["parameters","binaryColorThreshold"],h);const y=d(t,["labels"]);return e!==void 0&&y!=null&&f(e,["labels"],y),n}function GN(t,e){const n={},s=d(e,["model"]);s!=null&&f(n,["_url","model"],Be(t,s));const o=d(e,["source"]);o!=null&&JN(o,n);const l=d(e,["config"]);return l!=null&&BN(l,n),n}function YN(t){const e={},n=d(t,["predictions"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>gN(o))),f(e,["generatedMasks"],s)}return e}function JN(t,e){const n={},s=d(t,["prompt"]);e!==void 0&&s!=null&&f(e,["instances[0]","prompt"],s);const o=d(t,["image"]);e!==void 0&&o!=null&&f(e,["instances[0]","image"],oi(o));const l=d(t,["scribbleImage"]);return e!==void 0&&l!=null&&f(e,["instances[0]","scribble"],zN(l)),n}function VT(t){const e={},n=d(t,["languageCode"]);n!=null&&f(e,["languageCode"],n);const s=d(t,["voiceConfig"]);if(s!=null&&f(e,["voiceConfig"],s),d(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function KN(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&f(e,["functionCallingConfig"],jR(n));const s=d(t,["retrievalConfig"]);return s!=null&&f(e,["retrievalConfig"],s),e}function $N(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(S=>S)),f(e,["functionDeclarations"],v)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=d(t,["googleSearchRetrieval"]);s!=null&&f(e,["googleSearchRetrieval"],s);const o=d(t,["computerUse"]);o!=null&&f(e,["computerUse"],o);const l=d(t,["fileSearch"]);l!=null&&f(e,["fileSearch"],l);const c=d(t,["codeExecution"]);if(c!=null&&f(e,["codeExecution"],c),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=d(t,["googleMaps"]);h!=null&&f(e,["googleMaps"],SN(h));const y=d(t,["googleSearch"]);y!=null&&f(e,["googleSearch"],AN(y));const g=d(t,["urlContext"]);return g!=null&&f(e,["urlContext"],g),e}function LT(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let S=n;Array.isArray(S)&&(S=S.map(C=>QR(C))),f(e,["functionDeclarations"],S)}const s=d(t,["retrieval"]);s!=null&&f(e,["retrieval"],s);const o=d(t,["googleSearchRetrieval"]);o!=null&&f(e,["googleSearchRetrieval"],o);const l=d(t,["computerUse"]);if(l!=null&&f(e,["computerUse"],l),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=d(t,["codeExecution"]);c!=null&&f(e,["codeExecution"],c);const h=d(t,["enterpriseWebSearch"]);h!=null&&f(e,["enterpriseWebSearch"],h);const y=d(t,["googleMaps"]);y!=null&&f(e,["googleMaps"],y);const g=d(t,["googleSearch"]);g!=null&&f(e,["googleSearch"],g);const v=d(t,["urlContext"]);return v!=null&&f(e,["urlContext"],v),e}function jN(t){const e={},n=d(t,["baseModel"]);n!=null&&f(e,["baseModel"],n);const s=d(t,["createTime"]);s!=null&&f(e,["createTime"],s);const o=d(t,["updateTime"]);return o!=null&&f(e,["updateTime"],o),e}function QN(t){const e={},n=d(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&f(e,["baseModel"],n);const s=d(t,["createTime"]);s!=null&&f(e,["createTime"],s);const o=d(t,["updateTime"]);return o!=null&&f(e,["updateTime"],o),e}function XN(t,e){const n={},s=d(t,["displayName"]);e!==void 0&&s!=null&&f(e,["displayName"],s);const o=d(t,["description"]);e!==void 0&&o!=null&&f(e,["description"],o);const l=d(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&f(e,["defaultCheckpointId"],l),n}function WN(t,e){const n={},s=d(t,["displayName"]);e!==void 0&&s!=null&&f(e,["displayName"],s);const o=d(t,["description"]);e!==void 0&&o!=null&&f(e,["description"],o);const l=d(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&f(e,["defaultCheckpointId"],l),n}function ZN(t,e){const n={},s=d(e,["model"]);s!=null&&f(n,["_url","name"],Be(t,s));const o=d(e,["config"]);return o!=null&&XN(o,n),n}function e2(t,e){const n={},s=d(e,["model"]);s!=null&&f(n,["_url","model"],Be(t,s));const o=d(e,["config"]);return o!=null&&WN(o,n),n}function t2(t,e){const n={},s=d(t,["outputGcsUri"]);e!==void 0&&s!=null&&f(e,["parameters","storageUri"],s);const o=d(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&f(e,["parameters","safetySetting"],o);const l=d(t,["personGeneration"]);e!==void 0&&l!=null&&f(e,["parameters","personGeneration"],l);const c=d(t,["includeRaiReason"]);e!==void 0&&c!=null&&f(e,["parameters","includeRaiReason"],c);const h=d(t,["outputMimeType"]);e!==void 0&&h!=null&&f(e,["parameters","outputOptions","mimeType"],h);const y=d(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&f(e,["parameters","outputOptions","compressionQuality"],y);const g=d(t,["enhanceInputImage"]);e!==void 0&&g!=null&&f(e,["parameters","upscaleConfig","enhanceInputImage"],g);const v=d(t,["imagePreservationFactor"]);e!==void 0&&v!=null&&f(e,["parameters","upscaleConfig","imagePreservationFactor"],v);const S=d(t,["labels"]);e!==void 0&&S!=null&&f(e,["labels"],S);const C=d(t,["numberOfImages"]);e!==void 0&&C!=null&&f(e,["parameters","sampleCount"],C);const I=d(t,["mode"]);return e!==void 0&&I!=null&&f(e,["parameters","mode"],I),n}function n2(t,e){const n={},s=d(e,["model"]);s!=null&&f(n,["_url","model"],Be(t,s));const o=d(e,["image"]);o!=null&&f(n,["instances[0]","image"],oi(o));const l=d(e,["upscaleFactor"]);l!=null&&f(n,["parameters","upscaleConfig","upscaleFactor"],l);const c=d(e,["config"]);return c!=null&&t2(c,n),n}function i2(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const s=d(t,["predictions"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>bd(l))),f(e,["generatedImages"],o)}return e}function s2(t){const e={},n=d(t,["uri"]);n!=null&&f(e,["uri"],n);const s=d(t,["encodedVideo"]);s!=null&&f(e,["videoBytes"],or(s));const o=d(t,["encoding"]);return o!=null&&f(e,["mimeType"],o),e}function r2(t){const e={},n=d(t,["gcsUri"]);n!=null&&f(e,["uri"],n);const s=d(t,["bytesBase64Encoded"]);s!=null&&f(e,["videoBytes"],or(s));const o=d(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function o2(t){const e={},n=d(t,["image"]);n!=null&&f(e,["_self"],oi(n));const s=d(t,["maskMode"]);return s!=null&&f(e,["maskMode"],s),e}function a2(t){const e={},n=d(t,["image"]);n!=null&&f(e,["image"],Id(n));const s=d(t,["referenceType"]);return s!=null&&f(e,["referenceType"],s),e}function l2(t){const e={},n=d(t,["image"]);n!=null&&f(e,["image"],oi(n));const s=d(t,["referenceType"]);return s!=null&&f(e,["referenceType"],s),e}function OT(t){const e={},n=d(t,["uri"]);n!=null&&f(e,["uri"],n);const s=d(t,["videoBytes"]);s!=null&&f(e,["encodedVideo"],or(s));const o=d(t,["mimeType"]);return o!=null&&f(e,["encoding"],o),e}function qT(t){const e={},n=d(t,["uri"]);n!=null&&f(e,["gcsUri"],n);const s=d(t,["videoBytes"]);s!=null&&f(e,["bytesBase64Encoded"],or(s));const o=d(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const u2="Content-Type",c2="X-Server-Timeout",d2="User-Agent",_p="x-goog-api-client",f2="1.30.0",h2=`google-genai-sdk/${f2}`,p2="v1beta1",m2="v1beta",P0=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class g2{constructor(e){var n,s;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:p2,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:m2,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&s.push(e.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,s){const o=[this.getRequestUrlInternal(n)];return s&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,s);if(e.queryParams)for(const[c,h]of Object.entries(e.queryParams))o.searchParams.append(c,String(h));let l={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=e.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,n,o.toString(),e.abortSignal),this.unaryApiCall(o,l,e.httpMethod)}patchHttpOptions(e,n){const s=JSON.parse(JSON.stringify(e));for(const[o,l]of Object.entries(n))typeof l=="object"?s[o]=Object.assign(Object.assign({},s[o]),l):l!==void 0&&(s[o]=l);return s}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,s);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let l={};return l.body=e.body,l=await this.includeExtraHttpOptionsToRequestInit(l,n,o.toString(),e.abortSignal),this.streamApiCall(o,l,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,s,o){if(n&&n.timeout||o){const l=new AbortController,c=l.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const h=setTimeout(()=>l.abort(),n.timeout);h&&typeof h.unref=="function"&&h.unref()}o&&o.addEventListener("abort",()=>{l.abort()}),e.signal=c}return n&&n.extraBody!==null&&y2(e,n.extraBody),e.headers=await this.getHeadersInternal(n,s),e}async unaryApiCall(e,n,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:s})).then(async o=>(await k0(o),new hp(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,n,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:s})).then(async o=>(await k0(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){var n;return Qo(this,arguments,function*(){const o=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),l=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let c="";for(;;){const{done:h,value:y}=yield rt(o.read());if(h){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const g=l.decode(y,{stream:!0});try{const S=JSON.parse(g);if("error"in S){const C=JSON.parse(JSON.stringify(S.error)),I=C.status,F=C.code,J=`got status: ${I}. ${JSON.stringify(S)}`;if(F>=400&&F<600)throw new xd({message:J,status:F})}}catch(S){if(S.name==="ApiError")throw S}c+=g;let v=c.match(P0);for(;v;){const S=v[1];try{const C=new Response(S,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield rt(new hp(C)),c=c.slice(v[0].length),v=c.match(P0)}catch(C){throw new Error(`exception parsing stream chunk ${S}. ${C}`)}}}}finally{o.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const e={},n=h2+" "+this.clientOptions.userAgentExtra;return e[d2]=n,e[_p]=n,e[u2]="application/json",e}async getHeadersInternal(e,n){const s=new Headers;if(e&&e.headers){for(const[o,l]of Object.entries(e.headers))s.append(o,l);e.timeout&&e.timeout>0&&s.append(c2,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,n),s}getFileName(e){var n;let s="";return typeof e=="string"&&(s=e.replace(/[/\\]+$/,""),s=(n=s.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),s}async uploadFile(e,n){var s;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const l=this.clientOptions.uploader,c=await l.stat(e);o.sizeBytes=String(c.size);const h=(s=n==null?void 0:n.mimeType)!==null&&s!==void 0?s:c.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=h;const y={file:o},g=this.getFileName(e),v=ce("upload/v1beta/files",y._url),S=await this.fetchUploadUrl(v,o.sizeBytes,o.mimeType,g,y,n==null?void 0:n.httpOptions);return l.upload(e,S,this)}async uploadFileToFileSearchStore(e,n,s){var o;const l=this.clientOptions.uploader,c=await l.stat(n),h=String(c.size),y=(o=s==null?void 0:s.mimeType)!==null&&o!==void 0?o:c.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const g=`upload/v1beta/${e}:uploadToFileSearchStore`,v=this.getFileName(n),S={};s!=null&&s.customMetadata&&(S.customMetadata=s.customMetadata),s!=null&&s.chunkingConfig&&(S.chunkingConfig=s.chunkingConfig);const C=await this.fetchUploadUrl(g,h,y,v,S,s==null?void 0:s.httpOptions);return l.uploadToFileSearchStore(n,C,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,s,o,l,c){var h;let y={};c?y=c:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${s}`},o?{"X-Goog-Upload-File-Name":o}:{})};const g=await this.request({path:e,body:JSON.stringify(l),httpMethod:"POST",httpOptions:y});if(!g||!(g!=null&&g.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(h=g==null?void 0:g.headers)===null||h===void 0?void 0:h["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function k0(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let s;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?s=await t.json():s={error:{message:await t.text(),code:t.status,status:t.statusText}};const o=JSON.stringify(s);throw n>=400&&n<600?new xd({message:o,status:n}):new Error(o)}}function y2(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const l=JSON.parse(t.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))n=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(l,c){const h=Object.assign({},l);for(const y in c)if(Object.prototype.hasOwnProperty.call(c,y)){const g=c[y],v=h[y];g&&typeof g=="object"&&!Array.isArray(g)&&v&&typeof v=="object"&&!Array.isArray(v)?h[y]=s(v,g):(v&&g&&typeof v!=typeof g&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof g}. Overwriting.`),h[y]=g)}return h}const o=s(n,e);t.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _2="mcp_used/unknown";let v2=!1;function FT(t){for(const e of t)if(E2(e)||typeof e=="object"&&"inputSchema"in e)return!0;return v2}function HT(t){var e;const n=(e=t[_p])!==null&&e!==void 0?e:"";t[_p]=(n+` ${_2}`).trimStart()}function E2(t){return t!==null&&typeof t=="object"&&t instanceof Qp}function T2(t,e=100){return Qo(this,arguments,function*(){let s,o=0;for(;o<e;){const l=yield rt(t.listTools({cursor:s}));for(const c of l.tools)yield yield rt(c),o++;if(!l.nextCursor)break;s=l.nextCursor}})}class Qp{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Qp(e,n)}async initialize(){var e,n,s,o;if(this.mcpTools.length>0)return;const l={},c=[];for(const v of this.mcpClients)try{for(var h=!0,y=(n=void 0,Nl(T2(v))),g;g=await y.next(),e=g.done,!e;h=!0){o=g.value,h=!1;const S=o;c.push(S);const C=S.name;if(l[C])throw new Error(`Duplicate function name ${C} found in MCP tools. Please ensure function names are unique.`);l[C]=v}}catch(S){n={error:S}}finally{try{!h&&!e&&(s=y.return)&&await s.call(y)}finally{if(n)throw n.error}}this.mcpTools=c,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),hb(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const s of e)if(s.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[s.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const c=await o.callTool({name:s.name,arguments:s.args},void 0,l);n.push({functionResponse:{name:s.name,response:c.isError?{error:c}:c}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function S2(t,e,n){const s=new rb;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),Object.assign(s,o),e(s)}class A2{constructor(e,n,s){this.apiClient=e,this.auth=n,this.webSocketFactory=s}async connect(e){var n,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),c=w2(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),y=`${o}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${h}`;let g=()=>{};const v=new Promise(j=>{g=j}),S=e.callbacks,C=function(){g({})},I=this.apiClient,F={onopen:C,onmessage:j=>{S2(I,S.onmessage,j)},onerror:(n=S==null?void 0:S.onerror)!==null&&n!==void 0?n:function(j){},onclose:(s=S==null?void 0:S.onclose)!==null&&s!==void 0?s:function(j){}},J=this.webSocketFactory.create(y,x2(c),F);J.connect(),await v;const ne={setup:{model:Be(this.apiClient,e.model)}};return J.send(JSON.stringify(ne)),new C2(J,this.apiClient)}}class C2{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=cR(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=uR(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Ko.PLAY)}pause(){this.sendPlaybackControl(Ko.PAUSE)}stop(){this.sendPlaybackControl(Ko.STOP)}resetContext(){this.sendPlaybackControl(Ko.RESET_CONTEXT)}close(){this.conn.close()}}function x2(t){const e={};return t.forEach((n,s)=>{e[s]=n}),e}function w2(t){const e=new Headers;for(const[n,s]of Object.entries(t))e.append(n,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const b2="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function I2(t,e,n){const s=new sb;let o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;const l=JSON.parse(o);if(t.isVertexAI()){const c=hR(l);Object.assign(s,c)}else Object.assign(s,l);e(s)}class R2{constructor(e,n,s){this.apiClient=e,this.auth=n,this.webSocketFactory=s,this.music=new A2(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,s,o,l,c,h;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),g=this.apiClient.getApiVersion();let v;const S=this.apiClient.getHeaders();e.config&&e.config.tools&&FT(e.config.tools)&&HT(S);const C=P2(S);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${g}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(C,v);else{const R=this.apiClient.getApiKey();let U="BidiGenerateContent",D="key";R!=null&&R.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),g!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),U="BidiGenerateContentConstrained",D="access_token"),v=`${y}/ws/google.ai.generativelanguage.${g}.GenerativeService.${U}?${D}=${R}`}let I=()=>{};const F=new Promise(R=>{I=R}),J=e.callbacks,G=function(){var R;(R=J==null?void 0:J.onopen)===null||R===void 0||R.call(J),I({})},W=this.apiClient,ne={onopen:G,onmessage:R=>{I2(W,J.onmessage,R)},onerror:(n=J==null?void 0:J.onerror)!==null&&n!==void 0?n:function(R){},onclose:(s=J==null?void 0:J.onclose)!==null&&s!==void 0?s:function(R){}},j=this.webSocketFactory.create(v,D2(C),ne);j.connect(),await F;let re=Be(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&re.startsWith("publishers/")){const R=this.apiClient.getProject(),U=this.apiClient.getLocation();re=`projects/${R}/locations/${U}/`+re}let de={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[ed.AUDIO]}:e.config.responseModalities=[ed.AUDIO]),!((l=e.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const le=(h=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[],M=[];for(const R of le)if(this.isCallableTool(R)){const U=R;M.push(await U.tool())}else M.push(R);M.length>0&&(e.config.tools=M);const N={model:re,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?de=lR(this.apiClient,N):de=aR(this.apiClient,N),delete de.config,j.send(JSON.stringify(de)),new M2(j,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const N2={turnComplete:!0};class M2{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let s=[];try{s=Hn(n.turns),e.isVertexAI()||(s=s.map(o=>wd(o)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:s,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let s=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?s=n.functionResponses:s=[n.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const l of s){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!e.isVertexAI()&&!("id"in l))throw new Error(b2)}return{toolResponse:{functionResponses:s}}}sendClientContent(e){e=Object.assign(Object.assign({},N2),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:fR(e)}:n={realtimeInput:dR(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function D2(t){const e={};return t.forEach((n,s)=>{e[s]=n}),e}function P2(t){const e=new Headers;for(const[n,s]of Object.entries(t))e.append(n,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const U0=10;function V0(t){var e,n,s;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const c of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Xo(c)){o=!0;break}if(!o)return!0;const l=(s=t==null?void 0:t.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function Xo(t){return"callTool"in t&&typeof t.callTool=="function"}function k2(t){var e,n,s;return(s=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>Xo(o)))!==null&&s!==void 0?s:!1}function L0(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((s,o)=>{if(Xo(s))return;const l=s;l.functionDeclarations&&l.functionDeclarations.length>0&&n.push(o)}),n}function O0(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class U2 extends us{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var s,o,l,c,h;const y=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!k2(n)||V0(n.config))return await this.generateContentInternal(y);const g=L0(n);if(g.length>0){const J=g.map(G=>`tools[${G}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${J}.`)}let v,S;const C=Hn(y.contents),I=(l=(o=(s=y.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&l!==void 0?l:U0;let F=0;for(;F<I&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const J=v.candidates[0].content,G=[];for(const W of(h=(c=n.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[])if(Xo(W)){const j=await W.callTool(v.functionCalls);G.push(...j)}F++,S={role:"user",parts:G},y.contents=Hn(y.contents),y.contents.push(J),y.contents.push(S),O0(y.config)&&(C.push(J),C.push(S))}return O0(y.config)&&(v.automaticFunctionCallingHistory=C),v},this.generateContentStream=async n=>{var s,o,l,c,h;if(this.maybeMoveToResponseJsonSchem(n),V0(n.config)){const S=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(S)}const y=L0(n);if(y.length>0){const S=y.map(C=>`tools[${C}]`).join(", ");throw new Error(`Incompatible tools found at ${S}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const g=(l=(o=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.toolConfig)===null||o===void 0?void 0:o.functionCallingConfig)===null||l===void 0?void 0:l.streamFunctionCallArguments,v=(h=(c=n==null?void 0:n.config)===null||c===void 0?void 0:c.automaticFunctionCalling)===null||h===void 0?void 0:h.disable;if(g&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(s=>{var o;let l;const c=[];if(s!=null&&s.generatedImages)for(const y of s.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((o=y==null?void 0:y.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?l=y==null?void 0:y.safetyAttributes:c.push(y);let h;return l?h={generatedImages:c,positivePromptSafetyAttributes:l,sdkHttpResponse:s.sdkHttpResponse}:h={generatedImages:c,sdkHttpResponse:s.sdkHttpResponse},h}),this.list=async n=>{var s;const c={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((s=c.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new Qr(os.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(c),c)},this.editImage=async n=>{const s={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(s.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async n=>{let s={numberOfImages:1,mode:"upscale"};n.config&&(s=Object.assign(Object.assign({},s),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:s};return await this.upscaleImageInternal(o)},this.generateVideos=async n=>{var s,o,l,c,h,y;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=n.video)===null||s===void 0)&&s.uri&&(!((o=n.video)===null||o===void 0)&&o.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((c=(l=n.source)===null||l===void 0?void 0:l.video)===null||c===void 0)&&c.uri&&(!((y=(h=n.source)===null||h===void 0?void 0:h.video)===null||y===void 0)&&y.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,s,o;const l=(n=e.config)===null||n===void 0?void 0:n.tools;if(!l)return e;const c=await Promise.all(l.map(async y=>Xo(y)?await y.tool():y)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(h.config.tools=c,e.config&&e.config.tools&&FT(e.config.tools)){const y=(o=(s=e.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&o!==void 0?o:{};let g=Object.assign({},y);Object.keys(g).length===0&&(g=this.apiClient.getDefaultHeaders()),HT(g),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:g})}return h}async initAfcToolsMap(e){var n,s,o;const l=new Map;for(const c of(s=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&s!==void 0?s:[])if(Xo(c)){const h=c,y=await h.tool();for(const g of(o=y.functionDeclarations)!==null&&o!==void 0?o:[]){if(!g.name)throw new Error("Function declaration name is required.");if(l.has(g.name))throw new Error(`Duplicate tool declaration name: ${g.name}`);l.set(g.name,h)}}return l}async processAfcStream(e){var n,s,o;const l=(o=(s=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&o!==void 0?o:U0;let c=!1,h=0;const y=await this.initAfcToolsMap(e);return(function(g,v,S){var C,I;return Qo(this,arguments,function*(){for(var F,J,G,W;h<l;){c&&(h++,c=!1);const de=yield rt(g.processParamsMaybeAddMcpUsage(S)),le=yield rt(g.generateContentStreamInternal(de)),M=[],N=[];try{for(var ne=!0,j=(J=void 0,Nl(le)),re;re=yield rt(j.next()),F=re.done,!F;ne=!0){W=re.value,ne=!1;const R=W;if(yield yield rt(R),R.candidates&&(!((C=R.candidates[0])===null||C===void 0)&&C.content)){N.push(R.candidates[0].content);for(const U of(I=R.candidates[0].content.parts)!==null&&I!==void 0?I:[])if(h<l&&U.functionCall){if(!U.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(U.functionCall.name)){const D=yield rt(v.get(U.functionCall.name).callTool([U.functionCall]));M.push(...D)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${U.functionCall.name}`)}}}}catch(R){J={error:R}}finally{try{!ne&&!F&&(G=j.return)&&(yield rt(G.call(j)))}finally{if(J)throw J.error}}if(M.length>0){c=!0;const R=new xl;R.candidates=[{content:{role:"user",parts:M}}],yield yield rt(R);const U=[];U.push(...N),U.push({role:"user",parts:M});const D=Hn(S.contents).concat(U);S.contents=D}else break}})})(this,y,e)}async generateContentInternal(e){var n,s,o,l;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=N0(this.apiClient,e);return h=ce("{model}:generateContent",g._url),y=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),c.then(v=>{const S=D0(v),C=new xl;return Object.assign(C,S),C})}else{const g=R0(this.apiClient,e);return h=ce("{model}:generateContent",g._url),y=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),c.then(v=>{const S=M0(v),C=new xl;return Object.assign(C,S),C})}}async generateContentStreamInternal(e){var n,s,o,l;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=N0(this.apiClient,e);return h=ce("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g._url,delete g._query,c=this.apiClient.requestStream({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),c.then(function(S){return Qo(this,arguments,function*(){var C,I,F,J;try{for(var G=!0,W=Nl(S),ne;ne=yield rt(W.next()),C=ne.done,!C;G=!0){J=ne.value,G=!1;const j=J,re=D0(yield rt(j.json()));re.sdkHttpResponse={headers:j.headers};const de=new xl;Object.assign(de,re),yield yield rt(de)}}catch(j){I={error:j}}finally{try{!G&&!C&&(F=W.return)&&(yield rt(F.call(W)))}finally{if(I)throw I.error}}})})}else{const g=R0(this.apiClient,e);return h=ce("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g._url,delete g._query,c=this.apiClient.requestStream({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),c.then(function(S){return Qo(this,arguments,function*(){var C,I,F,J;try{for(var G=!0,W=Nl(S),ne;ne=yield rt(W.next()),C=ne.done,!C;G=!0){J=ne.value,G=!1;const j=J,re=M0(yield rt(j.json()));re.sdkHttpResponse={headers:j.headers};const de=new xl;Object.assign(de,re),yield yield rt(de)}}catch(j){I={error:j}}finally{try{!G&&!C&&(F=W.return)&&(yield rt(F.call(W)))}finally{if(I)throw I.error}}})})}}async embedContent(e){var n,s,o,l;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=BR(this.apiClient,e);return h=ce("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),c.then(v=>{const S=YR(v),C=new h0;return Object.assign(C,S),C})}else{const g=zR(this.apiClient,e);return h=ce("{model}:batchEmbedContents",g._url),y=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),c.then(v=>{const S=GR(v),C=new h0;return Object.assign(C,S),C})}}async generateImagesInternal(e){var n,s,o,l;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=nN(this.apiClient,e);return h=ce("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),c.then(v=>{const S=sN(v),C=new p0;return Object.assign(C,S),C})}else{const g=tN(this.apiClient,e);return h=ce("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),c.then(v=>{const S=iN(v),C=new p0;return Object.assign(C,S),C})}}async editImageInternal(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const h=OR(this.apiClient,e);return l=ce("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),o.then(y=>{const g=qR(y),v=new Kw;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const h=n2(this.apiClient,e);return l=ce("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),o.then(y=>{const g=i2(y),v=new $w;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const h=LN(this.apiClient,e);return l=ce("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),o.then(y=>{const g=ON(y),v=new jw;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const h=GN(this.apiClient,e);return l=ce("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),o.then(y=>{const g=YN(y),v=new Qw;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,s,o,l;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=TN(this.apiClient,e);return h=ce("{name}",g._url),y=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>yp(v))}else{const g=EN(this.apiClient,e);return h=ce("{name}",g._url),y=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>gp(v))}}async listInternal(e){var n,s,o,l;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=NN(this.apiClient,e);return h=ce("{models_url}",g._url),y=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),c.then(v=>{const S=DN(v),C=new m0;return Object.assign(C,S),C})}else{const g=RN(this.apiClient,e);return h=ce("{models_url}",g._url),y=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),c.then(v=>{const S=MN(v),C=new m0;return Object.assign(C,S),C})}}async update(e){var n,s,o,l;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=e2(this.apiClient,e);return h=ce("{model}",g._url),y=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>yp(v))}else{const g=ZN(this.apiClient,e);return h=ce("{name}",g._url),y=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>gp(v))}}async delete(e){var n,s,o,l;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=kR(this.apiClient,e);return h=ce("{name}",g._url),y=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),c.then(v=>{const S=VR(v),C=new g0;return Object.assign(C,S),C})}else{const g=PR(this.apiClient,e);return h=ce("{name}",g._url),y=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),c.then(v=>{const S=UR(v),C=new g0;return Object.assign(C,S),C})}}async countTokens(e){var n,s,o,l;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=NR(this.apiClient,e);return h=ce("{model}:countTokens",g._url),y=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),c.then(v=>{const S=DR(v),C=new y0;return Object.assign(C,S),C})}else{const g=RR(this.apiClient,e);return h=ce("{model}:countTokens",g._url),y=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),c.then(v=>{const S=MR(v),C=new y0;return Object.assign(C,S),C})}}async computeTokens(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const h=SR(this.apiClient,e);return l=ce("{model}:computeTokens",h._url),c=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),o.then(y=>{const g=AR(y),v=new Xw;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,s,o,l;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=cN(this.apiClient,e);return h=ce("{model}:predictLongRunning",g._url),y=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>{const S=lN(v),C=new td;return Object.assign(C,S),C})}else{const g=uN(this.apiClient,e);return h=ce("{model}:predictLongRunning",g._url),y=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>{const S=aN(v),C=new td;return Object.assign(C,S),C})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class V2 extends us{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,s=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let l;s&&"httpOptions"in s&&(l=s.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:s});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async get(e){const n=e.operation,s=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let l;s&&"httpOptions"in s&&(l=s.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:s});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,s,o,l;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=Hw(e);return h=ce("{operationName}",g._url),y=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c}else{const g=Fw(e);return h=ce("{operationName}",g._url),y=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c}}async fetchPredictVideosOperationInternal(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const h=Pw(e);return l=ce("{resourceName}:fetchPredictOperation",h._url),c=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function L2(t){const e={},n=d(t,["data"]);if(n!=null&&f(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=d(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function O2(t){const e={},n=d(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>K2(l))),f(e,["parts"],o)}const s=d(t,["role"]);return s!=null&&f(e,["role"],s),e}function q2(t,e,n){const s={},o=d(e,["expireTime"]);n!==void 0&&o!=null&&f(n,["expireTime"],o);const l=d(e,["newSessionExpireTime"]);n!==void 0&&l!=null&&f(n,["newSessionExpireTime"],l);const c=d(e,["uses"]);n!==void 0&&c!=null&&f(n,["uses"],c);const h=d(e,["liveConnectConstraints"]);n!==void 0&&h!=null&&f(n,["bidiGenerateContentSetup"],J2(t,h));const y=d(e,["lockAdditionalFields"]);return n!==void 0&&y!=null&&f(n,["fieldMask"],y),s}function F2(t,e){const n={},s=d(e,["config"]);return s!=null&&f(n,["config"],q2(t,s,n)),n}function H2(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const s=d(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function z2(t){const e={},n=d(t,["id"]);n!=null&&f(e,["id"],n);const s=d(t,["args"]);s!=null&&f(e,["args"],s);const o=d(t,["name"]);if(o!=null&&f(e,["name"],o),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function B2(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&f(e,["enableWidget"],n),e}function G2(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],n),e}function Y2(t,e){const n={},s=d(t,["generationConfig"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig"],s);const o=d(t,["responseModalities"]);e!==void 0&&o!=null&&f(e,["setup","generationConfig","responseModalities"],o);const l=d(t,["temperature"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","temperature"],l);const c=d(t,["topP"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","topP"],c);const h=d(t,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const y=d(t,["maxOutputTokens"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","maxOutputTokens"],y);const g=d(t,["mediaResolution"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","mediaResolution"],g);const v=d(t,["seed"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","seed"],v);const S=d(t,["speechConfig"]);e!==void 0&&S!=null&&f(e,["setup","generationConfig","speechConfig"],jp(S));const C=d(t,["thinkingConfig"]);e!==void 0&&C!=null&&f(e,["setup","generationConfig","thinkingConfig"],C);const I=d(t,["enableAffectiveDialog"]);e!==void 0&&I!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],I);const F=d(t,["systemInstruction"]);e!==void 0&&F!=null&&f(e,["setup","systemInstruction"],O2(nn(F)));const J=d(t,["tools"]);if(e!==void 0&&J!=null){let le=da(J);Array.isArray(le)&&(le=le.map(M=>j2(ca(M)))),f(e,["setup","tools"],le)}const G=d(t,["sessionResumption"]);e!==void 0&&G!=null&&f(e,["setup","sessionResumption"],$2(G));const W=d(t,["inputAudioTranscription"]);e!==void 0&&W!=null&&f(e,["setup","inputAudioTranscription"],W);const ne=d(t,["outputAudioTranscription"]);e!==void 0&&ne!=null&&f(e,["setup","outputAudioTranscription"],ne);const j=d(t,["realtimeInputConfig"]);e!==void 0&&j!=null&&f(e,["setup","realtimeInputConfig"],j);const re=d(t,["contextWindowCompression"]);e!==void 0&&re!=null&&f(e,["setup","contextWindowCompression"],re);const de=d(t,["proactivity"]);return e!==void 0&&de!=null&&f(e,["setup","proactivity"],de),n}function J2(t,e){const n={},s=d(e,["model"]);s!=null&&f(n,["setup","model"],Be(t,s));const o=d(e,["config"]);return o!=null&&f(n,["config"],Y2(o,n)),n}function K2(t){const e={},n=d(t,["mediaResolution"]);n!=null&&f(e,["mediaResolution"],n);const s=d(t,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const o=d(t,["executableCode"]);o!=null&&f(e,["executableCode"],o);const l=d(t,["fileData"]);l!=null&&f(e,["fileData"],H2(l));const c=d(t,["functionCall"]);c!=null&&f(e,["functionCall"],z2(c));const h=d(t,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const y=d(t,["inlineData"]);y!=null&&f(e,["inlineData"],L2(y));const g=d(t,["text"]);g!=null&&f(e,["text"],g);const v=d(t,["thought"]);v!=null&&f(e,["thought"],v);const S=d(t,["thoughtSignature"]);S!=null&&f(e,["thoughtSignature"],S);const C=d(t,["videoMetadata"]);return C!=null&&f(e,["videoMetadata"],C),e}function $2(t){const e={},n=d(t,["handle"]);if(n!=null&&f(e,["handle"],n),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function j2(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(S=>S)),f(e,["functionDeclarations"],v)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=d(t,["googleSearchRetrieval"]);s!=null&&f(e,["googleSearchRetrieval"],s);const o=d(t,["computerUse"]);o!=null&&f(e,["computerUse"],o);const l=d(t,["fileSearch"]);l!=null&&f(e,["fileSearch"],l);const c=d(t,["codeExecution"]);if(c!=null&&f(e,["codeExecution"],c),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=d(t,["googleMaps"]);h!=null&&f(e,["googleMaps"],B2(h));const y=d(t,["googleSearch"]);y!=null&&f(e,["googleSearch"],G2(y));const g=d(t,["urlContext"]);return g!=null&&f(e,["urlContext"],g),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Q2(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const s=t[n];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const o=Object.keys(s).map(l=>`${n}.${l}`);e.push(...o)}else e.push(n)}return e.join(",")}function X2(t,e){let n=null;const s=t.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const l=s.setup;typeof l=="object"&&l!==null?(t.bidiGenerateContentSetup=l,n=l):delete t.bidiGenerateContentSetup}else s!==void 0&&delete t.bidiGenerateContentSetup;const o=t.fieldMask;if(n){const l=Q2(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)l?t.fieldMask=l:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];o.length>0&&(h=o.map(g=>c.includes(g)?`generationConfig.${g}`:g));const y=[];l&&y.push(l),h.length>0&&y.push(...h),y.length>0?t.fieldMask=y.join(","):delete t.fieldMask}else delete t.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?t.fieldMask=o.join(","):delete t.fieldMask;return t}class W2 extends us{constructor(e){super(),this.apiClient=e}async create(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=F2(this.apiClient,e);l=ce("auth_tokens",h._url),c=h._query,delete h.config,delete h._url,delete h._query;const y=X2(h,e.config);return o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),o.then(g=>g)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Z2(t,e){const n={},s=d(t,["displayName"]);return e!==void 0&&s!=null&&f(e,["displayName"],s),n}function eM(t){const e={},n=d(t,["config"]);return n!=null&&Z2(n,e),e}function tM(t,e){const n={},s=d(t,["force"]);return e!==void 0&&s!=null&&f(e,["_query","force"],s),n}function nM(t){const e={},n=d(t,["name"]);n!=null&&f(e,["_url","name"],n);const s=d(t,["config"]);return s!=null&&tM(s,e),e}function iM(t){const e={},n=d(t,["name"]);return n!=null&&f(e,["_url","name"],n),e}function sM(t,e){const n={},s=d(t,["customMetadata"]);if(e!==void 0&&s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["customMetadata"],l)}const o=d(t,["chunkingConfig"]);return e!==void 0&&o!=null&&f(e,["chunkingConfig"],o),n}function rM(t){const e={},n=d(t,["name"]);n!=null&&f(e,["name"],n);const s=d(t,["metadata"]);s!=null&&f(e,["metadata"],s);const o=d(t,["done"]);o!=null&&f(e,["done"],o);const l=d(t,["error"]);l!=null&&f(e,["error"],l);const c=d(t,["response"]);return c!=null&&f(e,["response"],aM(c)),e}function oM(t){const e={},n=d(t,["fileSearchStoreName"]);n!=null&&f(e,["_url","file_search_store_name"],n);const s=d(t,["fileName"]);s!=null&&f(e,["fileName"],s);const o=d(t,["config"]);return o!=null&&sM(o,e),e}function aM(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const s=d(t,["parent"]);s!=null&&f(e,["parent"],s);const o=d(t,["documentName"]);return o!=null&&f(e,["documentName"],o),e}function lM(t,e){const n={},s=d(t,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const o=d(t,["pageToken"]);return e!==void 0&&o!=null&&f(e,["_query","pageToken"],o),n}function uM(t){const e={},n=d(t,["config"]);return n!=null&&lM(n,e),e}function cM(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const s=d(t,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const o=d(t,["fileSearchStores"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["fileSearchStores"],l)}return e}function dM(t,e){const n={},s=d(t,["mimeType"]);e!==void 0&&s!=null&&f(e,["mimeType"],s);const o=d(t,["displayName"]);e!==void 0&&o!=null&&f(e,["displayName"],o);const l=d(t,["customMetadata"]);if(e!==void 0&&l!=null){let h=l;Array.isArray(h)&&(h=h.map(y=>y)),f(e,["customMetadata"],h)}const c=d(t,["chunkingConfig"]);return e!==void 0&&c!=null&&f(e,["chunkingConfig"],c),n}function fM(t){const e={},n=d(t,["fileSearchStoreName"]);n!=null&&f(e,["_url","file_search_store_name"],n);const s=d(t,["config"]);return s!=null&&dM(s,e),e}function hM(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pM(t,e){const n={},s=d(t,["force"]);return e!==void 0&&s!=null&&f(e,["_query","force"],s),n}function mM(t){const e={},n=d(t,["name"]);n!=null&&f(e,["_url","name"],n);const s=d(t,["config"]);return s!=null&&pM(s,e),e}function gM(t){const e={},n=d(t,["name"]);return n!=null&&f(e,["_url","name"],n),e}function yM(t,e){const n={},s=d(t,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const o=d(t,["pageToken"]);return e!==void 0&&o!=null&&f(e,["_query","pageToken"],o),n}function _M(t){const e={},n=d(t,["parent"]);n!=null&&f(e,["_url","parent"],n);const s=d(t,["config"]);return s!=null&&yM(s,e),e}function vM(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const s=d(t,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const o=d(t,["documents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["documents"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class EM extends us{constructor(e){super(),this.apiClient=e,this.list=async n=>new Qr(os.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:n.parent,config:s.config}),await this.listInternal(n),n)}async get(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=gM(e);return l=ce("{name}",h._url),c=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),o.then(y=>y)}}async delete(e){var n,s;let o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=mM(e);o=ce("{name}",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=_M(e);return l=ce("{parent}/documents",h._url),c=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),o.then(y=>{const g=vM(y),v=new Ww;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TM extends us{constructor(e,n=new EM(e)){super(),this.apiClient=e,this.documents=n,this.list=async(s={})=>new Qr(os.PAGED_ITEM_FILE_SEARCH_STORES,o=>this.listInternal(o),await this.listInternal(s),s)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=eM(e);return l=ce("fileSearchStores",h._url),c=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),o.then(y=>y)}}async get(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=iM(e);return l=ce("{name}",h._url),c=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),o.then(y=>y)}}async delete(e){var n,s;let o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=nM(e);o=ce("{name}",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=uM(e);return l=ce("fileSearchStores",h._url),c=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),o.then(y=>{const g=cM(y),v=new Zw;return Object.assign(v,g),v})}}async uploadToFileSearchStoreInternal(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=fM(e);return l=ce("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",h._url),c=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),o.then(y=>{const g=hM(y),v=new eb;return Object.assign(v,g),v})}}async importFile(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=oM(e);return l=ce("{file_search_store_name}:importFile",h._url),c=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),o.then(y=>{const g=rM(y),v=new Gp;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function SM(t,e){const n={},s=d(t,["name"]);return s!=null&&f(n,["_url","name"],s),n}function AM(t,e){const n={},s=d(t,["name"]);return s!=null&&f(n,["_url","name"],s),n}function CM(t,e,n){const s={};if(d(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=d(t,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&f(e,["displayName"],o),d(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=d(t,["epochCount"]);e!==void 0&&l!=null&&f(e,["tuningTask","hyperparameters","epochCount"],l);const c=d(t,["learningRateMultiplier"]);if(c!=null&&f(s,["tuningTask","hyperparameters","learningRateMultiplier"],c),d(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const h=d(t,["batchSize"]);e!==void 0&&h!=null&&f(e,["tuningTask","hyperparameters","batchSize"],h);const y=d(t,["learningRate"]);if(e!==void 0&&y!=null&&f(e,["tuningTask","hyperparameters","learningRate"],y),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(d(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return s}function xM(t,e,n){const s={};let o=d(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const I=d(t,["validationDataset"]);e!==void 0&&I!=null&&f(e,["supervisedTuningSpec"],q0(I))}else if(o==="PREFERENCE_TUNING"){const I=d(t,["validationDataset"]);e!==void 0&&I!=null&&f(e,["preferenceOptimizationSpec"],q0(I))}const l=d(t,["tunedModelDisplayName"]);e!==void 0&&l!=null&&f(e,["tunedModelDisplayName"],l);const c=d(t,["description"]);e!==void 0&&c!=null&&f(e,["description"],c);let h=d(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const I=d(t,["epochCount"]);e!==void 0&&I!=null&&f(e,["supervisedTuningSpec","hyperParameters","epochCount"],I)}else if(h==="PREFERENCE_TUNING"){const I=d(t,["epochCount"]);e!==void 0&&I!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],I)}let y=d(n,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const I=d(t,["learningRateMultiplier"]);e!==void 0&&I!=null&&f(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],I)}else if(y==="PREFERENCE_TUNING"){const I=d(t,["learningRateMultiplier"]);e!==void 0&&I!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],I)}let g=d(n,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const I=d(t,["exportLastCheckpointOnly"]);e!==void 0&&I!=null&&f(e,["supervisedTuningSpec","exportLastCheckpointOnly"],I)}else if(g==="PREFERENCE_TUNING"){const I=d(t,["exportLastCheckpointOnly"]);e!==void 0&&I!=null&&f(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],I)}let v=d(n,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const I=d(t,["adapterSize"]);e!==void 0&&I!=null&&f(e,["supervisedTuningSpec","hyperParameters","adapterSize"],I)}else if(v==="PREFERENCE_TUNING"){const I=d(t,["adapterSize"]);e!==void 0&&I!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],I)}if(d(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const S=d(t,["labels"]);e!==void 0&&S!=null&&f(e,["labels"],S);const C=d(t,["beta"]);return e!==void 0&&C!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","beta"],C),s}function wM(t,e){const n={},s=d(t,["baseModel"]);s!=null&&f(n,["baseModel"],s);const o=d(t,["preTunedModel"]);o!=null&&f(n,["preTunedModel"],o);const l=d(t,["trainingDataset"]);l!=null&&LM(l);const c=d(t,["config"]);return c!=null&&CM(c,n),n}function bM(t,e){const n={},s=d(t,["baseModel"]);s!=null&&f(n,["baseModel"],s);const o=d(t,["preTunedModel"]);o!=null&&f(n,["preTunedModel"],o);const l=d(t,["trainingDataset"]);l!=null&&OM(l,n,e);const c=d(t,["config"]);return c!=null&&xM(c,n,e),n}function IM(t,e){const n={},s=d(t,["name"]);return s!=null&&f(n,["_url","name"],s),n}function RM(t,e){const n={},s=d(t,["name"]);return s!=null&&f(n,["_url","name"],s),n}function NM(t,e,n){const s={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&f(e,["_query","pageSize"],o);const l=d(t,["pageToken"]);e!==void 0&&l!=null&&f(e,["_query","pageToken"],l);const c=d(t,["filter"]);return e!==void 0&&c!=null&&f(e,["_query","filter"],c),s}function MM(t,e,n){const s={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&f(e,["_query","pageSize"],o);const l=d(t,["pageToken"]);e!==void 0&&l!=null&&f(e,["_query","pageToken"],l);const c=d(t,["filter"]);return e!==void 0&&c!=null&&f(e,["_query","filter"],c),s}function DM(t,e){const n={},s=d(t,["config"]);return s!=null&&NM(s,n),n}function PM(t,e){const n={},s=d(t,["config"]);return s!=null&&MM(s,n),n}function kM(t,e){const n={},s=d(t,["sdkHttpResponse"]);s!=null&&f(n,["sdkHttpResponse"],s);const o=d(t,["nextPageToken"]);o!=null&&f(n,["nextPageToken"],o);const l=d(t,["tunedModels"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(h=>zT(h))),f(n,["tuningJobs"],c)}return n}function UM(t,e){const n={},s=d(t,["sdkHttpResponse"]);s!=null&&f(n,["sdkHttpResponse"],s);const o=d(t,["nextPageToken"]);o!=null&&f(n,["nextPageToken"],o);const l=d(t,["tuningJobs"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(h=>vp(h))),f(n,["tuningJobs"],c)}return n}function VM(t,e){const n={},s=d(t,["name"]);s!=null&&f(n,["model"],s);const o=d(t,["name"]);return o!=null&&f(n,["endpoint"],o),n}function LM(t,e){const n={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=d(t,["examples"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>l)),f(n,["examples","examples"],o)}return n}function OM(t,e,n){const s={};let o=d(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const c=d(t,["gcsUri"]);e!==void 0&&c!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(o==="PREFERENCE_TUNING"){const c=d(t,["gcsUri"]);e!==void 0&&c!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}let l=d(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const c=d(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(l==="PREFERENCE_TUNING"){const c=d(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}if(d(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function zT(t,e){const n={},s=d(t,["sdkHttpResponse"]);s!=null&&f(n,["sdkHttpResponse"],s);const o=d(t,["name"]);o!=null&&f(n,["name"],o);const l=d(t,["state"]);l!=null&&f(n,["state"],AT(l));const c=d(t,["createTime"]);c!=null&&f(n,["createTime"],c);const h=d(t,["tuningTask","startTime"]);h!=null&&f(n,["startTime"],h);const y=d(t,["tuningTask","completeTime"]);y!=null&&f(n,["endTime"],y);const g=d(t,["updateTime"]);g!=null&&f(n,["updateTime"],g);const v=d(t,["description"]);v!=null&&f(n,["description"],v);const S=d(t,["baseModel"]);S!=null&&f(n,["baseModel"],S);const C=d(t,["_self"]);return C!=null&&f(n,["tunedModel"],VM(C)),n}function vp(t,e){const n={},s=d(t,["sdkHttpResponse"]);s!=null&&f(n,["sdkHttpResponse"],s);const o=d(t,["name"]);o!=null&&f(n,["name"],o);const l=d(t,["state"]);l!=null&&f(n,["state"],AT(l));const c=d(t,["createTime"]);c!=null&&f(n,["createTime"],c);const h=d(t,["startTime"]);h!=null&&f(n,["startTime"],h);const y=d(t,["endTime"]);y!=null&&f(n,["endTime"],y);const g=d(t,["updateTime"]);g!=null&&f(n,["updateTime"],g);const v=d(t,["error"]);v!=null&&f(n,["error"],v);const S=d(t,["description"]);S!=null&&f(n,["description"],S);const C=d(t,["baseModel"]);C!=null&&f(n,["baseModel"],C);const I=d(t,["tunedModel"]);I!=null&&f(n,["tunedModel"],I);const F=d(t,["preTunedModel"]);F!=null&&f(n,["preTunedModel"],F);const J=d(t,["supervisedTuningSpec"]);J!=null&&f(n,["supervisedTuningSpec"],J);const G=d(t,["preferenceOptimizationSpec"]);G!=null&&f(n,["preferenceOptimizationSpec"],G);const W=d(t,["tuningDataStats"]);W!=null&&f(n,["tuningDataStats"],W);const ne=d(t,["encryptionSpec"]);ne!=null&&f(n,["encryptionSpec"],ne);const j=d(t,["partnerModelTuningSpec"]);j!=null&&f(n,["partnerModelTuningSpec"],j);const re=d(t,["customBaseModel"]);re!=null&&f(n,["customBaseModel"],re);const de=d(t,["experiment"]);de!=null&&f(n,["experiment"],de);const le=d(t,["labels"]);le!=null&&f(n,["labels"],le);const M=d(t,["outputUri"]);M!=null&&f(n,["outputUri"],M);const N=d(t,["pipelineJob"]);N!=null&&f(n,["pipelineJob"],N);const R=d(t,["serviceAccount"]);R!=null&&f(n,["serviceAccount"],R);const U=d(t,["tunedModelDisplayName"]);U!=null&&f(n,["tunedModelDisplayName"],U);const D=d(t,["veoTuningSpec"]);return D!=null&&f(n,["veoTuningSpec"],D),n}function qM(t,e){const n={},s=d(t,["sdkHttpResponse"]);s!=null&&f(n,["sdkHttpResponse"],s);const o=d(t,["name"]);o!=null&&f(n,["name"],o);const l=d(t,["metadata"]);l!=null&&f(n,["metadata"],l);const c=d(t,["done"]);c!=null&&f(n,["done"],c);const h=d(t,["error"]);return h!=null&&f(n,["error"],h),n}function q0(t,e){const n={},s=d(t,["gcsUri"]);s!=null&&f(n,["validationDatasetUri"],s);const o=d(t,["vertexDatasetResource"]);return o!=null&&f(n,["validationDatasetUri"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FM extends us{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Qr(os.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(n),n),this.tune=async n=>{var s;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const o={tunedModelName:n.baseModel};!((s=n.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(o.checkpointId=n.config.preTunedModelCheckpointId);const l=Object.assign(Object.assign({},n),{preTunedModel:o});return l.baseModel=void 0,await this.tuneInternal(l)}else{const o=Object.assign({},n);return await this.tuneInternal(o)}else{const o=Object.assign({},n),l=await this.tuneMldevInternal(o);let c="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?c=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(c=l.name.split("/operations/")[0]),{name:c,state:fp.JOB_STATE_QUEUED}}}}async getInternal(e){var n,s,o,l;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=RM(e);return h=ce("{name}",g._url),y=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),c.then(v=>vp(v))}else{const g=IM(e);return h=ce("{name}",g._url),y=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),c.then(v=>zT(v))}}async listInternal(e){var n,s,o,l;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=PM(e);return h=ce("tuningJobs",g._url),y=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),c.then(v=>{const S=UM(v),C=new _0;return Object.assign(C,S),C})}else{const g=DM(e);return h=ce("tunedModels",g._url),y=g._query,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const C=S;return C.sdkHttpResponse={headers:v.headers},C})),c.then(v=>{const S=kM(v),C=new _0;return Object.assign(C,S),C})}}async cancel(e){var n,s,o,l;let c="",h={};if(this.apiClient.isVertexAI()){const y=AM(e);c=ce("{name}:cancel",y._url),h=y._query,delete y._url,delete y._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}else{const y=SM(e);c=ce("{name}:cancel",y._url),h=y._query,delete y._url,delete y._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async tuneInternal(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const h=bM(e,e);return l=ce("tuningJobs",h._url),c=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),o.then(y=>vp(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,s;let o,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=wM(e);return l=ce("tunedModels",h._url),c=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),o.then(y=>qM(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HM{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const zM=1024*1024*8,BM=3,GM=1e3,YM=2,id="x-goog-upload-status";async function JM(t,e,n){var s;const o=await BT(t,e,n),l=await(o==null?void 0:o.json());if(((s=o==null?void 0:o.headers)===null||s===void 0?void 0:s[id])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return l.file}async function KM(t,e,n){var s;const o=await BT(t,e,n),l=await(o==null?void 0:o.json());if(((s=o==null?void 0:o.headers)===null||s===void 0?void 0:s[id])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const c=yT(l),h=new Yp;return Object.assign(h,c),h}async function BT(t,e,n){var s,o;let l=0,c=0,h=new hp(new Response),y="upload";for(l=t.size;c<l;){const g=Math.min(zM,l-c),v=t.slice(c,c+g);c+g>=l&&(y+=", finalize");let S=0,C=GM;for(;S<BM&&(h=await n.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(c),"Content-Length":String(g)}}}),!(!((s=h==null?void 0:h.headers)===null||s===void 0)&&s[id]));)S++,await jM(C),C=C*YM;if(c+=g,((o=h==null?void 0:h.headers)===null||o===void 0?void 0:o[id])!=="active")break;if(l<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return h}async function $M(t){return{size:t.size,type:t.type}}function jM(t){return new Promise(e=>setTimeout(e,t))}class QM{async upload(e,n,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await JM(e,n,s)}async uploadToFileSearchStore(e,n,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await KM(e,n,s)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await $M(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XM{create(e,n,s){return new WM(e,n,s)}}class WM{constructor(e,n,s){this.url=e,this.headers=n,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const F0="x-goog-api-key";class ZM{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(F0)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(F0,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eD="gl-node/";class tD{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const s=Mw(e.httpOptions,e.vertexai,void 0,void 0);s&&(e.httpOptions?e.httpOptions.baseUrl=s:e.httpOptions={baseUrl:s}),this.apiVersion=e.apiVersion;const o=new ZM(this.apiKey);this.apiClient=new g2({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:eD+"web",uploader:new QM,downloader:new HM}),this.models=new U2(this.apiClient),this.live=new R2(this.apiClient,o,new XM),this.batches=new oI(this.apiClient),this.chats=new HI(this.models,this.apiClient),this.caches=new OI(this.apiClient),this.files=new XI(this.apiClient),this.operations=new V2(this.apiClient),this.authTokens=new W2(this.apiClient),this.tunings=new FM(this.apiClient),this.fileSearchStores=new TM(this.apiClient)}}let Gc=null;const nD=()=>{const t="gen-lang-client-0239623448";return new tD({apiKey:t})},iD=async()=>{try{return Gc=nD().chats.create({model:"gemini-2.5-flash",config:{systemInstruction:ww}}),!0}catch(t){return console.error("Failed to initialize chat",t),!1}},sD=async t=>{if(Gc||await iD(),!Gc)return"I apologize, but I am currently having trouble connecting to my concierge services.";try{return(await Gc.sendMessage({message:t})).text||"I am speechless with delight, but have nothing to say."}catch(e){return console.error("Error sending message to Gemini:",e),"I apologize, something went wrong. Please try again."}},rD=()=>{const[t,e]=Ee.useState(!1),[n,s]=Ee.useState([{role:"model",text:"Welcome to Alpha Mandi. I am Pierre, your digital concierge. How may I guide your culinary journey today?"}]),[o,l]=Ee.useState(""),[c,h]=Ee.useState(!1),y=Ee.useRef(null),g=()=>{var S;(S=y.current)==null||S.scrollIntoView({behavior:"smooth"})};Ee.useEffect(()=>{g()},[n,t]);const v=async()=>{if(!o.trim()||c)return;const S=o;l(""),s(I=>[...I,{role:"user",text:S}]),h(!0);const C=await sD(S);s(I=>[...I,{role:"model",text:C}]),h(!1)};return E.jsxs(E.Fragment,{children:[!t&&E.jsxs("button",{onClick:()=>e(!0),className:"fixed bottom-6 right-6 bg-primary text-black p-4 rounded-full shadow-[0_0_20px_rgba(212,175,55,0.4)] hover:bg-white transition-all z-40 flex items-center gap-2 group hover:scale-110 duration-300",children:[E.jsx(rw,{size:24,className:"group-hover:animate-spin"}),E.jsx("span",{className:"font-bold uppercase tracking-wider text-xs hidden md:block",children:"Concierge"})]}),t&&E.jsxs("div",{className:"fixed bottom-6 right-6 w-80 sm:w-96 h-[500px] bg-surface-light border border-primary/20 rounded-2xl shadow-2xl z-40 flex flex-col overflow-hidden animate-fade-in-up",children:[E.jsxs("div",{className:"bg-black/40 p-4 border-b border-white/5 flex justify-between items-center backdrop-blur-md",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse shadow-[0_0_10px_rgba(34,197,94,0.5)]"}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-serif text-white font-bold",children:"Pierre"}),E.jsx("p",{className:"text-[10px] text-primary uppercase tracking-widest",children:"AI Concierge"})]})]}),E.jsx("button",{onClick:()=>e(!1),className:"text-gray-400 hover:text-white transition-colors",children:E.jsx(Cd,{size:20})})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-surface-light custom-scrollbar",children:[n.map((S,C)=>E.jsx("div",{className:`flex ${S.role==="user"?"justify-end":"justify-start"}`,children:E.jsx("div",{className:`max-w-[85%] p-3 rounded-2xl text-sm leading-relaxed ${S.role==="user"?"bg-primary text-black font-medium rounded-tr-none":"bg-white/5 text-gray-200 border border-white/5 rounded-tl-none"}`,children:S.text})},C)),c&&E.jsx("div",{className:"flex justify-start",children:E.jsxs("div",{className:"bg-white/5 p-3 rounded-2xl rounded-tl-none border border-white/5 flex gap-2 items-center",children:[E.jsx(dT,{size:16,className:"animate-spin text-primary"}),E.jsx("span",{className:"text-xs text-gray-400 italic",children:"Thinking..."})]})}),E.jsx("div",{ref:y})]}),E.jsxs("div",{className:"p-3 bg-black/40 border-t border-white/5 flex gap-2 backdrop-blur-md",children:[E.jsx("input",{type:"text",value:o,onChange:S=>l(S.target.value),onKeyDown:S=>S.key==="Enter"&&v(),placeholder:"Ask about ingredients, wine pairings...",className:"flex-1 bg-black border border-white/10 text-white text-sm rounded-xl px-4 py-2 focus:outline-none focus:border-primary placeholder-gray-600"}),E.jsx("button",{onClick:v,disabled:c||!o.trim(),className:"p-2 bg-primary text-black rounded-xl disabled:opacity-50 hover:bg-white transition-colors",children:E.jsx($1,{size:18})})]})]})]})},oD=({onDevClick:t})=>E.jsx("footer",{className:"bg-[#050505] text-white border-t border-white/5 pt-20 pb-8",children:E.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-12 mb-16",children:[E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"flex flex-col",children:[E.jsxs("span",{className:"text-2xl font-serif text-white tracking-widest font-bold uppercase",children:["Alpha ",E.jsx("span",{className:"text-primary",children:"Mandi"})]}),E.jsx("span",{className:"text-[10px] text-gray-500 tracking-[0.3em] uppercase mt-1",children:"Fine Dining Experience"})]}),E.jsx("p",{className:"text-gray-400 text-sm leading-relaxed font-light",children:"Where tradition meets luxury. Experience the authentic taste of Arabian hospitality mixed with global flavors in an ambiance of pure elegance."})]}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-sm font-bold mb-6 text-primary uppercase tracking-widest",children:"Quick Links"}),E.jsxs("ul",{className:"space-y-3 text-gray-400 text-sm font-light",children:[E.jsx("li",{children:E.jsxs("a",{href:"#",className:"hover:text-primary transition-colors flex items-center gap-2",children:[E.jsx("span",{className:"w-1 h-1 bg-primary rounded-full"}),"Home"]})}),E.jsx("li",{children:E.jsxs("a",{href:"#",className:"hover:text-primary transition-colors flex items-center gap-2",children:[E.jsx("span",{className:"w-1 h-1 bg-primary rounded-full"}),"Menu"]})}),E.jsx("li",{children:E.jsxs("a",{href:"#",className:"hover:text-primary transition-colors flex items-center gap-2",children:[E.jsx("span",{className:"w-1 h-1 bg-primary rounded-full"}),"Reservations"]})}),E.jsx("li",{children:E.jsxs("a",{href:"#",className:"hover:text-primary transition-colors flex items-center gap-2",children:[E.jsx("span",{className:"w-1 h-1 bg-primary rounded-full"}),"Contact"]})})]})]}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-sm font-bold mb-6 text-primary uppercase tracking-widest",children:"Contact Us"}),E.jsxs("ul",{className:"space-y-4 text-gray-400 text-sm font-light",children:[E.jsxs("li",{className:"flex items-start gap-3",children:[E.jsx(fT,{size:18,className:"text-primary mt-1"}),E.jsxs("span",{children:["123 Culinary Avenue,",E.jsx("br",{}),"Golden District, FD 45001"]})]}),E.jsxs("li",{className:"flex items-center gap-3",children:[E.jsx(H1,{size:18,className:"text-primary"}),E.jsx("span",{children:"+1 (555) 123-4567"})]}),E.jsxs("li",{className:"flex items-center gap-3",children:[E.jsx(M1,{size:18,className:"text-primary"}),E.jsx("span",{children:"concierge@alphamandi.com"})]})]})]}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-sm font-bold mb-6 text-primary uppercase tracking-widest",children:"Newsletter"}),E.jsx("p",{className:"text-gray-400 text-sm mb-4 font-light",children:"Subscribe for exclusive offers and seasonal menu updates."}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("input",{type:"email",placeholder:"Your email address",className:"bg-white/5 border border-white/10 rounded-sm px-4 py-3 text-sm w-full focus:outline-none focus:border-primary text-white"}),E.jsx("button",{className:"bg-primary text-black px-6 py-3 rounded-sm text-xs font-bold uppercase tracking-wider hover:bg-white transition-colors",children:"Join"})]})]})]}),E.jsxs("div",{className:"border-t border-white/5 pt-8 flex flex-col md:flex-row justify-between items-center gap-4",children:[E.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-4",children:[E.jsx("p",{className:"text-gray-600 text-xs tracking-wider",children:" 2024 Alpha Mandi. All rights reserved."}),t&&E.jsxs("button",{onClick:t,className:"text-xs text-gray-700 hover:text-primary flex items-center gap-1 transition-colors",children:[E.jsx(up,{size:10})," Developer Portal"]})]}),E.jsxs("div",{className:"flex gap-6",children:[E.jsx("a",{href:"#",className:"text-gray-500 hover:text-primary transition-colors",children:E.jsx(_1,{size:18})}),E.jsx("a",{href:"#",className:"text-gray-500 hover:text-primary transition-colors",children:E.jsx(C1,{size:18})}),E.jsx("a",{href:"#",className:"text-gray-500 hover:text-primary transition-colors",children:E.jsx(mw,{size:18})})]})]})]})}),aD=()=>E.jsxs("section",{className:"py-20 px-4 bg-surface border-b border-white/5 relative overflow-hidden",children:[E.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-primary/5 rounded-full blur-[100px] -translate-y-1/2 translate-x-1/2 pointer-events-none"}),E.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[E.jsx("h2",{className:"text-4xl font-serif text-white mb-12 text-center",children:"Exclusive Privileges"}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:Cw.map(t=>E.jsxs("div",{className:"relative rounded-2xl p-8 flex flex-col sm:flex-row justify-between items-center shadow-2xl border border-white/10 overflow-hidden group bg-surface-light",children:[E.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-700"}),E.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-primary/20 blur-[50px] rounded-full"}),E.jsxs("div",{className:"text-white mb-6 sm:mb-0 relative z-10",children:[E.jsx("h3",{className:"text-3xl font-serif font-bold mb-2 text-gold-gradient",children:t.title}),E.jsx("p",{className:"text-gray-400 font-medium mb-4",children:t.description}),E.jsxs("div",{className:"inline-flex items-center gap-2 bg-black/40 px-4 py-2 rounded-lg border border-primary/30 backdrop-blur-sm",children:[E.jsx("span",{className:"text-xs uppercase tracking-wider text-primary",children:"Code"}),E.jsx("span",{className:"font-mono font-bold text-lg tracking-widest text-white",children:t.code})]})]}),E.jsx("div",{className:"bg-gradient-to-br from-primary to-primary-dark text-black font-serif font-bold h-24 w-24 rounded-full flex items-center justify-center text-xl shadow-[0_0_20px_rgba(212,175,55,0.3)] rotate-12 group-hover:rotate-0 transition-transform duration-500",children:t.discount})]},t.id))})]})]}),lD=()=>{const t=[{icon:E.jsx(cT,{size:28}),title:"30 Mins Delivery",desc:"Precision logistics"},{icon:E.jsx(pT,{size:28}),title:"Hygienic Food",desc:"Gold standard safety"},{icon:E.jsx(lT,{size:28}),title:"Best Quality",desc:"Premium sourcing"},{icon:E.jsx(dw,{size:28}),title:"Top Rated",desc:"Community favorite"}];return E.jsx("section",{className:"py-24 px-4 bg-[#080808] border-y border-white/5 relative",children:E.jsx("div",{className:"max-w-7xl mx-auto grid grid-cols-2 md:grid-cols-4 gap-12",children:t.map((e,n)=>E.jsxs("div",{className:"flex flex-col items-center text-center group",children:[E.jsx("div",{className:"text-primary mb-6 p-6 rounded-full border border-white/5 bg-surface-light group-hover:scale-110 group-hover:border-primary/50 group-hover:bg-primary/10 group-hover:shadow-[0_0_15px_rgba(212,175,55,0.2)] transition-all duration-500",children:e.icon}),E.jsx("h3",{className:"text-white font-serif text-lg font-bold mb-2",children:e.title}),E.jsx("p",{className:"text-gray-500 text-sm tracking-wide group-hover:text-gray-400 transition-colors",children:e.desc})]},n))})})},uD=()=>E.jsx("section",{className:"py-24 px-4 bg-surface",children:E.jsxs("div",{className:"max-w-7xl mx-auto",children:[E.jsx("h2",{className:"text-4xl font-serif text-white mb-16 text-center",children:"Guest Experiences"}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:Aw.map(t=>E.jsxs("div",{className:"glass-panel p-8 rounded-2xl relative pt-12 mt-6 bg-surface-light/30 hover:bg-surface-light/50 transition-colors",children:[E.jsx("div",{className:"absolute -top-6 left-8",children:E.jsx("img",{src:t.avatar,alt:t.user,className:"w-16 h-16 rounded-full object-cover border-2 border-primary"})}),E.jsx(J1,{size:48,className:"absolute top-8 right-8 text-primary/10"}),E.jsxs("div",{className:"mb-4 mt-2",children:[E.jsx("div",{className:"flex text-primary text-xs mb-2",children:[...Array(5)].map((e,n)=>E.jsx(mT,{size:14,fill:n<t.rating?"currentColor":"none",className:n>=t.rating?"text-gray-800":""},n))}),E.jsx("h4",{className:"text-white font-serif text-lg",children:t.user})]}),E.jsxs("p",{className:"text-gray-400 italic font-light leading-relaxed",children:['"',t.comment,'"']})]},t.id))})]})}),cD=()=>E.jsx("section",{className:"py-16 px-4 bg-black border-t border-white/5",children:E.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[E.jsx("p",{className:"text-gray-600 uppercase tracking-[0.3em] text-[10px] mb-10",children:"Trusted By Industry Leaders"}),E.jsxs("div",{className:"flex flex-wrap justify-center gap-16 opacity-30 grayscale hover:grayscale-0 transition-all duration-700",children:[E.jsxs("span",{className:"text-2xl font-bold font-serif text-white tracking-tighter",children:["UBER",E.jsx("span",{className:"text-primary",children:"EATS"})]}),E.jsxs("span",{className:"text-2xl font-bold font-serif text-white tracking-tighter",children:["DOOR",E.jsx("span",{className:"text-[#ff3008]",children:"DASH"})]}),E.jsx("span",{className:"text-2xl font-bold font-serif text-white tracking-tighter italic",children:"Visa"}),E.jsx("span",{className:"text-2xl font-bold font-serif text-white tracking-tighter",children:"Mastercard"}),E.jsx("span",{className:"text-2xl font-bold font-serif text-white tracking-tighter text-[#00457C]",children:"PayPal"})]})]})}),dD=()=>{};var H0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let o=t.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},fD=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const o=t[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=t[n++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=t[n++],c=t[n++],h=t[n++],y=((o&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const l=t[n++],c=t[n++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},YT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<t.length;o+=3){const l=t[o],c=o+1<t.length,h=c?t[o+1]:0,y=o+2<t.length,g=y?t[o+2]:0,v=l>>2,S=(l&3)<<4|h>>4;let C=(h&15)<<2|g>>6,I=g&63;y||(I=64,c||(C=64)),s.push(n[v],n[S],n[C],n[I])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(GT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<t.length;){const l=n[t.charAt(o++)],h=o<t.length?n[t.charAt(o)]:0;++o;const g=o<t.length?n[t.charAt(o)]:64;++o;const S=o<t.length?n[t.charAt(o)]:64;if(++o,l==null||h==null||g==null||S==null)throw new hD;const C=l<<2|h>>4;if(s.push(C),g!==64){const I=h<<4&240|g>>2;if(s.push(I),S!==64){const F=g<<6&192|S;s.push(F)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class hD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pD=function(t){const e=GT(t);return YT.encodeByteArray(e,!0)},sd=function(t){return pD(t).replace(/\./g,"")},JT=function(t){try{return YT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD=()=>mD().__FIREBASE_DEFAULTS__,yD=()=>{if(typeof process>"u"||typeof H0>"u")return;const t=H0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_D=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&JT(t[1]);return e&&JSON.parse(e)},Rd=()=>{try{return dD()||gD()||yD()||_D()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},KT=t=>{var e,n;return(n=(e=Rd())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},vD=t=>{const e=KT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},$T=()=>{var t;return(t=Rd())==null?void 0:t.config},jT=t=>{var e;return(e=Rd())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function QT(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[sd(JSON.stringify(n)),sd(JSON.stringify(c)),""].join(".")}const Ml={};function SD(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ml))Ml[e]?t.emulator.push(e):t.prod.push(e);return t}function AD(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let z0=!1;function XT(t,e){if(typeof window>"u"||typeof document>"u"||!ha(window.location.host)||Ml[t]===e||Ml[t]||z0)return;Ml[t]=e;function n(C){return`__firebase__banner__${C}`}const s="__firebase__banner",l=SD().prod.length>0;function c(){const C=document.getElementById(s);C&&C.remove()}function h(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function y(C,I){C.setAttribute("width","24"),C.setAttribute("id",I),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function g(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{z0=!0,c()},C}function v(C,I){C.setAttribute("id",I),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function S(){const C=AD(s),I=n("text"),F=document.getElementById(I)||document.createElement("span"),J=n("learnmore"),G=document.getElementById(J)||document.createElement("a"),W=n("preprendIcon"),ne=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const j=C.element;h(j),v(G,J);const re=g();y(ne,W),j.append(ne,F,G,re),document.body.appendChild(j)}l?(F.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function xD(){var e;const t=(e=Rd())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ID(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RD(){const t=sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ND(){return!xD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function MD(){try{return typeof indexedDB=="object"}catch{return!1}}function DD(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var l;e(((l=o.error)==null?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD="FirebaseError";class ds extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=PD,Object.setPrototypeOf(this,ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yl.prototype.create)}}class Yl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?kD(l,s):"Error",h=`${this.serviceName}: ${c} (${o}).`;return new ds(o,h,s)}}function kD(t,e){return t.replace(UD,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const UD=/\{\$([^}]+)}/g;function VD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function zr(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const l=t[o],c=e[o];if(B0(l)&&B0(c)){if(!zr(l,c))return!1}else if(l!==c)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function B0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function bl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function Il(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function LD(t,e){const n=new OD(t,e);return n.subscribe.bind(n)}class OD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");qD(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Xh),o.error===void 0&&(o.error=Xh),o.complete===void 0&&(o.complete=Xh);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Xh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(t){return t&&t._delegate?t._delegate:t}class Br{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new ED;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zD(e))try{this.getOrInitializeService({instanceIdentifier:Or})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=Or){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Or){return this.instances.has(e)}getOptions(e=Or){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);s===h&&c.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:HD(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Or){return this.component?this.component.multipleInstances?e:Or:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HD(t){return t===Or?void 0:t}function zD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new FD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ve||(Ve={}));const GD={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},YD=Ve.INFO,JD={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},KD=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),o=JD[e];if(o)console[o](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xp{constructor(e){this.name=e,this._logLevel=YD,this._logHandler=KD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const $D=(t,e)=>e.some(n=>t instanceof n);let G0,Y0;function jD(){return G0||(G0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QD(){return Y0||(Y0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WT=new WeakMap,Ep=new WeakMap,ZT=new WeakMap,Wh=new WeakMap,Wp=new WeakMap;function XD(t){const e=new Promise((n,s)=>{const o=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Ws(t.result)),o()},c=()=>{s(t.error),o()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&WT.set(n,t)}).catch(()=>{}),Wp.set(e,t),e}function WD(t){if(Ep.has(t))return;const e=new Promise((n,s)=>{const o=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),o()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Ep.set(t,e)}let Tp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ep.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ZT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ws(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ZD(t){Tp=t(Tp)}function eP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Zh(this),e,...n);return ZT.set(s,e.sort?e.sort():[e]),Ws(s)}:QD().includes(t)?function(...e){return t.apply(Zh(this),e),Ws(WT.get(this))}:function(...e){return Ws(t.apply(Zh(this),e))}}function tP(t){return typeof t=="function"?eP(t):(t instanceof IDBTransaction&&WD(t),$D(t,jD())?new Proxy(t,Tp):t)}function Ws(t){if(t instanceof IDBRequest)return XD(t);if(Wh.has(t))return Wh.get(t);const e=tP(t);return e!==t&&(Wh.set(t,e),Wp.set(e,t)),e}const Zh=t=>Wp.get(t);function nP(t,e,{blocked:n,upgrade:s,blocking:o,terminated:l}={}){const c=indexedDB.open(t,e),h=Ws(c);return s&&c.addEventListener("upgradeneeded",y=>{s(Ws(c.result),y.oldVersion,y.newVersion,Ws(c.transaction),y)}),n&&c.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),h.then(y=>{l&&y.addEventListener("close",()=>l()),o&&y.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const iP=["get","getKey","getAll","getAllKeys","count"],sP=["put","add","delete","clear"],ep=new Map;function J0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ep.get(e))return ep.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=sP.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||iP.includes(n)))return;const l=async function(c,...h){const y=this.transaction(c,o?"readwrite":"readonly");let g=y.store;return s&&(g=g.index(h.shift())),(await Promise.all([g[n](...h),o&&y.done]))[0]};return ep.set(e,l),l}ZD(t=>({...t,get:(e,n,s)=>J0(e,n)||t.get(e,n,s),has:(e,n)=>!!J0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oP(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function oP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sp="@firebase/app",K0="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as=new Xp("@firebase/app"),aP="@firebase/app-compat",lP="@firebase/analytics-compat",uP="@firebase/analytics",cP="@firebase/app-check-compat",dP="@firebase/app-check",fP="@firebase/auth",hP="@firebase/auth-compat",pP="@firebase/database",mP="@firebase/data-connect",gP="@firebase/database-compat",yP="@firebase/functions",_P="@firebase/functions-compat",vP="@firebase/installations",EP="@firebase/installations-compat",TP="@firebase/messaging",SP="@firebase/messaging-compat",AP="@firebase/performance",CP="@firebase/performance-compat",xP="@firebase/remote-config",wP="@firebase/remote-config-compat",bP="@firebase/storage",IP="@firebase/storage-compat",RP="@firebase/firestore",NP="@firebase/ai",MP="@firebase/firestore-compat",DP="firebase",PP="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap="[DEFAULT]",kP={[Sp]:"fire-core",[aP]:"fire-core-compat",[uP]:"fire-analytics",[lP]:"fire-analytics-compat",[dP]:"fire-app-check",[cP]:"fire-app-check-compat",[fP]:"fire-auth",[hP]:"fire-auth-compat",[pP]:"fire-rtdb",[mP]:"fire-data-connect",[gP]:"fire-rtdb-compat",[yP]:"fire-fn",[_P]:"fire-fn-compat",[vP]:"fire-iid",[EP]:"fire-iid-compat",[TP]:"fire-fcm",[SP]:"fire-fcm-compat",[AP]:"fire-perf",[CP]:"fire-perf-compat",[xP]:"fire-rc",[wP]:"fire-rc-compat",[bP]:"fire-gcs",[IP]:"fire-gcs-compat",[RP]:"fire-fst",[MP]:"fire-fst-compat",[NP]:"fire-vertex","fire-js":"fire-js",[DP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd=new Map,UP=new Map,Cp=new Map;function $0(t,e){try{t.container.addComponent(e)}catch(n){as.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ia(t){const e=t.name;if(Cp.has(e))return as.debug(`There were multiple attempts to register component ${e}.`),!1;Cp.set(e,t);for(const n of rd.values())$0(n,t);for(const n of UP.values())$0(n,t);return!0}function Zp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Fn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zs=new Yl("app","Firebase",VP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Br("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=PP;function eS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:Ap,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Zs.create("bad-app-name",{appName:String(o)});if(n||(n=$T()),!n)throw Zs.create("no-options");const l=rd.get(o);if(l){if(zr(n,l.options)&&zr(s,l.config))return l;throw Zs.create("duplicate-app",{appName:o})}const c=new BD(o);for(const y of Cp.values())c.addComponent(y);const h=new LP(n,s,c);return rd.set(o,h),h}function tS(t=Ap){const e=rd.get(t);if(!e&&t===Ap&&$T())return eS();if(!e)throw Zs.create("no-app",{appName:t});return e}function er(t,e,n){let s=kP[t]??t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),as.warn(c.join(" "));return}ia(new Br(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP="firebase-heartbeat-database",qP=1,Ol="firebase-heartbeat-store";let tp=null;function nS(){return tp||(tp=nP(OP,qP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ol)}catch(n){console.warn(n)}}}}).catch(t=>{throw Zs.create("idb-open",{originalErrorMessage:t.message})})),tp}async function FP(t){try{const n=(await nS()).transaction(Ol),s=await n.objectStore(Ol).get(iS(t));return await n.done,s}catch(e){if(e instanceof ds)as.warn(e.message);else{const n=Zs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});as.warn(n.message)}}}async function j0(t,e){try{const s=(await nS()).transaction(Ol,"readwrite");await s.objectStore(Ol).put(e,iS(t)),await s.done}catch(n){if(n instanceof ds)as.warn(n.message);else{const s=Zs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});as.warn(s.message)}}}function iS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP=1024,zP=30;class BP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new YP(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Q0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>zP){const c=JP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){as.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Q0(),{heartbeatsToSend:s,unsentEntries:o}=GP(this._heartbeatsCache.heartbeats),l=sd(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return as.warn(n),""}}}function Q0(){return new Date().toISOString().substring(0,10)}function GP(t,e=HP){const n=[];let s=t.slice();for(const o of t){const l=n.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),X0(n)>e){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),X0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class YP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MD()?DD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await FP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return j0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return j0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function X0(t){return sd(JSON.stringify({version:2,heartbeats:t})).length}function JP(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KP(t){ia(new Br("platform-logger",e=>new rP(e),"PRIVATE")),ia(new Br("heartbeat",e=>new BP(e),"PRIVATE")),er(Sp,K0,t),er(Sp,K0,"esm2020"),er("fire-js","")}KP("");var $P="firebase",jP="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */er($P,jP,"app");var W0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var em;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,N){function R(){}R.prototype=N.prototype,M.F=N.prototype,M.prototype=new R,M.prototype.constructor=M,M.D=function(U,D,V){for(var P=Array(arguments.length-2),be=2;be<arguments.length;be++)P[be-2]=arguments[be];return N.prototype[D].apply(U,P)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,N,R){R||(R=0);const U=Array(16);if(typeof N=="string")for(var D=0;D<16;++D)U[D]=N.charCodeAt(R++)|N.charCodeAt(R++)<<8|N.charCodeAt(R++)<<16|N.charCodeAt(R++)<<24;else for(D=0;D<16;++D)U[D]=N[R++]|N[R++]<<8|N[R++]<<16|N[R++]<<24;N=M.g[0],R=M.g[1],D=M.g[2];let V=M.g[3],P;P=N+(V^R&(D^V))+U[0]+3614090360&4294967295,N=R+(P<<7&4294967295|P>>>25),P=V+(D^N&(R^D))+U[1]+3905402710&4294967295,V=N+(P<<12&4294967295|P>>>20),P=D+(R^V&(N^R))+U[2]+606105819&4294967295,D=V+(P<<17&4294967295|P>>>15),P=R+(N^D&(V^N))+U[3]+3250441966&4294967295,R=D+(P<<22&4294967295|P>>>10),P=N+(V^R&(D^V))+U[4]+4118548399&4294967295,N=R+(P<<7&4294967295|P>>>25),P=V+(D^N&(R^D))+U[5]+1200080426&4294967295,V=N+(P<<12&4294967295|P>>>20),P=D+(R^V&(N^R))+U[6]+2821735955&4294967295,D=V+(P<<17&4294967295|P>>>15),P=R+(N^D&(V^N))+U[7]+4249261313&4294967295,R=D+(P<<22&4294967295|P>>>10),P=N+(V^R&(D^V))+U[8]+1770035416&4294967295,N=R+(P<<7&4294967295|P>>>25),P=V+(D^N&(R^D))+U[9]+2336552879&4294967295,V=N+(P<<12&4294967295|P>>>20),P=D+(R^V&(N^R))+U[10]+4294925233&4294967295,D=V+(P<<17&4294967295|P>>>15),P=R+(N^D&(V^N))+U[11]+2304563134&4294967295,R=D+(P<<22&4294967295|P>>>10),P=N+(V^R&(D^V))+U[12]+1804603682&4294967295,N=R+(P<<7&4294967295|P>>>25),P=V+(D^N&(R^D))+U[13]+4254626195&4294967295,V=N+(P<<12&4294967295|P>>>20),P=D+(R^V&(N^R))+U[14]+2792965006&4294967295,D=V+(P<<17&4294967295|P>>>15),P=R+(N^D&(V^N))+U[15]+1236535329&4294967295,R=D+(P<<22&4294967295|P>>>10),P=N+(D^V&(R^D))+U[1]+4129170786&4294967295,N=R+(P<<5&4294967295|P>>>27),P=V+(R^D&(N^R))+U[6]+3225465664&4294967295,V=N+(P<<9&4294967295|P>>>23),P=D+(N^R&(V^N))+U[11]+643717713&4294967295,D=V+(P<<14&4294967295|P>>>18),P=R+(V^N&(D^V))+U[0]+3921069994&4294967295,R=D+(P<<20&4294967295|P>>>12),P=N+(D^V&(R^D))+U[5]+3593408605&4294967295,N=R+(P<<5&4294967295|P>>>27),P=V+(R^D&(N^R))+U[10]+38016083&4294967295,V=N+(P<<9&4294967295|P>>>23),P=D+(N^R&(V^N))+U[15]+3634488961&4294967295,D=V+(P<<14&4294967295|P>>>18),P=R+(V^N&(D^V))+U[4]+3889429448&4294967295,R=D+(P<<20&4294967295|P>>>12),P=N+(D^V&(R^D))+U[9]+568446438&4294967295,N=R+(P<<5&4294967295|P>>>27),P=V+(R^D&(N^R))+U[14]+3275163606&4294967295,V=N+(P<<9&4294967295|P>>>23),P=D+(N^R&(V^N))+U[3]+4107603335&4294967295,D=V+(P<<14&4294967295|P>>>18),P=R+(V^N&(D^V))+U[8]+1163531501&4294967295,R=D+(P<<20&4294967295|P>>>12),P=N+(D^V&(R^D))+U[13]+2850285829&4294967295,N=R+(P<<5&4294967295|P>>>27),P=V+(R^D&(N^R))+U[2]+4243563512&4294967295,V=N+(P<<9&4294967295|P>>>23),P=D+(N^R&(V^N))+U[7]+1735328473&4294967295,D=V+(P<<14&4294967295|P>>>18),P=R+(V^N&(D^V))+U[12]+2368359562&4294967295,R=D+(P<<20&4294967295|P>>>12),P=N+(R^D^V)+U[5]+4294588738&4294967295,N=R+(P<<4&4294967295|P>>>28),P=V+(N^R^D)+U[8]+2272392833&4294967295,V=N+(P<<11&4294967295|P>>>21),P=D+(V^N^R)+U[11]+1839030562&4294967295,D=V+(P<<16&4294967295|P>>>16),P=R+(D^V^N)+U[14]+4259657740&4294967295,R=D+(P<<23&4294967295|P>>>9),P=N+(R^D^V)+U[1]+2763975236&4294967295,N=R+(P<<4&4294967295|P>>>28),P=V+(N^R^D)+U[4]+1272893353&4294967295,V=N+(P<<11&4294967295|P>>>21),P=D+(V^N^R)+U[7]+4139469664&4294967295,D=V+(P<<16&4294967295|P>>>16),P=R+(D^V^N)+U[10]+3200236656&4294967295,R=D+(P<<23&4294967295|P>>>9),P=N+(R^D^V)+U[13]+681279174&4294967295,N=R+(P<<4&4294967295|P>>>28),P=V+(N^R^D)+U[0]+3936430074&4294967295,V=N+(P<<11&4294967295|P>>>21),P=D+(V^N^R)+U[3]+3572445317&4294967295,D=V+(P<<16&4294967295|P>>>16),P=R+(D^V^N)+U[6]+76029189&4294967295,R=D+(P<<23&4294967295|P>>>9),P=N+(R^D^V)+U[9]+3654602809&4294967295,N=R+(P<<4&4294967295|P>>>28),P=V+(N^R^D)+U[12]+3873151461&4294967295,V=N+(P<<11&4294967295|P>>>21),P=D+(V^N^R)+U[15]+530742520&4294967295,D=V+(P<<16&4294967295|P>>>16),P=R+(D^V^N)+U[2]+3299628645&4294967295,R=D+(P<<23&4294967295|P>>>9),P=N+(D^(R|~V))+U[0]+4096336452&4294967295,N=R+(P<<6&4294967295|P>>>26),P=V+(R^(N|~D))+U[7]+1126891415&4294967295,V=N+(P<<10&4294967295|P>>>22),P=D+(N^(V|~R))+U[14]+2878612391&4294967295,D=V+(P<<15&4294967295|P>>>17),P=R+(V^(D|~N))+U[5]+4237533241&4294967295,R=D+(P<<21&4294967295|P>>>11),P=N+(D^(R|~V))+U[12]+1700485571&4294967295,N=R+(P<<6&4294967295|P>>>26),P=V+(R^(N|~D))+U[3]+2399980690&4294967295,V=N+(P<<10&4294967295|P>>>22),P=D+(N^(V|~R))+U[10]+4293915773&4294967295,D=V+(P<<15&4294967295|P>>>17),P=R+(V^(D|~N))+U[1]+2240044497&4294967295,R=D+(P<<21&4294967295|P>>>11),P=N+(D^(R|~V))+U[8]+1873313359&4294967295,N=R+(P<<6&4294967295|P>>>26),P=V+(R^(N|~D))+U[15]+4264355552&4294967295,V=N+(P<<10&4294967295|P>>>22),P=D+(N^(V|~R))+U[6]+2734768916&4294967295,D=V+(P<<15&4294967295|P>>>17),P=R+(V^(D|~N))+U[13]+1309151649&4294967295,R=D+(P<<21&4294967295|P>>>11),P=N+(D^(R|~V))+U[4]+4149444226&4294967295,N=R+(P<<6&4294967295|P>>>26),P=V+(R^(N|~D))+U[11]+3174756917&4294967295,V=N+(P<<10&4294967295|P>>>22),P=D+(N^(V|~R))+U[2]+718787259&4294967295,D=V+(P<<15&4294967295|P>>>17),P=R+(V^(D|~N))+U[9]+3951481745&4294967295,M.g[0]=M.g[0]+N&4294967295,M.g[1]=M.g[1]+(D+(P<<21&4294967295|P>>>11))&4294967295,M.g[2]=M.g[2]+D&4294967295,M.g[3]=M.g[3]+V&4294967295}s.prototype.v=function(M,N){N===void 0&&(N=M.length);const R=N-this.blockSize,U=this.C;let D=this.h,V=0;for(;V<N;){if(D==0)for(;V<=R;)o(this,M,V),V+=this.blockSize;if(typeof M=="string"){for(;V<N;)if(U[D++]=M.charCodeAt(V++),D==this.blockSize){o(this,U),D=0;break}}else for(;V<N;)if(U[D++]=M[V++],D==this.blockSize){o(this,U),D=0;break}}this.h=D,this.o+=N},s.prototype.A=function(){var M=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);M[0]=128;for(var N=1;N<M.length-8;++N)M[N]=0;N=this.o*8;for(var R=M.length-8;R<M.length;++R)M[R]=N&255,N/=256;for(this.v(M),M=Array(16),N=0,R=0;R<4;++R)for(let U=0;U<32;U+=8)M[N++]=this.g[R]>>>U&255;return M};function l(M,N){var R=h;return Object.prototype.hasOwnProperty.call(R,M)?R[M]:R[M]=N(M)}function c(M,N){this.h=N;const R=[];let U=!0;for(let D=M.length-1;D>=0;D--){const V=M[D]|0;U&&V==N||(R[D]=V,U=!1)}this.g=R}var h={};function y(M){return-128<=M&&M<128?l(M,function(N){return new c([N|0],N<0?-1:0)}):new c([M|0],M<0?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return S;if(M<0)return G(g(-M));const N=[];let R=1;for(let U=0;M>=R;U++)N[U]=M/R|0,R*=4294967296;return new c(N,0)}function v(M,N){if(M.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(M.charAt(0)=="-")return G(v(M.substring(1),N));if(M.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(N,8));let U=S;for(let V=0;V<M.length;V+=8){var D=Math.min(8,M.length-V);const P=parseInt(M.substring(V,V+D),N);D<8?(D=g(Math.pow(N,D)),U=U.j(D).add(g(P))):(U=U.j(R),U=U.add(g(P)))}return U}var S=y(0),C=y(1),I=y(16777216);t=c.prototype,t.m=function(){if(J(this))return-G(this).m();let M=0,N=1;for(let R=0;R<this.g.length;R++){const U=this.i(R);M+=(U>=0?U:4294967296+U)*N,N*=4294967296}return M},t.toString=function(M){if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(F(this))return"0";if(J(this))return"-"+G(this).toString(M);const N=g(Math.pow(M,6));var R=this;let U="";for(;;){const D=re(R,N).g;R=W(R,D.j(N));let V=((R.g.length>0?R.g[0]:R.h)>>>0).toString(M);if(R=D,F(R))return V+U;for(;V.length<6;)V="0"+V;U=V+U}},t.i=function(M){return M<0?0:M<this.g.length?this.g[M]:this.h};function F(M){if(M.h!=0)return!1;for(let N=0;N<M.g.length;N++)if(M.g[N]!=0)return!1;return!0}function J(M){return M.h==-1}t.l=function(M){return M=W(this,M),J(M)?-1:F(M)?0:1};function G(M){const N=M.g.length,R=[];for(let U=0;U<N;U++)R[U]=~M.g[U];return new c(R,~M.h).add(C)}t.abs=function(){return J(this)?G(this):this},t.add=function(M){const N=Math.max(this.g.length,M.g.length),R=[];let U=0;for(let D=0;D<=N;D++){let V=U+(this.i(D)&65535)+(M.i(D)&65535),P=(V>>>16)+(this.i(D)>>>16)+(M.i(D)>>>16);U=P>>>16,V&=65535,P&=65535,R[D]=P<<16|V}return new c(R,R[R.length-1]&-2147483648?-1:0)};function W(M,N){return M.add(G(N))}t.j=function(M){if(F(this)||F(M))return S;if(J(this))return J(M)?G(this).j(G(M)):G(G(this).j(M));if(J(M))return G(this.j(G(M)));if(this.l(I)<0&&M.l(I)<0)return g(this.m()*M.m());const N=this.g.length+M.g.length,R=[];for(var U=0;U<2*N;U++)R[U]=0;for(U=0;U<this.g.length;U++)for(let D=0;D<M.g.length;D++){const V=this.i(U)>>>16,P=this.i(U)&65535,be=M.i(D)>>>16,ft=M.i(D)&65535;R[2*U+2*D]+=P*ft,ne(R,2*U+2*D),R[2*U+2*D+1]+=V*ft,ne(R,2*U+2*D+1),R[2*U+2*D+1]+=P*be,ne(R,2*U+2*D+1),R[2*U+2*D+2]+=V*be,ne(R,2*U+2*D+2)}for(M=0;M<N;M++)R[M]=R[2*M+1]<<16|R[2*M];for(M=N;M<2*N;M++)R[M]=0;return new c(R,0)};function ne(M,N){for(;(M[N]&65535)!=M[N];)M[N+1]+=M[N]>>>16,M[N]&=65535,N++}function j(M,N){this.g=M,this.h=N}function re(M,N){if(F(N))throw Error("division by zero");if(F(M))return new j(S,S);if(J(M))return N=re(G(M),N),new j(G(N.g),G(N.h));if(J(N))return N=re(M,G(N)),new j(G(N.g),N.h);if(M.g.length>30){if(J(M)||J(N))throw Error("slowDivide_ only works with positive integers.");for(var R=C,U=N;U.l(M)<=0;)R=de(R),U=de(U);var D=le(R,1),V=le(U,1);for(U=le(U,2),R=le(R,2);!F(U);){var P=V.add(U);P.l(M)<=0&&(D=D.add(R),V=P),U=le(U,1),R=le(R,1)}return N=W(M,D.j(N)),new j(D,N)}for(D=S;M.l(N)>=0;){for(R=Math.max(1,Math.floor(M.m()/N.m())),U=Math.ceil(Math.log(R)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),V=g(R),P=V.j(N);J(P)||P.l(M)>0;)R-=U,V=g(R),P=V.j(N);F(V)&&(V=C),D=D.add(V),M=W(M,P)}return new j(D,M)}t.B=function(M){return re(this,M).h},t.and=function(M){const N=Math.max(this.g.length,M.g.length),R=[];for(let U=0;U<N;U++)R[U]=this.i(U)&M.i(U);return new c(R,this.h&M.h)},t.or=function(M){const N=Math.max(this.g.length,M.g.length),R=[];for(let U=0;U<N;U++)R[U]=this.i(U)|M.i(U);return new c(R,this.h|M.h)},t.xor=function(M){const N=Math.max(this.g.length,M.g.length),R=[];for(let U=0;U<N;U++)R[U]=this.i(U)^M.i(U);return new c(R,this.h^M.h)};function de(M){const N=M.g.length+1,R=[];for(let U=0;U<N;U++)R[U]=M.i(U)<<1|M.i(U-1)>>>31;return new c(R,M.h)}function le(M,N){const R=N>>5;N%=32;const U=M.g.length-R,D=[];for(let V=0;V<U;V++)D[V]=N>0?M.i(V+R)>>>N|M.i(V+R+1)<<32-N:M.i(V+R);return new c(D,M.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,em=c}).apply(typeof W0<"u"?W0:typeof self<"u"?self:typeof window<"u"?window:{});var Uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sS,Rl,rS,Yc,xp,oS,aS,lS;(function(){var t,e=Object.defineProperty;function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uc=="object"&&Uc];for(var T=0;T<p.length;++T){var x=p[T];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var s=n(this);function o(p,T){if(T)e:{var x=s;p=p.split(".");for(var b=0;b<p.length-1;b++){var H=p[b];if(!(H in x))break e;x=x[H]}p=p[p.length-1],b=x[p],T=T(b),T!=b&&T!=null&&e(x,p,{configurable:!0,writable:!0,value:T})}}o("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(p){return p||function(T){var x=[],b;for(b in T)Object.prototype.hasOwnProperty.call(T,b)&&x.push([b,T[b]]);return x}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(p){var T=typeof p;return T=="object"&&p!=null||T=="function"}function y(p,T,x){return p.call.apply(p.bind,arguments)}function g(p,T,x){return g=y,g.apply(null,arguments)}function v(p,T){var x=Array.prototype.slice.call(arguments,1);return function(){var b=x.slice();return b.push.apply(b,arguments),p.apply(this,b)}}function S(p,T){function x(){}x.prototype=T.prototype,p.Z=T.prototype,p.prototype=new x,p.prototype.constructor=p,p.Ob=function(b,H,K){for(var oe=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)oe[xe-2]=arguments[xe];return T.prototype[H].apply(b,oe)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function I(p){const T=p.length;if(T>0){const x=Array(T);for(let b=0;b<T;b++)x[b]=p[b];return x}return[]}function F(p,T){for(let b=1;b<arguments.length;b++){const H=arguments[b];var x=typeof H;if(x=x!="object"?x:H?Array.isArray(H)?"array":x:"null",x=="array"||x=="object"&&typeof H.length=="number"){x=p.length||0;const K=H.length||0;p.length=x+K;for(let oe=0;oe<K;oe++)p[x+oe]=H[oe]}else p.push(H)}}class J{constructor(T,x){this.i=T,this.j=x,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function G(p){c.setTimeout(()=>{throw p},0)}function W(){var p=M;let T=null;return p.g&&(T=p.g,p.g=p.g.next,p.g||(p.h=null),T.next=null),T}class ne{constructor(){this.h=this.g=null}add(T,x){const b=j.get();b.set(T,x),this.h?this.h.next=b:this.g=b,this.h=b}}var j=new J(()=>new re,p=>p.reset());class re{constructor(){this.next=this.g=this.h=null}set(T,x){this.h=T,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let de,le=!1,M=new ne,N=()=>{const p=Promise.resolve(void 0);de=()=>{p.then(R)}};function R(){for(var p;p=W();){try{p.h.call(p.g)}catch(x){G(x)}var T=j;T.j(p),T.h<100&&(T.h++,p.next=T.g,T.g=p)}le=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(p,T){this.type=p,this.g=this.target=T,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var p=!1,T=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const x=()=>{};c.addEventListener("test",x,T),c.removeEventListener("test",x,T)}catch{}return p})();function P(p){return/^[\s\xa0]*$/.test(p)}function be(p,T){D.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,T)}S(be,D),be.prototype.init=function(p,T){const x=this.type=p.type,b=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=T,T=p.relatedTarget,T||(x=="mouseover"?T=p.fromElement:x=="mouseout"&&(T=p.toElement)),this.relatedTarget=T,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&be.Z.h.call(this)},be.prototype.h=function(){be.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var ft="closure_listenable_"+(Math.random()*1e6|0),Q=0;function ae(p,T,x,b,H){this.listener=p,this.proxy=null,this.src=T,this.type=x,this.capture=!!b,this.ha=H,this.key=++Q,this.da=this.fa=!1}function _e(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Fe(p,T,x){for(const b in p)T.call(x,p[b],b,p)}function Ke(p,T){for(const x in p)T.call(void 0,p[x],x,p)}function O(p){const T={};for(const x in p)T[x]=p[x];return T}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(p,T){let x,b;for(let H=1;H<arguments.length;H++){b=arguments[H];for(x in b)p[x]=b[x];for(let K=0;K<te.length;K++)x=te[K],Object.prototype.hasOwnProperty.call(b,x)&&(p[x]=b[x])}}function fe(p){this.src=p,this.g={},this.h=0}fe.prototype.add=function(p,T,x,b,H){const K=p.toString();p=this.g[K],p||(p=this.g[K]=[],this.h++);const oe=Ie(p,T,b,H);return oe>-1?(T=p[oe],x||(T.fa=!1)):(T=new ae(T,this.src,K,!!b,H),T.fa=x,p.push(T)),T};function Se(p,T){const x=T.type;if(x in p.g){var b=p.g[x],H=Array.prototype.indexOf.call(b,T,void 0),K;(K=H>=0)&&Array.prototype.splice.call(b,H,1),K&&(_e(T),p.g[x].length==0&&(delete p.g[x],p.h--))}}function Ie(p,T,x,b){for(let H=0;H<p.length;++H){const K=p[H];if(!K.da&&K.listener==T&&K.capture==!!x&&K.ha==b)return H}return-1}var Oe="closure_lm_"+(Math.random()*1e6|0),Dt={};function ot(p,T,x,b,H){if(Array.isArray(T)){for(let K=0;K<T.length;K++)ot(p,T[K],x,b,H);return null}return x=Ea(x),p&&p[ft]?p.J(T,x,h(b)?!!b.capture:!1,H):ar(p,T,x,!1,b,H)}function ar(p,T,x,b,H,K){if(!T)throw Error("Invalid event type");const oe=h(H)?!!H.capture:!!H;let xe=lr(p);if(xe||(p[Oe]=xe=new fe(p)),x=xe.add(T,x,b,oe,K),x.proxy)return x;if(b=eo(),x.proxy=b,b.src=p,b.listener=x,p.addEventListener)V||(H=oe),H===void 0&&(H=!1),p.addEventListener(T.toString(),b,H);else if(p.attachEvent)p.attachEvent(ai(T.toString()),b);else if(p.addListener&&p.removeListener)p.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return x}function eo(){function p(x){return T.call(p.src,p.listener,x)}const T=_a;return p}function to(p,T,x,b,H){if(Array.isArray(T))for(var K=0;K<T.length;K++)to(p,T[K],x,b,H);else b=h(b)?!!b.capture:!!b,x=Ea(x),p&&p[ft]?(p=p.i,K=String(T).toString(),K in p.g&&(T=p.g[K],x=Ie(T,x,b,H),x>-1&&(_e(T[x]),Array.prototype.splice.call(T,x,1),T.length==0&&(delete p.g[K],p.h--)))):p&&(p=lr(p))&&(T=p.g[T.toString()],p=-1,T&&(p=Ie(T,x,b,H)),(x=p>-1?T[p]:null)&&no(x))}function no(p){if(typeof p!="number"&&p&&!p.da){var T=p.src;if(T&&T[ft])Se(T.i,p);else{var x=p.type,b=p.proxy;T.removeEventListener?T.removeEventListener(x,b,p.capture):T.detachEvent?T.detachEvent(ai(x),b):T.addListener&&T.removeListener&&T.removeListener(b),(x=lr(T))?(Se(x,p),x.h==0&&(x.src=null,T[Oe]=null)):_e(p)}}}function ai(p){return p in Dt?Dt[p]:Dt[p]="on"+p}function _a(p,T){if(p.da)p=!0;else{T=new be(T,this);const x=p.listener,b=p.ha||p.src;p.fa&&no(p),p=x.call(b,T)}return p}function lr(p){return p=p[Oe],p instanceof fe?p:null}var va="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ea(p){return typeof p=="function"?p:(p[va]||(p[va]=function(T){return p.handleEvent(T)}),p[va])}function Tt(){U.call(this),this.i=new fe(this),this.M=this,this.G=null}S(Tt,U),Tt.prototype[ft]=!0,Tt.prototype.removeEventListener=function(p,T,x,b){to(this,p,T,x,b)};function Pt(p,T){var x,b=p.G;if(b)for(x=[];b;b=b.G)x.push(b);if(p=p.M,b=T.type||T,typeof T=="string")T=new D(T,p);else if(T instanceof D)T.target=T.target||p;else{var H=T;T=new D(b,p),ue(T,H)}H=!0;let K,oe;if(x)for(oe=x.length-1;oe>=0;oe--)K=T.g=x[oe],H=hs(K,b,!0,T)&&H;if(K=T.g=p,H=hs(K,b,!0,T)&&H,H=hs(K,b,!1,T)&&H,x)for(oe=0;oe<x.length;oe++)K=T.g=x[oe],H=hs(K,b,!1,T)&&H}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var p=this.i;for(const T in p.g){const x=p.g[T];for(let b=0;b<x.length;b++)_e(x[b]);delete p.g[T],p.h--}}this.G=null},Tt.prototype.J=function(p,T,x,b){return this.i.add(String(p),T,!1,x,b)},Tt.prototype.K=function(p,T,x,b){return this.i.add(String(p),T,!0,x,b)};function hs(p,T,x,b){if(T=p.i.g[String(T)],!T)return!0;T=T.concat();let H=!0;for(let K=0;K<T.length;++K){const oe=T[K];if(oe&&!oe.da&&oe.capture==x){const xe=oe.listener,yt=oe.ha||oe.src;oe.fa&&Se(p.i,oe),H=xe.call(yt,b)!==!1&&H}}return H&&!b.defaultPrevented}function Gd(p,T){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=g(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:c.setTimeout(p,T||0)}function ou(p){p.g=Gd(()=>{p.g=null,p.i&&(p.i=!1,ou(p))},p.l);const T=p.h;p.h=null,p.m.apply(null,T)}class rn extends U{constructor(T,x){super(),this.m=T,this.l=x,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:ou(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ur(p){U.call(this),this.h=p,this.g={}}S(ur,U);var Ta=[];function Sa(p){Fe(p.g,function(T,x){this.g.hasOwnProperty(x)&&no(T)},p),p.g={}}ur.prototype.N=function(){ur.Z.N.call(this),Sa(this)},ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ps=c.JSON.stringify,Yd=c.JSON.parse,au=class{stringify(p){return c.JSON.stringify(p,void 0)}parse(p){return c.JSON.parse(p,void 0)}};function lu(){}function uu(){}var zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ft(){D.call(this,"d")}S(Ft,D);function bn(){D.call(this,"c")}S(bn,D);var gt={},cu=null;function io(){return cu=cu||new Tt}gt.Ia="serverreachability";function du(p){D.call(this,gt.Ia,p)}S(du,D);function li(p){const T=io();Pt(T,new du(T))}gt.STAT_EVENT="statevent";function cr(p,T){D.call(this,gt.STAT_EVENT,p),this.stat=T}S(cr,D);function St(p){const T=io();Pt(T,new cr(T,p))}gt.Ja="timingevent";function ui(p,T){D.call(this,gt.Ja,p),this.size=T}S(ui,D);function ci(p,T){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){p()},T)}function Bn(){this.g=!0}Bn.prototype.ua=function(){this.g=!1};function Jd(p,T,x,b,H,K){p.info(function(){if(p.g)if(K){var oe="",xe=K.split("&");for(let Ge=0;Ge<xe.length;Ge++){var yt=xe[Ge].split("=");if(yt.length>1){const at=yt[0];yt=yt[1];const Mn=at.split("_");oe=Mn.length>=2&&Mn[1]=="type"?oe+(at+"="+yt+"&"):oe+(at+"=redacted&")}}}else oe=null;else oe=K;return"XMLHTTP REQ ("+b+") [attempt "+H+"]: "+T+`
`+x+`
`+oe})}function fu(p,T,x,b,H,K,oe){p.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+H+"]: "+T+`
`+x+`
`+K+" "+oe})}function di(p,T,x,b){p.info(function(){return"XMLHTTP TEXT ("+T+"): "+Kd(p,x)+(b?" "+b:"")})}function dr(p,T){p.info(function(){return"TIMEOUT: "+T})}Bn.prototype.info=function(){};function Kd(p,T){if(!p.g)return T;if(!T)return null;try{const K=JSON.parse(T);if(K){for(p=0;p<K.length;p++)if(Array.isArray(K[p])){var x=K[p];if(!(x.length<2)){var b=x[1];if(Array.isArray(b)&&!(b.length<1)){var H=b[0];if(H!="noop"&&H!="stop"&&H!="close")for(let oe=1;oe<b.length;oe++)b[oe]=""}}}}return ps(K)}catch{return T}}var fr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Aa={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ca;function hr(){}S(hr,lu),hr.prototype.g=function(){return new XMLHttpRequest},Ca=new hr;function Vi(p){return encodeURIComponent(String(p))}function hu(p){var T=1;p=p.split(":");const x=[];for(;T>0&&p.length;)x.push(p.shift()),T--;return p.length&&x.push(p.join(":")),x}function Gn(p,T,x,b){this.j=p,this.i=T,this.l=x,this.S=b||1,this.V=new ur(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Yn}function Yn(){this.i=null,this.g="",this.h=!1}var At={},Ut={};function fi(p,T,x){p.M=1,p.A=pr(xt(T)),p.u=x,p.R=!0,so(p,null)}function so(p,T){p.F=Date.now(),hi(p),p.B=xt(p.A);var x=p.B,b=p.S;Array.isArray(b)||(b=[String(b)]),lo(x.i,"t",b),p.C=0,x=p.j.L,p.h=new Yn,p.g=Iu(p.j,x?T:null,!p.u),p.P>0&&(p.O=new rn(g(p.Y,p,p.g),p.P)),T=p.V,x=p.g,b=p.ba;var H="readystatechange";Array.isArray(H)||(H&&(Ta[0]=H.toString()),H=Ta);for(let K=0;K<H.length;K++){const oe=ot(x,H[K],b||T.handleEvent,!1,T.h||T);if(!oe)break;T.g[oe.key]=oe}T=p.J?O(p.J):{},p.u?(p.v||(p.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,T)):(p.v="GET",p.g.ea(p.B,p.v,null,T)),li(),Jd(p.i,p.v,p.B,p.l,p.S,p.u)}Gn.prototype.ba=function(p){p=p.target;const T=this.O;T&&$n(p)==3?T.j():this.Y(p)},Gn.prototype.Y=function(p){try{if(p==this.g)e:{const xe=$n(this.g),yt=this.g.ya(),Ge=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||Ht(this.g)))){this.K||xe!=4||yt==7||(yt==8||Ge<=0?li(3):li(2)),pi(this);var T=this.g.ca();this.X=T;var x=$d(this);if(this.o=T==200,fu(this.i,this.v,this.B,this.l,this.S,xe,T),this.o){if(this.U&&!this.L){t:{if(this.g){var b,H=this.g;if((b=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(b)){var K=b;break t}}K=null}if(p=K)di(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,mi(this,p);else{this.o=!1,this.m=3,St(12),_n(this),In(this);break e}}if(this.R){p=!0;let at;for(;!this.K&&this.C<x.length;)if(at=mu(this,x),at==Ut){xe==4&&(this.m=4,St(14),p=!1),di(this.i,this.l,null,"[Incomplete Response]");break}else if(at==At){this.m=4,St(15),di(this.i,this.l,x,"[Invalid Chunk]"),p=!1;break}else di(this.i,this.l,at,null),mi(this,at);if(pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||x.length!=0||this.h.h||(this.m=1,St(16),p=!1),this.o=this.o&&p,!p)di(this.i,this.l,x,"[Invalid Chunked Response]"),_n(this),In(this);else if(x.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),qa(oe),oe.P=!0,St(11))}}else di(this.i,this.l,x,null),mi(this,x);xe==4&&_n(this),this.o&&!this.K&&(xe==4?Cu(this.j,this):(this.o=!1,hi(this)))}else Oi(this.g),T==400&&x.indexOf("Unknown SID")>0?(this.m=3,St(12)):(this.m=0,St(13)),_n(this),In(this)}}}catch{}finally{}};function $d(p){if(!pu(p))return p.g.la();const T=Ht(p.g);if(T==="")return"";let x="";const b=T.length,H=$n(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return _n(p),In(p),"";p.h.i=new c.TextDecoder}for(let K=0;K<b;K++)p.h.h=!0,x+=p.h.i.decode(T[K],{stream:!(H&&K==b-1)});return T.length=0,p.h.g+=x,p.C=0,p.h.g}function pu(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function mu(p,T){var x=p.C,b=T.indexOf(`
`,x);return b==-1?Ut:(x=Number(T.substring(x,b)),isNaN(x)?At:(b+=1,b+x>T.length?Ut:(T=T.slice(b,b+x),p.C=b+x,T)))}Gn.prototype.cancel=function(){this.K=!0,_n(this)};function hi(p){p.T=Date.now()+p.H,ro(p,p.H)}function ro(p,T){if(p.D!=null)throw Error("WatchDog timer not null");p.D=ci(g(p.aa,p),T)}function pi(p){p.D&&(c.clearTimeout(p.D),p.D=null)}Gn.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(dr(this.i,this.B),this.M!=2&&(li(),St(17)),_n(this),this.m=2,In(this)):ro(this,this.T-p)};function In(p){p.j.I==0||p.K||Cu(p.j,p)}function _n(p){pi(p);var T=p.O;T&&typeof T.dispose=="function"&&T.dispose(),p.O=null,Sa(p.V),p.g&&(T=p.g,p.g=null,T.abort(),T.dispose())}function mi(p,T){try{var x=p.j;if(x.I!=0&&(x.g==p||yi(x.h,p))){if(!p.L&&yi(x.h,p)&&x.I==3){try{var b=x.Ba.g.parse(T)}catch{b=null}if(Array.isArray(b)&&b.length==3){var H=b;if(H[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<p.F)po(x),Ss(x);else break e;Tr(x),St(18)}}else x.xa=H[1],0<x.xa-x.K&&H[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=ci(g(x.Va,x),6e3));gi(x.h)<=1&&x.ta&&(x.ta=void 0)}else Ai(x,11)}else if((p.L||x.g==p)&&po(x),!P(T))for(H=x.Ba.g.parse(T),T=0;T<H.length;T++){let Ge=H[T];const at=Ge[0];if(!(at<=x.K))if(x.K=at,Ge=Ge[1],x.I==2)if(Ge[0]=="c"){x.M=Ge[1],x.ba=Ge[2];const Mn=Ge[3];Mn!=null&&(x.ka=Mn,x.j.info("VER="+x.ka));const Ci=Ge[4];Ci!=null&&(x.za=Ci,x.j.info("SVER="+x.za));const jn=Ge[5];jn!=null&&typeof jn=="number"&&jn>0&&(b=1.5*jn,x.O=b,x.j.info("backChannelRequestTimeoutMs_="+b)),b=x;const Qn=p.g;if(Qn){const Sr=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sr){var K=b.h;K.g||Sr.indexOf("spdy")==-1&&Sr.indexOf("quic")==-1&&Sr.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(ba(K,K.h),K.h=null))}if(b.G){const mo=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;mo&&(b.wa=mo,$e(b.J,b.G,mo))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-p.F,x.j.info("Handshake RTT: "+x.T+"ms")),b=x;var oe=p;if(b.na=bu(b,b.L?b.ba:null,b.W),oe.L){Ia(b.h,oe);var xe=oe,yt=b.O;yt&&(xe.H=yt),xe.D&&(pi(xe),hi(xe)),b.g=oe}else Su(b);x.i.length>0&&Si(x)}else Ge[0]!="stop"&&Ge[0]!="close"||Ai(x,7);else x.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Ai(x,7):La(x):Ge[0]!="noop"&&x.l&&x.l.qa(Ge),x.A=0)}}li(4)}catch{}}var Ct=class{constructor(p,T){this.g=p,this.map=T}};function xa(p){this.l=p||10,c.PerformanceNavigationTiming?(p=c.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function wa(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function gi(p){return p.h?1:p.g?p.g.size:0}function yi(p,T){return p.h?p.h==T:p.g?p.g.has(T):!1}function ba(p,T){p.g?p.g.add(T):p.h=T}function Ia(p,T){p.h&&p.h==T?p.h=null:p.g&&p.g.has(T)&&p.g.delete(T)}xa.prototype.cancel=function(){if(this.i=Ra(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Ra(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let T=p.i;for(const x of p.g.values())T=T.concat(x.G);return T}return I(p.i)}var gu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oo(p,T){if(p){p=p.split("&");for(let x=0;x<p.length;x++){const b=p[x].indexOf("=");let H,K=null;b>=0?(H=p[x].substring(0,b),K=p[x].substring(b+1)):H=p[x],T(H,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function vn(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;p instanceof vn?(this.l=p.l,Vt(this,p.j),this.o=p.o,this.g=p.g,ms(this,p.u),this.h=p.h,Na(this,Eu(p.i)),this.m=p.m):p&&(T=String(p).match(gu))?(this.l=!1,Vt(this,T[1]||"",!0),this.o=_i(T[2]||""),this.g=_i(T[3]||"",!0),ms(this,T[4]),this.h=_i(T[5]||"",!0),Na(this,T[6]||"",!0),this.m=_i(T[7]||"")):(this.l=!1,this.i=new ys(null,this.l))}vn.prototype.toString=function(){const p=[];var T=this.j;T&&p.push(mr(T,ao,!0),":");var x=this.g;return(x||T=="file")&&(p.push("//"),(T=this.o)&&p.push(mr(T,ao,!0),"@"),p.push(Vi(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&p.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&p.push("/"),p.push(mr(x,x.charAt(0)=="/"?Ma:yu,!0))),(x=this.i.toString())&&p.push("?",x),(x=this.m)&&p.push("#",mr(x,_u)),p.join("")},vn.prototype.resolve=function(p){const T=xt(this);let x=!!p.j;x?Vt(T,p.j):x=!!p.o,x?T.o=p.o:x=!!p.g,x?T.g=p.g:x=p.u!=null;var b=p.h;if(x)ms(T,p.u);else if(x=!!p.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var H=T.h.lastIndexOf("/");H!=-1&&(b=T.h.slice(0,H+1)+b)}if(H=b,H==".."||H==".")b="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){b=H.lastIndexOf("/",0)==0,H=H.split("/");const K=[];for(let oe=0;oe<H.length;){const xe=H[oe++];xe=="."?b&&oe==H.length&&K.push(""):xe==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),b&&oe==H.length&&K.push("")):(K.push(xe),b=!0)}b=K.join("/")}else b=H}return x?T.h=b:x=p.i.toString()!=="",x?Na(T,Eu(p.i)):x=!!p.m,x&&(T.m=p.m),T};function xt(p){return new vn(p)}function Vt(p,T,x){p.j=x?_i(T,!0):T,p.j&&(p.j=p.j.replace(/:$/,""))}function ms(p,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);p.u=T}else p.u=null}function Na(p,T,x){T instanceof ys?(p.i=T,uo(p.i,p.l)):(x||(T=mr(T,gs)),p.i=new ys(T,p.l))}function $e(p,T,x){p.i.set(T,x)}function pr(p){return $e(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function _i(p,T){return p?T?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function mr(p,T,x){return typeof p=="string"?(p=encodeURI(p).replace(T,ln),x&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function ln(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var ao=/[#\/\?@]/g,yu=/[#\?:]/g,Ma=/[#\?]/g,gs=/[#\?@]/g,_u=/#/g;function ys(p,T){this.h=this.g=null,this.i=p||null,this.j=!!T}function un(p){p.g||(p.g=new Map,p.h=0,p.i&&oo(p.i,function(T,x){p.add(decodeURIComponent(T.replace(/\+/g," ")),x)}))}t=ys.prototype,t.add=function(p,T){un(this),this.i=null,p=_s(this,p);let x=this.g.get(p);return x||this.g.set(p,x=[]),x.push(T),this.h+=1,this};function vu(p,T){un(p),T=_s(p,T),p.g.has(T)&&(p.i=null,p.h-=p.g.get(T).length,p.g.delete(T))}function Da(p,T){return un(p),T=_s(p,T),p.g.has(T)}t.forEach=function(p,T){un(this),this.g.forEach(function(x,b){x.forEach(function(H){p.call(T,H,b,this)},this)},this)};function Pa(p,T){un(p);let x=[];if(typeof T=="string")Da(p,T)&&(x=x.concat(p.g.get(_s(p,T))));else for(p=Array.from(p.g.values()),T=0;T<p.length;T++)x=x.concat(p[T]);return x}t.set=function(p,T){return un(this),this.i=null,p=_s(this,p),Da(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[T]),this.h+=1,this},t.get=function(p,T){return p?(p=Pa(this,p),p.length>0?String(p[0]):T):T};function lo(p,T,x){vu(p,T),x.length>0&&(p.i=null,p.g.set(_s(p,T),I(x)),p.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],T=Array.from(this.g.keys());for(let b=0;b<T.length;b++){var x=T[b];const H=Vi(x);x=Pa(this,x);for(let K=0;K<x.length;K++){let oe=H;x[K]!==""&&(oe+="="+Vi(x[K])),p.push(oe)}}return this.i=p.join("&")};function Eu(p){const T=new ys;return T.i=p.i,p.g&&(T.g=new Map(p.g),T.h=p.h),T}function _s(p,T){return T=String(T),p.j&&(T=T.toLowerCase()),T}function uo(p,T){T&&!p.j&&(un(p),p.i=null,p.g.forEach(function(x,b){const H=b.toLowerCase();b!=H&&(vu(this,b),lo(this,H,x))},p)),p.j=T}function Jn(p,T){const x=new Bn;if(c.Image){const b=new Image;b.onload=v(Rn,x,"TestLoadImage: loaded",!0,T,b),b.onerror=v(Rn,x,"TestLoadImage: error",!1,T,b),b.onabort=v(Rn,x,"TestLoadImage: abort",!1,T,b),b.ontimeout=v(Rn,x,"TestLoadImage: timeout",!1,T,b),c.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=p}else T(!1)}function ka(p,T){const x=new Bn,b=new AbortController,H=setTimeout(()=>{b.abort(),Rn(x,"TestPingServer: timeout",!1,T)},1e4);fetch(p,{signal:b.signal}).then(K=>{clearTimeout(H),K.ok?Rn(x,"TestPingServer: ok",!0,T):Rn(x,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(H),Rn(x,"TestPingServer: error",!1,T)})}function Rn(p,T,x,b,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),b(x)}catch{}}function vs(){this.g=new au}function vi(p){this.i=p.Sb||null,this.h=p.ab||!1}S(vi,lu),vi.prototype.g=function(){return new gr(this.i,this.h)};function gr(p,T){Tt.call(this),this.H=p,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(gr,Tt),t=gr.prototype,t.open=function(p,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=T,this.readyState=1,Kn(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(T.body=p),(this.H||c).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Es(this)),this.readyState=0},t.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;co(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function co(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}t.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var T=p.value?p.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!p.done}))&&(this.response=this.responseText+=T)}p.done?Es(this):Kn(this),this.readyState==3&&co(this)}},t.Oa=function(p){this.g&&(this.response=this.responseText=p,Es(this))},t.Na=function(p){this.g&&(this.response=p,Es(this))},t.ga=function(){this.g&&Es(this)};function Es(p){p.readyState=4,p.l=null,p.j=null,p.B=null,Kn(p)}t.setRequestHeader=function(p,T){this.A.append(p,T)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],T=this.h.entries();for(var x=T.next();!x.done;)x=x.value,p.push(x[0]+": "+x[1]),x=T.next();return p.join(`\r
`)};function Kn(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(gr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Nn(p){let T="";return Fe(p,function(x,b){T+=b,T+=":",T+=x,T+=`\r
`}),T}function yr(p,T,x){e:{for(b in x){var b=!1;break e}b=!0}b||(x=Nn(x),typeof p=="string"?x!=null&&Vi(x):$e(p,T,x))}function Xe(p){Tt.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Xe,Tt);var Ei=/^https?$/i,Ua=["POST","PUT"];t=Xe.prototype,t.Fa=function(p){this.H=p},t.ea=function(p,T,x,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);T=T?T.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ca.g(),this.g.onreadystatechange=C(g(this.Ca,this));try{this.B=!0,this.g.open(T,String(p),!0),this.B=!1}catch(K){_r(this,K);return}if(p=x||"",x=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var H in b)x.set(H,b[H]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const K of b.keys())x.set(K,b.get(K));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(x.keys()).find(K=>K.toLowerCase()=="content-type"),H=c.FormData&&p instanceof c.FormData,!(Array.prototype.indexOf.call(Ua,T,void 0)>=0)||b||H||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,oe]of x)this.g.setRequestHeader(K,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(K){_r(this,K)}};function _r(p,T){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=T,p.o=5,Va(p),Li(p)}function Va(p){p.A||(p.A=!0,Pt(p,"complete"),Pt(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,Pt(this,"complete"),Pt(this,"abort"),Li(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Li(this,!0)),Xe.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?vr(this):this.Xa())},t.Xa=function(){vr(this)};function vr(p){if(p.h&&typeof l<"u"){if(p.v&&$n(p)==4)setTimeout(p.Ca.bind(p),0);else if(Pt(p,"readystatechange"),$n(p)==4){p.h=!1;try{const K=p.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var x;if(!(x=T)){var b;if(b=K===0){let oe=String(p.D).match(gu)[1]||null;!oe&&c.self&&c.self.location&&(oe=c.self.location.protocol.slice(0,-1)),b=!Ei.test(oe?oe.toLowerCase():"")}x=b}if(x)Pt(p,"complete"),Pt(p,"success");else{p.o=6;try{var H=$n(p)>2?p.g.statusText:""}catch{H=""}p.l=H+" ["+p.ca()+"]",Va(p)}}finally{Li(p)}}}}function Li(p,T){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const x=p.g;p.g=null,T||Pt(p,"ready");try{x.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function $n(p){return p.g?p.g.readyState:0}t.ca=function(){try{return $n(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(p){if(this.g){var T=this.g.responseText;return p&&T.indexOf(p)==0&&(T=T.substring(p.length)),Yd(T)}};function Ht(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Oi(p){const T={};p=(p.g&&$n(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<p.length;b++){if(P(p[b]))continue;var x=hu(p[b]);const H=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const K=T[H]||[];T[H]=K,K.push(x)}Ke(T,function(b){return b.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ti(p,T,x){return x&&x.internalChannelParams&&x.internalChannelParams[p]||T}function Ts(p){this.za=0,this.i=[],this.j=new Bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ti("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ti("baseRetryDelayMs",5e3,p),this.Za=Ti("retryDelaySeedMs",1e4,p),this.Ta=Ti("forwardChannelMaxRetries",2,p),this.va=Ti("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new xa(p&&p.concurrentRequestLimit),this.Ba=new vs,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ts.prototype,t.ka=8,t.I=1,t.connect=function(p,T,x,b){St(0),this.W=p,this.H=T||{},x&&b!==void 0&&(this.H.OSID=x,this.H.OAID=b),this.F=this.X,this.J=bu(this,null,this.W),Si(this)};function La(p){if(fo(p),p.I==3){var T=p.V++,x=xt(p.J);if($e(x,"SID",p.M),$e(x,"RID",T),$e(x,"TYPE","terminate"),Er(p,x),T=new Gn(p,p.j,T),T.M=2,T.A=pr(xt(x)),x=!1,c.navigator&&c.navigator.sendBeacon)try{x=c.navigator.sendBeacon(T.A.toString(),"")}catch{}!x&&c.Image&&(new Image().src=T.A,x=!0),x||(T.g=Iu(T.j,null),T.g.ea(T.A)),T.F=Date.now(),hi(T)}wu(p)}function Ss(p){p.g&&(qa(p),p.g.cancel(),p.g=null)}function fo(p){Ss(p),p.v&&(c.clearTimeout(p.v),p.v=null),po(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&c.clearTimeout(p.m),p.m=null)}function Si(p){if(!wa(p.h)&&!p.m){p.m=!0;var T=p.Ea;de||N(),le||(de(),le=!0),M.add(T,p),p.D=0}}function ho(p,T){return gi(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=T.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=ci(g(p.Ea,p,T),xu(p,p.D)),p.D++,!0)}t.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const H=new Gn(this,this.j,p);let K=this.o;if(this.U&&(K?(K=O(K),ue(K,this.U)):K=this.U),this.u!==null||this.R||(H.J=K,K=null),this.S)e:{for(var T=0,x=0;x<this.i.length;x++){t:{var b=this.i[x];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(T+=b,T>4096){T=x;break e}if(T===4096||x===this.i.length-1){T=x+1;break e}}T=1e3}else T=1e3;T=Tu(this,H,T),x=xt(this.J),$e(x,"RID",p),$e(x,"CVER",22),this.G&&$e(x,"X-HTTP-Session-Id",this.G),Er(this,x),K&&(this.R?T="headers="+Vi(Nn(K))+"&"+T:this.u&&yr(x,this.u,K)),ba(this.h,H),this.Ra&&$e(x,"TYPE","init"),this.S?($e(x,"$req",T),$e(x,"SID","null"),H.U=!0,fi(H,x,null)):fi(H,x,T),this.I=2}}else this.I==3&&(p?Oa(this,p):this.i.length==0||wa(this.h)||Oa(this))};function Oa(p,T){var x;T?x=T.l:x=p.V++;const b=xt(p.J);$e(b,"SID",p.M),$e(b,"RID",x),$e(b,"AID",p.K),Er(p,b),p.u&&p.o&&yr(b,p.u,p.o),x=new Gn(p,p.j,x,p.D+1),p.u===null&&(x.J=p.o),T&&(p.i=T.G.concat(p.i)),T=Tu(p,x,1e3),x.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),ba(p.h,x),fi(x,b,T)}function Er(p,T){p.H&&Fe(p.H,function(x,b){$e(T,b,x)}),p.l&&Fe({},function(x,b){$e(T,b,x)})}function Tu(p,T,x){x=Math.min(p.i.length,x);const b=p.l?g(p.l.Ka,p.l,p):null;e:{var H=p.i;let xe=-1;for(;;){const yt=["count="+x];xe==-1?x>0?(xe=H[0].g,yt.push("ofs="+xe)):xe=0:yt.push("ofs="+xe);let Ge=!0;for(let at=0;at<x;at++){var K=H[at].g;const Mn=H[at].map;if(K-=xe,K<0)xe=Math.max(0,H[at].g-100),Ge=!1;else try{K="req"+K+"_"||"";try{var oe=Mn instanceof Map?Mn:Object.entries(Mn);for(const[Ci,jn]of oe){let Qn=jn;h(jn)&&(Qn=ps(jn)),yt.push(K+Ci+"="+encodeURIComponent(Qn))}}catch(Ci){throw yt.push(K+"type="+encodeURIComponent("_badmap")),Ci}}catch{b&&b(Mn)}}if(Ge){oe=yt.join("&");break e}}oe=void 0}return p=p.i.splice(0,x),T.G=p,oe}function Su(p){if(!p.g&&!p.v){p.Y=1;var T=p.Da;de||N(),le||(de(),le=!0),M.add(T,p),p.A=0}}function Tr(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=ci(g(p.Da,p),xu(p,p.A)),p.A++,!0)}t.Da=function(){if(this.v=null,Au(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=ci(g(this.Wa,this),p)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,St(10),Ss(this),Au(this))};function qa(p){p.B!=null&&(c.clearTimeout(p.B),p.B=null)}function Au(p){p.g=new Gn(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var T=xt(p.na);$e(T,"RID","rpc"),$e(T,"SID",p.M),$e(T,"AID",p.K),$e(T,"CI",p.F?"0":"1"),!p.F&&p.ia&&$e(T,"TO",p.ia),$e(T,"TYPE","xmlhttp"),Er(p,T),p.u&&p.o&&yr(T,p.u,p.o),p.O&&(p.g.H=p.O);var x=p.g;p=p.ba,x.M=1,x.A=pr(xt(T)),x.u=null,x.R=!0,so(x,p)}t.Va=function(){this.C!=null&&(this.C=null,Ss(this),Tr(this),St(19))};function po(p){p.C!=null&&(c.clearTimeout(p.C),p.C=null)}function Cu(p,T){var x=null;if(p.g==T){po(p),qa(p),p.g=null;var b=2}else if(yi(p.h,T))x=T.G,Ia(p.h,T),b=1;else return;if(p.I!=0){if(T.o)if(b==1){x=T.u?T.u.length:0,T=Date.now()-T.F;var H=p.D;b=io(),Pt(b,new ui(b,x)),Si(p)}else Su(p);else if(H=T.m,H==3||H==0&&T.X>0||!(b==1&&ho(p,T)||b==2&&Tr(p)))switch(x&&x.length>0&&(T=p.h,T.i=T.i.concat(x)),H){case 1:Ai(p,5);break;case 4:Ai(p,10);break;case 3:Ai(p,6);break;default:Ai(p,2)}}}function xu(p,T){let x=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(x*=2),x*T}function Ai(p,T){if(p.j.info("Error code "+T),T==2){var x=g(p.bb,p),b=p.Ua;const H=!b;b=new vn(b||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Vt(b,"https"),pr(b),H?Jn(b.toString(),x):ka(b.toString(),x)}else St(2);p.I=0,p.l&&p.l.pa(T),wu(p),fo(p)}t.bb=function(p){p?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function wu(p){if(p.I=0,p.ja=[],p.l){const T=Ra(p.h);(T.length!=0||p.i.length!=0)&&(F(p.ja,T),F(p.ja,p.i),p.h.i.length=0,I(p.i),p.i.length=0),p.l.oa()}}function bu(p,T,x){var b=x instanceof vn?xt(x):new vn(x);if(b.g!="")T&&(b.g=T+"."+b.g),ms(b,b.u);else{var H=c.location;b=H.protocol,T=T?T+"."+H.hostname:H.hostname,H=+H.port;const K=new vn(null);b&&Vt(K,b),T&&(K.g=T),H&&ms(K,H),x&&(K.h=x),b=K}return x=p.G,T=p.wa,x&&T&&$e(b,x,T),$e(b,"VER",p.ka),Er(p,b),b}function Iu(p,T,x){if(T&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=p.Aa&&!p.ma?new Xe(new vi({ab:x})):new Xe(p.ma),T.Fa(p.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ru(){}t=Ru.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function As(){}As.prototype.g=function(p,T){return new on(p,T)};function on(p,T){Tt.call(this),this.g=new Ts(T),this.l=p,this.h=T&&T.messageUrlParams||null,p=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(p?p["X-WebChannel-Content-Type"]=T.messageContentType:p={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(p?p["X-WebChannel-Client-Profile"]=T.sa:p={"X-WebChannel-Client-Profile":T.sa}),this.g.U=p,(p=T&&T.Qb)&&!P(p)&&(this.g.u=p),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!P(T)&&(this.g.G=T,p=this.h,p!==null&&T in p&&(p=this.h,T in p&&delete p[T])),this.j=new qi(this)}S(on,Tt),on.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){La(this.g)},on.prototype.o=function(p){var T=this.g;if(typeof p=="string"){var x={};x.__data__=p,p=x}else this.v&&(x={},x.__data__=ps(p),p=x);T.i.push(new Ct(T.Ya++,p)),T.I==3&&Si(T)},on.prototype.N=function(){this.g.l=null,delete this.j,La(this.g),delete this.g,on.Z.N.call(this)};function Nu(p){Ft.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var T=p.__sm__;if(T){e:{for(const x in T){p=x;break e}p=void 0}(this.i=p)&&(p=this.i,T=T!==null&&p in T?T[p]:void 0),this.data=T}else this.data=p}S(Nu,Ft);function Mu(){bn.call(this),this.status=1}S(Mu,bn);function qi(p){this.g=p}S(qi,Ru),qi.prototype.ra=function(){Pt(this.g,"a")},qi.prototype.qa=function(p){Pt(this.g,new Nu(p))},qi.prototype.pa=function(p){Pt(this.g,new Mu)},qi.prototype.oa=function(){Pt(this.g,"b")},As.prototype.createWebChannel=As.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,lS=function(){return new As},aS=function(){return io()},oS=gt,xp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fr.NO_ERROR=0,fr.TIMEOUT=8,fr.HTTP_ERROR=6,Yc=fr,Aa.COMPLETE="complete",rS=Aa,uu.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,Rl=uu,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,sS=Xe}).apply(typeof Uc<"u"?Uc:typeof self<"u"?self:typeof window<"u"?window:{});const Z0="@firebase/firestore",eE="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ma="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr=new Xp("@firebase/firestore");function Yo(){return Gr.logLevel}function me(t,...e){if(Gr.logLevel<=Ve.DEBUG){const n=e.map(tm);Gr.debug(`Firestore (${ma}): ${t}`,...n)}}function Yr(t,...e){if(Gr.logLevel<=Ve.ERROR){const n=e.map(tm);Gr.error(`Firestore (${ma}): ${t}`,...n)}}function Nd(t,...e){if(Gr.logLevel<=Ve.WARN){const n=e.map(tm);Gr.warn(`Firestore (${ma}): ${t}`,...n)}}function tm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,uS(t,s,n)}function uS(t,e,n){let s=`FIRESTORE (${ma}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Yr(s),new Error(s)}function mt(t,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,t||uS(e,o,s)}function nt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends ds{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(en.UNAUTHENTICATED)))}shutdown(){}}class XP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class WP{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){mt(this.o===void 0,42304);let s=this.i;const o=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let l=new Fr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Fr,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const y=l;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},h=y=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((y=>h(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?h(y):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Fr)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(mt(typeof s.accessToken=="string",31837,{l:s}),new cS(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return mt(e===null||typeof e=="string",2055,{h:e}),new en(e)}}class ZP{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ek{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new ZP(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class tE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tk{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){mt(this.o===void 0,3512);const s=l=>{l.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,me("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const o=l=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new tE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(mt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new tE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=nk(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<n&&(s+=e.charAt(o[l]%62))}return s}}function Je(t,e){return t<e?-1:t>e?1:0}function wp(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const o=t.charAt(s),l=e.charAt(s);if(o!==l)return np(o)===np(l)?Je(o,l):np(o)?1:-1}return Je(t.length,e.length)}const ik=55296,sk=57343;function np(t){const e=t.charCodeAt(0);return e>=ik&&e<=sk}function sa(t,e,n){return t.length===e.length&&t.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="__name__";class Ri{constructor(e,n,s){n===void 0?n=0:n>e.length&&Me(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Me(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ri.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ri?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const l=Ri.compareSegments(e.get(o),n.get(o));if(l!==0)return l}return Je(e.length,n.length)}static compareSegments(e,n){const s=Ri.isNumericId(e),o=Ri.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ri.extractNumericId(e).compare(Ri.extractNumericId(n)):wp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return em.fromString(e.substring(4,e.length-2))}}class dt extends Ri{construct(e,n,s){return new dt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ye(se.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new dt(n)}static emptyPath(){return new dt([])}}const rk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends Ri{construct(e,n,s){return new jt(e,n,s)}static isValidIdentifier(e){return rk.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nE}static keyField(){return new jt([nE])}static fromServerFormat(e){const n=[];let s="",o=0;const l=()=>{if(s.length===0)throw new ye(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new ye(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ye(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,o+=2}else h==="`"?(c=!c,o++):h!=="."||c?(s+=h,o++):(l(),o++)}if(l(),c)throw new ye(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(n)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(dt.fromString(e))}static fromName(e){return new Ne(dt.fromString(e).popFirst(5))}static empty(){return new Ne(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new dt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(t,e,n){if(!n)throw new ye(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ok(t,e,n,s){if(e===!0&&s===!0)throw new ye(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function iE(t){if(!Ne.isDocumentKey(t))throw new ye(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function sE(t){if(Ne.isDocumentKey(t))throw new ye(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function fS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function im(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Me(12329,{type:typeof t})}function od(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ye(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=im(t);throw new ye(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Kl(t,e){if(!fS(t))throw new ye(se.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const c=t[s];if(o&&typeof c!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new ye(se.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE=-62135596800,oE=1e6;class ct{static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*oE);return new ct(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<rE)throw new ye(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/oE}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Kl(e,ct._jsonSchema))return new ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-rE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ct._jsonSchemaVersion="firestore/timestamp/1.0",ct._jsonSchema={type:Mt("string",ct._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{static fromTimestamp(e){return new ut(e)}static min(){return new ut(new ct(0,0))}static max(){return new ut(new ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql=-1;function ak(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,o=ut.fromTimestamp(s===1e9?new ct(n+1,0):new ct(n,s));return new nr(o,Ne.empty(),e)}function lk(t){return new nr(t.readTime,t.key,ql)}class nr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new nr(ut.min(),Ne.empty(),ql)}static max(){return new nr(ut.max(),Ne.empty(),ql)}}function uk(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ne.comparator(t.documentKey,e.documentKey),n!==0?n:Je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sm(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==ck)throw t;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,s)=>{n(e)}))}static reject(e){return new ie(((n,s)=>{s(e)}))}static waitFor(e){return new ie(((n,s)=>{let o=0,l=0,c=!1;e.forEach((h=>{++o,h.next((()=>{++l,c&&l===o&&n()}),(y=>s(y)))})),c=!0,l===o&&n()}))}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next((o=>o?ie.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,l)=>{s.push(n.call(this,o,l))})),this.waitFor(s)}static mapArray(e,n){return new ie(((s,o)=>{const l=e.length,c=new Array(l);let h=0;for(let y=0;y<l;y++){const g=y;n(e[g]).next((v=>{c[g]=v,++h,h===l&&s(c)}),(v=>o(v)))}}))}static doWhile(e,n){return new ie(((s,o)=>{const l=()=>{e()===!0?n().next((()=>{l()}),o):s()};l()}))}}function fk(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $l(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}rm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om=-1;function am(t){return t==null}function ad(t){return t===0&&1/t==-1/0}function hk(t){return typeof t=="number"&&Number.isInteger(t)&&!ad(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS="";function pk(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=aE(e)),e=mk(t.get(n),e);return aE(e)}function mk(t,e){let n=e;const s=t.length;for(let o=0;o<s;o++){const l=t.charAt(o);switch(l){case"\0":n+="";break;case hS:n+="";break;default:n+=l}}return n}function aE(t){return t+hS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ga(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function pS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,n){this.comparator=e,this.root=n||Jt.EMPTY}insert(e,n){return new yn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new yn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vc(this.root,e,this.comparator,!0)}}class Vc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,n,s,o,l){this.key=e,this.value=n,this.color=s??Jt.RED,this.left=o??Jt.EMPTY,this.right=l??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,l){return new Jt(e??this.key,n??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,n,s),null):l===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Jt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Me(27949);return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Me(57766)}get value(){throw Me(16141)}get color(){throw Me(16727)}get left(){throw Me(29726)}get right(){throw Me(36894)}copy(e,n,s,o,l){return this}insert(e,n,s){return new Jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.comparator=e,this.data=new yn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new uE(this.data.getIterator())}getIteratorFrom(e){return new uE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Xt(this.comparator);return n.data=e,n}}class uE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new ii([])}unionWith(e){let n=new Xt(jt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ii(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return sa(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new gk("Invalid base64 string: "+l):l}})(e);return new Pi(n)}static fromUint8Array(e){const n=(function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l})(e);return new Pi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pi.EMPTY_BYTE_STRING=new Pi("");const yk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jr(t){if(mt(!!t,39018),typeof t=="string"){let e=0;const n=yk.exec(t);if(mt(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Kt(t.seconds),nanos:Kt(t.nanos)}}function Kt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ra(t){return typeof t=="string"?Pi.fromBase64String(t):Pi.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="server_timestamp",gS="__type__",yS="__previous_value__",_S="__local_write_time__";function lm(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[gS])==null?void 0:s.stringValue)===mS}function um(t){const e=t.mapValue.fields[yS];return lm(e)?um(e):e}function ld(t){const e=Jr(t.mapValue.fields[_S].timestampValue);return new ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e,n,s,o,l,c,h,y,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=y,this.useFetchStreams=g,this.isUsingEmulator=v}}const ud="(default)";class cd{constructor(e,n){this.projectId=e,this.database=n||ud}static empty(){return new cd("","")}get isDefaultDatabase(){return this.database===ud}isEqual(e){return e instanceof cd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="__type__",vk="__max__",Lc={mapValue:{}},ES="__vector__",bp="value";function Kr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?lm(t)?4:Tk(t)?9007199254740991:Ek(t)?10:11:Me(28295,{value:t})}function ki(t,e){if(t===e)return!0;const n=Kr(t);if(n!==Kr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ld(t).isEqual(ld(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=Jr(o.timestampValue),h=Jr(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(o,l){return ra(o.bytesValue).isEqual(ra(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(o,l){return Kt(o.geoPointValue.latitude)===Kt(l.geoPointValue.latitude)&&Kt(o.geoPointValue.longitude)===Kt(l.geoPointValue.longitude)})(t,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return Kt(o.integerValue)===Kt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=Kt(o.doubleValue),h=Kt(l.doubleValue);return c===h?ad(c)===ad(h):isNaN(c)&&isNaN(h)}return!1})(t,e);case 9:return sa(t.arrayValue.values||[],e.arrayValue.values||[],ki);case 10:case 11:return(function(o,l){const c=o.mapValue.fields||{},h=l.mapValue.fields||{};if(lE(c)!==lE(h))return!1;for(const y in c)if(c.hasOwnProperty(y)&&(h[y]===void 0||!ki(c[y],h[y])))return!1;return!0})(t,e);default:return Me(52216,{left:t})}}function Fl(t,e){return(t.values||[]).find((n=>ki(n,e)))!==void 0}function oa(t,e){if(t===e)return 0;const n=Kr(t),s=Kr(e);if(n!==s)return Je(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Je(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const h=Kt(l.integerValue||l.doubleValue),y=Kt(c.integerValue||c.doubleValue);return h<y?-1:h>y?1:h===y?0:isNaN(h)?isNaN(y)?0:-1:1})(t,e);case 3:return cE(t.timestampValue,e.timestampValue);case 4:return cE(ld(t),ld(e));case 5:return wp(t.stringValue,e.stringValue);case 6:return(function(l,c){const h=ra(l),y=ra(c);return h.compareTo(y)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const h=l.split("/"),y=c.split("/");for(let g=0;g<h.length&&g<y.length;g++){const v=Je(h[g],y[g]);if(v!==0)return v}return Je(h.length,y.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const h=Je(Kt(l.latitude),Kt(c.latitude));return h!==0?h:Je(Kt(l.longitude),Kt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return dE(t.arrayValue,e.arrayValue);case 10:return(function(l,c){var C,I,F,J;const h=l.fields||{},y=c.fields||{},g=(C=h[bp])==null?void 0:C.arrayValue,v=(I=y[bp])==null?void 0:I.arrayValue,S=Je(((F=g==null?void 0:g.values)==null?void 0:F.length)||0,((J=v==null?void 0:v.values)==null?void 0:J.length)||0);return S!==0?S:dE(g,v)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Lc.mapValue&&c===Lc.mapValue)return 0;if(l===Lc.mapValue)return 1;if(c===Lc.mapValue)return-1;const h=l.fields||{},y=Object.keys(h),g=c.fields||{},v=Object.keys(g);y.sort(),v.sort();for(let S=0;S<y.length&&S<v.length;++S){const C=wp(y[S],v[S]);if(C!==0)return C;const I=oa(h[y[S]],g[v[S]]);if(I!==0)return I}return Je(y.length,v.length)})(t.mapValue,e.mapValue);default:throw Me(23264,{he:n})}}function cE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Je(t,e);const n=Jr(t),s=Jr(e),o=Je(n.seconds,s.seconds);return o!==0?o:Je(n.nanos,s.nanos)}function dE(t,e){const n=t.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const l=oa(n[o],s[o]);if(l)return l}return Je(n.length,s.length)}function aa(t){return Ip(t)}function Ip(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Jr(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ra(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ne.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",o=!0;for(const l of n.values||[])o?o=!1:s+=",",s+=Ip(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",l=!0;for(const c of s)l?l=!1:o+=",",o+=`${c}:${Ip(n.fields[c])}`;return o+"}"})(t.mapValue):Me(61005,{value:t})}function Jc(t){switch(Kr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=um(t);return e?16+Jc(e):16;case 5:return 2*t.stringValue.length;case 6:return ra(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,l)=>o+Jc(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let o=0;return ga(s.fields,((l,c)=>{o+=l.length+Jc(c)})),o})(t.mapValue);default:throw Me(13486,{value:t})}}function Rp(t){return!!t&&"integerValue"in t}function cm(t){return!!t&&"arrayValue"in t}function Kc(t){return!!t&&"mapValue"in t}function Ek(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[vS])==null?void 0:s.stringValue)===ES}function Dl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ga(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Dl(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Dl(t.arrayValue.values[n]);return e}return{...t}}function Tk(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===vk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e){this.value=e}static empty(){return new ti({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Kc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dl(n)}setAll(e){let n=jt.emptyPath(),s={},o=[];e.forEach(((c,h)=>{if(!n.isImmediateParentOf(h)){const y=this.getFieldsMap(n);this.applyChanges(y,s,o),s={},o=[],n=h.popLast()}c?s[h.lastSegment()]=Dl(c):o.push(h.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,o)}delete(e){const n=this.field(e.popLast());Kc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ki(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Kc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ga(n,((o,l)=>e[o]=l));for(const o of s)delete e[o]}clone(){return new ti(Dl(this.value))}}function TS(t){const e=[];return ga(t.fields,((n,s)=>{const o=new jt([n]);if(Kc(s)){const l=TS(s.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)})),new ii(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,n,s,o,l,c,h){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(e){return new ei(e,0,ut.min(),ut.min(),ut.min(),ti.empty(),0)}static newFoundDocument(e,n,s,o){return new ei(e,1,n,ut.min(),s,o,0)}static newNoDocument(e,n){return new ei(e,2,n,ut.min(),ut.min(),ti.empty(),0)}static newUnknownDocument(e,n){return new ei(e,3,n,ut.min(),ut.min(),ti.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ut.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ti.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ti.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ut.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ei&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ei(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,n){this.position=e,this.inclusive=n}}function fE(t,e,n){let s=0;for(let o=0;o<t.position.length;o++){const l=e[o],c=t.position[o];if(l.field.isKeyField()?s=Ne.comparator(Ne.fromName(c.referenceValue),n.key):s=oa(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function hE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ki(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,n="asc"){this.field=e,this.dir=n}}function Sk(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{}class qt extends SS{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new Ck(e,n,s):n==="array-contains"?new bk(e,s):n==="in"?new Ik(e,s):n==="not-in"?new Rk(e,s):n==="array-contains-any"?new Nk(e,s):new qt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new xk(e,s):new wk(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(oa(n,this.value)):n!==null&&Kr(this.value)===Kr(n)&&this.matchesComparison(oa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ir extends SS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ir(e,n)}matches(e){return AS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function AS(t){return t.op==="and"}function CS(t){return Ak(t)&&AS(t)}function Ak(t){for(const e of t.filters)if(e instanceof ir)return!1;return!0}function Np(t){if(t instanceof qt)return t.field.canonicalString()+t.op.toString()+aa(t.value);if(CS(t))return t.filters.map((e=>Np(e))).join(",");{const e=t.filters.map((n=>Np(n))).join(",");return`${t.op}(${e})`}}function xS(t,e){return t instanceof qt?(function(s,o){return o instanceof qt&&s.op===o.op&&s.field.isEqual(o.field)&&ki(s.value,o.value)})(t,e):t instanceof ir?(function(s,o){return o instanceof ir&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((l,c,h)=>l&&xS(c,o.filters[h])),!0):!1})(t,e):void Me(19439)}function wS(t){return t instanceof qt?(function(n){return`${n.field.canonicalString()} ${n.op} ${aa(n.value)}`})(t):t instanceof ir?(function(n){return n.op.toString()+" {"+n.getFilters().map(wS).join(" ,")+"}"})(t):"Filter"}class Ck extends qt{constructor(e,n,s){super(e,n,s),this.key=Ne.fromName(s.referenceValue)}matches(e){const n=Ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class xk extends qt{constructor(e,n){super(e,"in",n),this.keys=bS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class wk extends qt{constructor(e,n){super(e,"not-in",n),this.keys=bS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function bS(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((s=>Ne.fromName(s.referenceValue)))}class bk extends qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return cm(n)&&Fl(n.arrayValue,this.value)}}class Ik extends qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Fl(this.value.arrayValue,n)}}class Rk extends qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Fl(this.value.arrayValue,n)}}class Nk extends qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!cm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Fl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e,n=null,s=[],o=[],l=null,c=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=c,this.endAt=h,this.Te=null}}function pE(t,e=null,n=[],s=[],o=null,l=null,c=null){return new Mk(t,e,n,s,o,l,c)}function dm(t){const e=nt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Np(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),am(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>aa(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>aa(s))).join(",")),e.Te=n}return e.Te}function fm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Sk(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!xS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!hE(t.startAt,e.startAt)&&hE(t.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n=null,s=[],o=[],l=null,c="F",h=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Dk(t,e,n,s,o,l,c,h){return new Md(t,e,n,s,o,l,c,h)}function Pk(t){return new Md(t)}function mE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function kk(t){return t.collectionGroup!==null}function Pl(t){const e=nt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Xt(jt.comparator);return c.filters.forEach((y=>{y.getFlattenedFilters().forEach((g=>{g.isInequality()&&(h=h.add(g.field))}))})),h})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new fd(l,s))})),n.has(jt.keyField().canonicalString())||e.Ie.push(new fd(jt.keyField(),s))}return e.Ie}function Hr(t){const e=nt(t);return e.Ee||(e.Ee=Uk(e,Pl(t))),e.Ee}function Uk(t,e){if(t.limitType==="F")return pE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new fd(o.field,l)}));const n=t.endAt?new dd(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new dd(t.startAt.position,t.startAt.inclusive):null;return pE(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Mp(t,e,n){return new Md(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function IS(t,e){return fm(Hr(t),Hr(e))&&t.limitType===e.limitType}function RS(t){return`${dm(Hr(t))}|lt:${t.limitType}`}function wl(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>wS(o))).join(", ")}]`),am(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>aa(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>aa(o))).join(",")),`Target(${s})`})(Hr(t))}; limitType=${t.limitType})`}function hm(t,e){return e.isFoundDocument()&&(function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Ne.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,o){for(const l of Pl(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0})(t,e)&&(function(s,o){return!(s.startAt&&!(function(c,h,y){const g=fE(c,h,y);return c.inclusive?g<=0:g<0})(s.startAt,Pl(s),o)||s.endAt&&!(function(c,h,y){const g=fE(c,h,y);return c.inclusive?g>=0:g>0})(s.endAt,Pl(s),o))})(t,e)}function Vk(t){return(e,n)=>{let s=!1;for(const o of Pl(t)){const l=Lk(o,e,n);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function Lk(t,e,n){const s=t.field.isKeyField()?Ne.comparator(e.key,n.key):(function(l,c,h){const y=c.data.field(l),g=h.data.field(l);return y!==null&&g!==null?oa(y,g):Me(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Me(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ga(this.inner,((n,s)=>{for(const[o,l]of s)e(o,l)}))}isEmpty(){return pS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok=new yn(Ne.comparator);function hd(){return Ok}const NS=new yn(Ne.comparator);function Oc(...t){let e=NS;for(const n of t)e=e.insert(n.key,n);return e}function MS(t){let e=NS;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function qr(){return kl()}function DS(){return kl()}function kl(){return new Xr((t=>t.toString()),((t,e)=>t.isEqual(e)))}const qk=new yn(Ne.comparator),Fk=new Xt(Ne.comparator);function tn(...t){let e=Fk;for(const n of t)e=e.add(n);return e}const Hk=new Xt(Je);function zk(){return Hk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ad(e)?"-0":e}}function PS(t){return{integerValue:""+t}}function Bk(t,e){return hk(e)?PS(e):pm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(){this._=void 0}}function Gk(t,e,n){return t instanceof Hl?(function(o,l){const c={fields:{[gS]:{stringValue:mS},[_S]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&lm(l)&&(l=um(l)),l&&(c.fields[yS]=l),{mapValue:c}})(n,e):t instanceof zl?US(t,e):t instanceof Bl?VS(t,e):(function(o,l){const c=kS(o,l),h=gE(c)+gE(o.Ae);return Rp(c)&&Rp(o.Ae)?PS(h):pm(o.serializer,h)})(t,e)}function Yk(t,e,n){return t instanceof zl?US(t,e):t instanceof Bl?VS(t,e):n}function kS(t,e){return t instanceof pd?(function(s){return Rp(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Hl extends Dd{}class zl extends Dd{constructor(e){super(),this.elements=e}}function US(t,e){const n=LS(e);for(const s of t.elements)n.some((o=>ki(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Bl extends Dd{constructor(e){super(),this.elements=e}}function VS(t,e){let n=LS(e);for(const s of t.elements)n=n.filter((o=>!ki(o,s)));return{arrayValue:{values:n}}}class pd extends Dd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function gE(t){return Kt(t.integerValue||t.doubleValue)}function LS(t){return cm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e,n){this.field=e,this.transform=n}}function Kk(t,e){return t.field.isEqual(e.field)&&(function(s,o){return s instanceof zl&&o instanceof zl||s instanceof Bl&&o instanceof Bl?sa(s.elements,o.elements,ki):s instanceof pd&&o instanceof pd?ki(s.Ae,o.Ae):s instanceof Hl&&o instanceof Hl})(t.transform,e.transform)}class $k{constructor(e,n){this.version=e,this.transformResults=n}}class Ni{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ni}static exists(e){return new Ni(void 0,e)}static updateTime(e){return new Ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $c(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Pd{}function OS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new FS(t.key,Ni.none()):new jl(t.key,t.data,Ni.none());{const n=t.data,s=ti.empty();let o=new Xt(jt.comparator);for(let l of e.fields)if(!o.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),o=o.add(l)}return new Wr(t.key,s,new ii(o.toArray()),Ni.none())}}function jk(t,e,n){t instanceof jl?(function(o,l,c){const h=o.value.clone(),y=_E(o.fieldTransforms,l,c.transformResults);h.setAll(y),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):t instanceof Wr?(function(o,l,c){if(!$c(o.precondition,l))return void l.convertToUnknownDocument(c.version);const h=_E(o.fieldTransforms,l,c.transformResults),y=l.data;y.setAll(qS(o)),y.setAll(h),l.convertToFoundDocument(c.version,y).setHasCommittedMutations()})(t,e,n):(function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Ul(t,e,n,s){return t instanceof jl?(function(l,c,h,y){if(!$c(l.precondition,c))return h;const g=l.value.clone(),v=vE(l.fieldTransforms,y,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(t,e,n,s):t instanceof Wr?(function(l,c,h,y){if(!$c(l.precondition,c))return h;const g=vE(l.fieldTransforms,y,c),v=c.data;return v.setAll(qS(l)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((S=>S.field)))})(t,e,n,s):(function(l,c,h){return $c(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(t,e,n)}function Qk(t,e){let n=null;for(const s of t.fieldTransforms){const o=e.data.field(s.field),l=kS(s.transform,o||null);l!=null&&(n===null&&(n=ti.empty()),n.set(s.field,l))}return n||null}function yE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&sa(s,o,((l,c)=>Kk(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class jl extends Pd{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Wr extends Pd{constructor(e,n,s,o,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function qS(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function _E(t,e,n){const s=new Map;mt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let o=0;o<n.length;o++){const l=t[o],c=l.transform,h=e.data.field(l.field);s.set(l.field,Yk(c,h,n[o]))}return s}function vE(t,e,n){const s=new Map;for(const o of t){const l=o.transform,c=n.data.field(o.field);s.set(o.field,Gk(l,c,e))}return s}class FS extends Pd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Xk extends Pd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&jk(l,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ul(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ul(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=DS();return this.mutations.forEach((o=>{const l=e.get(o.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=n.has(o.key)?null:h;const y=OS(c,h);y!==null&&s.set(o.key,y),c.isValidDocument()||c.convertToNoDocument(ut.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),tn())}isEqual(e){return this.batchId===e.batchId&&sa(this.mutations,e.mutations,((n,s)=>yE(n,s)))&&sa(this.baseMutations,e.baseMutations,((n,s)=>yE(n,s)))}}class mm{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){mt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return qk})();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,s[c].version);return new mm(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt,qe;function e4(t){switch(t){case se.OK:return Me(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Me(15467,{code:t})}}function t4(t){if(t===void 0)return Yr("GRPC error has no .code"),se.UNKNOWN;switch(t){case Nt.OK:return se.OK;case Nt.CANCELLED:return se.CANCELLED;case Nt.UNKNOWN:return se.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return se.INTERNAL;case Nt.UNAVAILABLE:return se.UNAVAILABLE;case Nt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Nt.NOT_FOUND:return se.NOT_FOUND;case Nt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Nt.ABORTED:return se.ABORTED;case Nt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Nt.DATA_LOSS:return se.DATA_LOSS;default:return Me(39323,{code:t})}}(qe=Nt||(Nt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new em([4294967295,4294967295],0);class n4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function i4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function s4(t,e){return Dp(t,e.toTimestamp())}function Wo(t){return mt(!!t,49232),ut.fromTimestamp((function(n){const s=Jr(n);return new ct(s.seconds,s.nanos)})(t))}function HS(t,e){return Pp(t,e).canonicalString()}function Pp(t,e){const n=(function(o){return new dt(["projects",o.projectId,"databases",o.database])})(t).child("documents");return e===void 0?n:n.child(e)}function r4(t){const e=dt.fromString(t);return mt(h4(e),10190,{key:e.toString()}),e}function kp(t,e){return HS(t.databaseId,e.path)}function o4(t){const e=r4(t);return e.length===4?dt.emptyPath():l4(e)}function a4(t){return new dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function l4(t){return mt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function EE(t,e,n){return{name:kp(t,e),fields:n.value.mapValue.fields}}function u4(t,e){let n;if(e instanceof jl)n={update:EE(t,e.key,e.value)};else if(e instanceof FS)n={delete:kp(t,e.key)};else if(e instanceof Wr)n={update:EE(t,e.key,e.data),updateMask:f4(e.fieldMask)};else{if(!(e instanceof Xk))return Me(16599,{Vt:e.type});n={verify:kp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const h=c.transform;if(h instanceof Hl)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof zl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Bl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof pd)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Me(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:s4(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Me(27497)})(t,e.precondition)),n}function c4(t,e){return t&&t.length>0?(mt(e!==void 0,14353),t.map((n=>(function(o,l){let c=o.updateTime?Wo(o.updateTime):Wo(l);return c.isEqual(ut.min())&&(c=Wo(l)),new $k(c,o.transformResults||[])})(n,e)))):[]}function d4(t){let e=o4(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){mt(s===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=(function(S){const C=zS(S);return C instanceof ir&&CS(C)?C.getFilters():[C]})(n.where));let c=[];n.orderBy&&(c=(function(S){return S.map((C=>(function(F){return new fd(Jo(F.field),(function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(C)))})(n.orderBy));let h=null;n.limit&&(h=(function(S){let C;return C=typeof S=="object"?S.value:S,am(C)?null:C})(n.limit));let y=null;n.startAt&&(y=(function(S){const C=!!S.before,I=S.values||[];return new dd(I,C)})(n.startAt));let g=null;return n.endAt&&(g=(function(S){const C=!S.before,I=S.values||[];return new dd(I,C)})(n.endAt)),Dk(e,o,c,l,h,"F",y,g)}function zS(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Jo(n.unaryFilter.field);return qt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Jo(n.unaryFilter.field);return qt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Jo(n.unaryFilter.field);return qt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Jo(n.unaryFilter.field);return qt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Me(61313);default:return Me(60726)}})(t):t.fieldFilter!==void 0?(function(n){return qt.create(Jo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Me(58110);default:return Me(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ir.create(n.compositeFilter.filters.map((s=>zS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Me(1026)}})(n.compositeFilter.op))})(t):Me(30097,{filter:t})}function Jo(t){return jt.fromServerFormat(t.fieldPath)}function f4(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function h4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e){this.yt=e}}function m4(t){const e=d4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Mp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(){this.Cn=new y4}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(nr.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(nr.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class y4{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Xt(dt.comparator),l=!o.has(s);return this.index[n]=o.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Xt(dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},BS=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(BS,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new la(0)}static cr(){return new la(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="LruGarbageCollector",_4=1048576;function AE([t,e],[n,s]){const o=Je(t,n);return o===0?Je(e,s):o}class v4{constructor(e){this.Ir=e,this.buffer=new Xt(AE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();AE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class E4{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){me(SE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){$l(n)?me(SE,"Ignoring IndexedDB error during garbage collection: ",n):await sm(n)}await this.Vr(3e5)}))}}class T4{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(rm.ce);const s=new v4(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(TE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),TE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,l,c,h,y,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,c=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(s=S,h=Date.now(),this.removeTargets(e,s,n)))).next((S=>(l=S,y=Date.now(),this.removeOrphanedDocuments(e,s)))).next((S=>(g=Date.now(),Yo()<=Ve.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(h-c)+`ms
	Removed ${l} targets in `+(y-h)+`ms
	Removed ${S} documents in `+(g-y)+`ms
Total Duration: ${g-v}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:S}))))}}function S4(t,e){return new T4(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(){this.changes=new Xr((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ei.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Ul(s.mutation,o,ii.empty(),ct.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,tn()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=tn()){const o=qr();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((l=>{let c=Oc();return l.forEach(((h,y)=>{c=c.insert(h,y.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=qr();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,tn())))}populateOverlays(e,n,s){const o=[];return s.forEach((l=>{n.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((c,h)=>{n.set(c,h)}))}))}computeViews(e,n,s,o){let l=hd();const c=kl(),h=(function(){return kl()})();return n.forEach(((y,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Wr)?l=l.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),Ul(v.mutation,g,v.mutation.getFieldMask(),ct.now())):c.set(g.key,ii.empty())})),this.recalculateAndSaveOverlays(e,l).next((y=>(y.forEach(((g,v)=>c.set(g,v))),n.forEach(((g,v)=>h.set(g,new C4(v,c.get(g)??null)))),h)))}recalculateAndSaveOverlays(e,n){const s=kl();let o=new yn(((c,h)=>c-h)),l=tn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const h of c)h.keys().forEach((y=>{const g=n.get(y);if(g===null)return;let v=s.get(y)||ii.empty();v=h.applyToLocalView(g,v),s.set(y,v);const S=(o.get(h.batchId)||tn()).add(y);o=o.insert(h.batchId,S)}))})).next((()=>{const c=[],h=o.getReverseIterator();for(;h.hasNext();){const y=h.getNext(),g=y.key,v=y.value,S=DS();v.forEach((C=>{if(!l.has(C)){const I=OS(n.get(C),s.get(C));I!==null&&S.set(C,I),l=l.add(C)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,S))}return ie.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(c){return Ne.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):kk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-l.size):ie.resolve(qr());let h=ql,y=l;return c.next((g=>ie.forEach(g,((v,S)=>(h<S.largestBatchId&&(h=S.largestBatchId),l.get(v)?ie.resolve():this.remoteDocumentCache.getEntry(e,v).next((C=>{y=y.insert(v,C)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,y,g,tn()))).next((v=>({batchId:h,changes:MS(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ne(n)).next((s=>{let o=Oc();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const l=n.collectionGroup;let c=Oc();return this.indexManager.getCollectionParents(e,l).next((h=>ie.forEach(h,(y=>{const g=(function(S,C){return new Md(C,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,y.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((v=>{v.forEach(((S,C)=>{c=c.insert(S,C)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,o)))).next((c=>{l.forEach(((y,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,ei.newInvalidDocument(v)))}));let h=Oc();return c.forEach(((y,g)=>{const v=l.get(y);v!==void 0&&Ul(v.mutation,g,ii.empty(),ct.now()),hm(n,g)&&(h=h.insert(y,g))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Wo(o.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:m4(o.bundledQuery),readTime:Wo(o.readTime)}})(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(){this.overlays=new yn(Ne.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=qr();return ie.forEach(n,(o=>this.getOverlay(e,o).next((l=>{l!==null&&s.set(o,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,l)=>{this.St(e,n,l)})),ie.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const o=qr(),l=n.length+1,c=new Ne(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const y=h.getNext().value,g=y.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&y.largestBatchId>s&&o.set(y.getKey(),y)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let l=new yn(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let v=l.get(g.largestBatchId);v===null&&(v=qr(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const h=qr(),y=l.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((g,v)=>h.set(g,v))),!(h.size()>=o)););return ie.resolve(h)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new Zk(n,s));let l=this.qr.get(n);l===void 0&&(l=tn(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(){this.sessionToken=Pi.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(){this.Qr=new Xt(Ot.$r),this.Ur=new Xt(Ot.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Ot(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Ot(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new Ne(new dt([])),s=new Ot(n,e),o=new Ot(n,e+1),l=[];return this.Ur.forEachInRange([s,o],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ne(new dt([])),s=new Ot(n,e),o=new Ot(n,e+1);let l=tn();return this.Ur.forEachInRange([s,o],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new Ot(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ot{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ne.comparator(e.key,n.key)||Je(e.Yr,n.Yr)}static Kr(e,n){return Je(e.Yr,n.Yr)||Ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Xt(Ot.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Wk(l,n,s,o);this.mutationQueue.push(c);for(const h of o)this.Zr=this.Zr.add(new Ot(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ie.resolve(c)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),l=o<0?0:o;return ie.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?om:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ot(n,0),o=new Ot(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,o],(c=>{const h=this.Xr(c.Yr);l.push(h)})),ie.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Xt(Je);return n.forEach((o=>{const l=new Ot(o,0),c=new Ot(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(h=>{s=s.add(h.Yr)}))})),ie.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let l=s;Ne.isDocumentKey(l)||(l=l.child(""));const c=new Ot(new Ne(l),0);let h=new Xt(Je);return this.Zr.forEachWhile((y=>{const g=y.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(h=h.add(y.Yr)),!0)}),c),ie.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){mt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ie.forEach(n.mutations,(o=>{const l=new Ot(o.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Ot(n,0),o=this.Zr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e){this.ri=e,this.docs=(function(){return new yn(Ne.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),l=o?o.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():ei.newInvalidDocument(n))}getEntries(e,n){let s=hd();return n.forEach((o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():ei.newInvalidDocument(o))})),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let l=hd();const c=n.path,h=new Ne(c.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(h);for(;y.hasNext();){const{key:g,value:{document:v}}=y.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||uk(lk(v),s)<=0||(o.has(v.key)||hm(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ie.resolve(l)}getAllFromCollectionGroup(e,n,s,o){Me(9500)}ii(e,n){return ie.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new M4(this)}getSize(e){return ie.resolve(this.size)}}class M4 extends A4{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e){this.persistence=e,this.si=new Xr((n=>dm(n)),fm),this.lastRemoteSnapshotVersion=ut.min(),this.highestTargetId=0,this.oi=0,this._i=new gm,this.targetCount=0,this.ai=la.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new la(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let o=0;const l=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=n&&s.get(h.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)})),ie.waitFor(l).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,l=[];return o&&n.forEach((c=>{l.push(o.markPotentiallyOrphaned(e,c))})),ie.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,n){this.ui={},this.overlays={},this.ci=new rm(0),this.li=!1,this.li=!0,this.hi=new I4,this.referenceDelegate=e(this),this.Pi=new D4(this),this.indexManager=new g4,this.remoteDocumentCache=(function(o){return new N4(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new p4(n),this.Ii=new w4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new b4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new R4(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){me("MemoryPersistence","Starting transaction:",e);const o=new P4(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(e,n){return ie.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class P4 extends dk{constructor(e){super(),this.currentSequenceNumber=e}}class ym{constructor(e){this.persistence=e,this.Ri=new gm,this.Vi=null}static mi(e){return new ym(e)}get fi(){if(this.Vi)return this.Vi;throw Me(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(s=>{const o=Ne.fromPath(s);return this.gi(e,o).next((l=>{l||n.removeEntry(o,ut.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class md{constructor(e,n){this.persistence=e,this.pi=new Xr((s=>pk(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=S4(this,n)}static mi(e,n){return new md(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ie.forEach(this.pi,((s,o)=>this.br(e,s,o).next((l=>l?ie.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,n).next((h=>{h||(s++,l.removeEntry(c,ut.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Jc(e.data.value)),n}br(e,n,s){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=tn(),o=tn();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new _m(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ND()?8:fk(sn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const l={result:null};return this.ys(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,n,o,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new k4;return this.Ss(e,n,c).next((h=>{if(l.result=h,this.Vs)return this.bs(e,n,c,h.size)}))})).next((()=>l.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(Yo()<=Ve.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",wl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(Yo()<=Ve.DEBUG&&me("QueryEngine","Query:",wl(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Yo()<=Ve.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",wl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hr(n))):ie.resolve())}ys(e,n){if(mE(n))return ie.resolve(null);let s=Hr(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Mp(n,null,"F"),s=Hr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=tn(...l);return this.ps.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,s).next((y=>{const g=this.Ds(n,h);return this.Cs(n,g,c,y.readTime)?this.ys(e,Mp(n,null,"F")):this.vs(e,g,n,y)}))))})))))}ws(e,n,s,o){return mE(n)||o.isEqual(ut.min())?ie.resolve(null):this.ps.getDocuments(e,s).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,s,o)?ie.resolve(null):(Yo()<=Ve.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),wl(n)),this.vs(e,c,n,ak(o,ql)).next((h=>h)))}))}Ds(e,n){let s=new Xt(Vk(e));return n.forEach(((o,l)=>{hm(e,l)&&(s=s.add(l))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,n,s){return Yo()<=Ve.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",wl(n)),this.ps.getDocumentsMatchingQuery(e,n,nr.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4="LocalStore";class L4{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new yn(Je),this.xs=new Xr((l=>dm(l)),fm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new x4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function O4(t,e,n,s){return new L4(t,e,n,s)}async function YS(t,e){const n=nt(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((l=>(o=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],h=[];let y=tn();for(const g of o){c.push(g.batchId);for(const v of g.mutations)y=y.add(v.key)}for(const g of l){h.push(g.batchId);for(const v of g.mutations)y=y.add(v.key)}return n.localDocuments.getDocuments(s,y).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:h})))}))}))}function q4(t,e){const n=nt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,y,g,v){const S=g.batch,C=S.keys();let I=ie.resolve();return C.forEach((F=>{I=I.next((()=>v.getEntry(y,F))).next((J=>{const G=g.docVersions.get(F);mt(G!==null,48541),J.version.compareTo(G)<0&&(S.applyToRemoteDocument(J,g),J.isValidDocument()&&(J.setReadTime(g.commitVersion),v.addEntry(J)))}))})),I.next((()=>h.mutationQueue.removeMutationBatch(y,S)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(h){let y=tn();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(y=y.add(h.batch.mutations[g].key));return y})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function F4(t){const e=nt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function H4(t,e){const n=nt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=om),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}class CE{constructor(){this.activeTargetIds=zk()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class z4{constructor(){this.Mo=new CE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new CE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="ConnectivityMonitor";class wE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){me(xE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){me(xE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qc=null;function Up(){return qc===null?qc=(function(){return 268435456+Math.round(2147483648*Math.random())})():qc++,"0x"+qc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="RestConnection",G4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Y4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===ud?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,l){const c=Up(),h=this.zo(e,n.toUriEncodedString());me(ip,`Sending RPC '${e}' ${c}:`,h,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,l);const{host:g}=new URL(h),v=ha(g);return this.Jo(e,h,y,s,v).then((S=>(me(ip,`Received RPC '${e}' ${c}: `,S),S)),(S=>{throw Nd(ip,`RPC '${e}' ${c} failed with error: `,S,"url: ",h,"request:",s),S}))}Ho(e,n,s,o,l,c){return this.Go(e,n,s,o,l)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ma})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,l)=>e[l]=o)),s&&s.headers.forEach(((o,l)=>e[l]=o))}zo(e,n){const s=G4[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class K4 extends Y4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,l){const c=Up();return new Promise(((h,y)=>{const g=new sS;g.setWithCredentials(!0),g.listenOnce(rS.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Yc.NO_ERROR:const S=g.getResponseJson();me(Zt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(S)),h(S);break;case Yc.TIMEOUT:me(Zt,`RPC '${e}' ${c} timed out`),y(new ye(se.DEADLINE_EXCEEDED,"Request time out"));break;case Yc.HTTP_ERROR:const C=g.getStatus();if(me(Zt,`RPC '${e}' ${c} failed with status:`,C,"response text:",g.getResponseText()),C>0){let I=g.getResponseJson();Array.isArray(I)&&(I=I[0]);const F=I==null?void 0:I.error;if(F&&F.status&&F.message){const J=(function(W){const ne=W.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(ne)>=0?ne:se.UNKNOWN})(F.status);y(new ye(J,F.message))}else y(new ye(se.UNKNOWN,"Server responded with status "+g.getStatus()))}else y(new ye(se.UNAVAILABLE,"Connection failed."));break;default:Me(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{me(Zt,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(o);me(Zt,`RPC '${e}' ${c} sending request:`,o),g.send(n,"POST",v,s,15)}))}T_(e,n,s){const o=Up(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=lS(),h=aS(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(y.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,s),y.encodeInitMessageHeaders=!0;const v=l.join("");me(Zt,`Creating RPC '${e}' stream ${o}: ${v}`,y);const S=c.createWebChannel(v,y);this.I_(S);let C=!1,I=!1;const F=new J4({Yo:G=>{I?me(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,G):(C||(me(Zt,`Opening RPC '${e}' stream ${o} transport.`),S.open(),C=!0),me(Zt,`RPC '${e}' stream ${o} sending:`,G),S.send(G))},Zo:()=>S.close()}),J=(G,W,ne)=>{G.listen(W,(j=>{try{ne(j)}catch(re){setTimeout((()=>{throw re}),0)}}))};return J(S,Rl.EventType.OPEN,(()=>{I||(me(Zt,`RPC '${e}' stream ${o} transport opened.`),F.o_())})),J(S,Rl.EventType.CLOSE,(()=>{I||(I=!0,me(Zt,`RPC '${e}' stream ${o} transport closed`),F.a_(),this.E_(S))})),J(S,Rl.EventType.ERROR,(G=>{I||(I=!0,Nd(Zt,`RPC '${e}' stream ${o} transport errored. Name:`,G.name,"Message:",G.message),F.a_(new ye(se.UNAVAILABLE,"The operation could not be completed")))})),J(S,Rl.EventType.MESSAGE,(G=>{var W;if(!I){const ne=G.data[0];mt(!!ne,16349);const j=ne,re=(j==null?void 0:j.error)||((W=j[0])==null?void 0:W.error);if(re){me(Zt,`RPC '${e}' stream ${o} received error:`,re);const de=re.status;let le=(function(R){const U=Nt[R];if(U!==void 0)return t4(U)})(de),M=re.message;le===void 0&&(le=se.INTERNAL,M="Unknown error status: "+de+" with message "+re.message),I=!0,F.a_(new ye(le,M)),S.close()}else me(Zt,`RPC '${e}' stream ${o} received:`,ne),F.u_(ne)}})),J(h,oS.STAT_EVENT,(G=>{G.stat===xp.PROXY?me(Zt,`RPC '${e}' stream ${o} detected buffering proxy`):G.stat===xp.NOPROXY&&me(Zt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{F.__()}),0),F}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function sp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(t){return new n4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,n,s=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&me("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="PersistentStream";class $4{constructor(e,n,s,o,l,c,h,y){this.Mi=e,this.S_=s,this.b_=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new JS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(Yr(n.toString()),Yr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ye(se.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(bE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(me(bE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class j4 extends $4{constructor(e,n,s,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return mt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,mt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){mt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=c4(e.writeResults,e.commitTime),s=Wo(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=a4(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>u4(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{}class X4 extends Q4{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ye(se.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,Pp(n,s),o,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ye(se.UNKNOWN,l.toString())}))}Ho(e,n,s,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(e,Pp(n,s),o,c,h,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ye(se.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class W4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Yr(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql="RemoteStore";class Z4{constructor(e,n,s,o,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{Wl(this)&&(me(Ql,"Restarting streams for network reachability change."),await(async function(y){const g=nt(y);g.Ea.add(4),await Xl(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Ud(g)})(this))}))})),this.Ra=new W4(s,o)}}async function Ud(t){if(Wl(t))for(const e of t.da)await e(!0)}async function Xl(t){for(const e of t.da)await e(!1)}function Wl(t){return nt(t).Ea.size===0}async function KS(t,e,n){if(!$l(e))throw e;t.Ea.add(1),await Xl(t),t.Ra.set("Offline"),n||(n=()=>F4(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{me(Ql,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Ud(t)}))}function $S(t,e){return e().catch((n=>KS(t,n,e)))}async function Vd(t){const e=nt(t),n=sr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:om;for(;eU(e);)try{const o=await H4(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,tU(e,o)}catch(o){await KS(e,o)}jS(e)&&QS(e)}function eU(t){return Wl(t)&&t.Ta.length<10}function tU(t,e){t.Ta.push(e);const n=sr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function jS(t){return Wl(t)&&!sr(t).x_()&&t.Ta.length>0}function QS(t){sr(t).start()}async function nU(t){sr(t).ra()}async function iU(t){const e=sr(t);for(const n of t.Ta)e.ea(n.mutations)}async function sU(t,e,n){const s=t.Ta.shift(),o=mm.from(s,e,n);await $S(t,(()=>t.remoteSyncer.applySuccessfulWrite(o))),await Vd(t)}async function rU(t,e){e&&sr(t).X_&&await(async function(s,o){if((function(c){return e4(c)&&c!==se.ABORTED})(o.code)){const l=s.Ta.shift();sr(s).B_(),await $S(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o))),await Vd(s)}})(t,e),jS(t)&&QS(t)}async function IE(t,e){const n=nt(t);n.asyncQueue.verifyOperationInProgress(),me(Ql,"RemoteStore received new credentials");const s=Wl(n);n.Ea.add(3),await Xl(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Ud(n)}async function oU(t,e){const n=nt(t);e?(n.Ea.delete(2),await Ud(n)):e||(n.Ea.add(2),await Xl(n),n.Ra.set("Unknown"))}function sr(t){return t.fa||(t.fa=(function(n,s,o){const l=nt(n);return l.sa(),new j4(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:nU.bind(null,t),r_:rU.bind(null,t),ta:iU.bind(null,t),na:sU.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Vd(t)):(await t.fa.stop(),t.Ta.length>0&&(me(Ql,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,n,s,o,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new Fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,l){const c=Date.now()+s,h=new vm(e,n,c,o,l);return h.start(s),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function XS(t,e){if(Yr("AsyncQueue",`${e}: ${t}`),$l(t))return new ye(se.UNAVAILABLE,`${e}: ${t}`);throw t}class aU{constructor(){this.queries=RE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=nt(n),l=o.queries;o.queries=RE(),l.forEach(((c,h)=>{for(const y of h.Sa)y.onError(s)}))})(this,new ye(se.ABORTED,"Firestore shutting down"))}}function RE(){return new Xr((t=>RS(t)),IS)}function lU(t){t.Ca.forEach((e=>{e.next()}))}var NE,ME;(ME=NE||(NE={})).Ma="default",ME.Cache="cache";const uU="SyncEngine";class cU{constructor(e,n,s,o,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Xr((h=>RS(h)),IS),this.Iu=new Map,this.Eu=new Set,this.du=new yn(Ne.comparator),this.Au=new Map,this.Ru=new gm,this.Vu={},this.mu=new Map,this.fu=la.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function dU(t,e,n){const s=mU(t);try{const o=await(function(c,h){const y=nt(c),g=ct.now(),v=h.reduce(((I,F)=>I.add(F.key)),tn());let S,C;return y.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let F=hd(),J=tn();return y.Ns.getEntries(I,v).next((G=>{F=G,F.forEach(((W,ne)=>{ne.isValidDocument()||(J=J.add(W))}))})).next((()=>y.localDocuments.getOverlayedDocuments(I,F))).next((G=>{S=G;const W=[];for(const ne of h){const j=Qk(ne,S.get(ne.key).overlayedDocument);j!=null&&W.push(new Wr(ne.key,j,TS(j.value.mapValue),Ni.exists(!0)))}return y.mutationQueue.addMutationBatch(I,g,W,h)})).next((G=>{C=G;const W=G.applyToLocalDocumentSet(S,J);return y.documentOverlayCache.saveOverlays(I,G.batchId,W)}))})).then((()=>({batchId:C.batchId,changes:MS(S)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(c,h,y){let g=c.Vu[c.currentUser.toKey()];g||(g=new yn(Je)),g=g.insert(h,y),c.Vu[c.currentUser.toKey()]=g})(s,o.batchId,n),await Ld(s,o.changes),await Vd(s.remoteStore)}catch(o){const l=XS(o,"Failed to persist write");n.reject(l)}}function DE(t,e,n){const s=nt(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((l,c)=>{const h=c.view.va(e);h.snapshot&&o.push(h.snapshot)})),(function(c,h){const y=nt(c);y.onlineState=h;let g=!1;y.queries.forEach(((v,S)=>{for(const C of S.Sa)C.va(h)&&(g=!0)})),g&&lU(y)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function fU(t,e){const n=nt(t),s=e.batch.batchId;try{const o=await q4(n.localStore,e);ZS(n,s,null),WS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ld(n,o)}catch(o){await sm(o)}}async function hU(t,e,n){const s=nt(t);try{const o=await(function(c,h){const y=nt(c);return y.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return y.mutationQueue.lookupMutationBatch(g,h).next((S=>(mt(S!==null,37113),v=S.keys(),y.mutationQueue.removeMutationBatch(g,S)))).next((()=>y.mutationQueue.performConsistencyCheck(g))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(g,v,h))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>y.localDocuments.getDocuments(g,v)))}))})(s.localStore,e);ZS(s,e,n),WS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Ld(s,o)}catch(o){await sm(o)}}function WS(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function ZS(t,e,n){const s=nt(t);let o=s.Vu[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(n?l.reject(n):l.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}async function Ld(t,e,n){const s=nt(t),o=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((h,y)=>{c.push(s.pu(y,e,n).then((g=>{var v;if((g||n)&&s.isPrimaryClient){const S=g?!g.fromCache:(v=n==null?void 0:n.targetChanges.get(y.targetId))==null?void 0:v.current;s.sharedClientState.updateQueryState(y.targetId,S?"current":"not-current")}if(g){o.push(g);const S=_m.As(y.targetId,g);l.push(S)}})))})),await Promise.all(c),s.Pu.H_(o),await(async function(y,g){const v=nt(y);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>ie.forEach(g,(C=>ie.forEach(C.Es,(I=>v.persistence.referenceDelegate.addReference(S,C.targetId,I))).next((()=>ie.forEach(C.ds,(I=>v.persistence.referenceDelegate.removeReference(S,C.targetId,I)))))))))}catch(S){if(!$l(S))throw S;me(V4,"Failed to update sequence numbers: "+S)}for(const S of g){const C=S.targetId;if(!S.fromCache){const I=v.Ms.get(C),F=I.snapshotVersion,J=I.withLastLimboFreeSnapshotVersion(F);v.Ms=v.Ms.insert(C,J)}}})(s.localStore,l))}async function pU(t,e){const n=nt(t);if(!n.currentUser.isEqual(e)){me(uU,"User change. New user:",e.toKey());const s=await YS(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((h=>{h.forEach((y=>{y.reject(new ye(se.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ld(n,s.Ls)}}function mU(t){const e=nt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hU.bind(null,e),e}class gd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return O4(this.persistence,new U4,e.initialUser,this.serializer)}Cu(e){return new GS(ym.mi,this.serializer)}Du(e){return new z4}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gd.provider={build:()=>new gd};class gU extends gd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){mt(this.persistence.referenceDelegate instanceof md,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new E4(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new GS((s=>md.mi(s,n)),this.serializer)}}class Vp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>DE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=pU.bind(null,this.syncEngine),await oU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new aU})()}createDatastore(e){const n=kd(e.databaseInfo.databaseId),s=(function(l){return new K4(l)})(e.databaseInfo);return(function(l,c,h,y){return new X4(l,c,h,y)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,l,c,h){return new Z4(s,o,l,c,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>DE(this.syncEngine,n,0)),(function(){return wE.v()?new wE:new B4})())}createSyncEngine(e,n){return(function(o,l,c,h,y,g,v){const S=new cU(o,l,c,h,y,g);return v&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const l=nt(o);me(Ql,"RemoteStore shutting down."),l.Ea.add(5),await Xl(l),l.Aa.shutdown(),l.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Vp.provider={build:()=>new Vp};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr="FirestoreClient";class yU{constructor(e,n,s,o,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=en.UNAUTHENTICATED,this.clientId=nm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{me(rr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(me(rr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=XS(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function rp(t,e){t.asyncQueue.verifyOperationInProgress(),me(rr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async o=>{s.isEqual(o)||(await YS(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function PE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await _U(t);me(rr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>IE(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,o)=>IE(e.remoteStore,o))),t._onlineComponents=e}async function _U(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me(rr,"Using user provided OfflineComponentProvider");try{await rp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===se.FAILED_PRECONDITION||o.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Nd("Error using user provided cache. Falling back to memory cache: "+n),await rp(t,new gd)}}else me(rr,"Using default OfflineComponentProvider"),await rp(t,new gU(void 0));return t._offlineComponents}async function vU(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me(rr,"Using user provided OnlineComponentProvider"),await PE(t,t._uninitializedComponentsProvider._online)):(me(rr,"Using default OnlineComponentProvider"),await PE(t,new Vp))),t._onlineComponents}function EU(t){return vU(t).then((e=>e.syncEngine))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="firestore.googleapis.com",UE=!0;class VE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ye(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tA,this.ssl=UE}else this.host=e.host,this.ssl=e.ssl??UE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=BS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_4)throw new ye(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ok("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ye(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ye(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ye(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Od{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new QP;switch(s.type){case"firstParty":return new ek(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ye(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=kE.get(n);s&&(me("ComponentProvider","Removing Datastore"),kE.delete(n),s.terminate())})(this),Promise.resolve()}}function TU(t,e,n,s={}){var g;t=od(t,Od);const o=ha(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;o&&(QT(`https://${h}`),XT("Firestore",!0)),l.host!==tA&&l.host!==h&&Nd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...l,host:h,ssl:o,emulatorOptions:s};if(!zr(y,c)&&(t._setSettings(y),s.mockUserToken)){let v,S;if(typeof s.mockUserToken=="string")v=s.mockUserToken,S=en.MOCK_USER;else{v=TD(s.mockUserToken,(g=t._app)==null?void 0:g.options.projectId);const C=s.mockUserToken.sub||s.mockUserToken.user_id;if(!C)throw new ye(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new en(C)}t._authCredentials=new XP(new cS(v,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Em(this.firestore,e,this._query)}}class Qt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qt(this.firestore,e,this._key)}toJSON(){return{type:Qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Kl(n,Qt._jsonSchema))return new Qt(e,s||null,new Ne(dt.fromString(n.referencePath)))}}Qt._jsonSchemaVersion="firestore/documentReference/1.0",Qt._jsonSchema={type:Mt("string",Qt._jsonSchemaVersion),referencePath:Mt("string")};class tr extends Em{constructor(e,n,s){super(e,n,Pk(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qt(this.firestore,null,new Ne(e))}withConverter(e){return new tr(this.firestore,e,this._path)}}function qd(t,e,...n){if(t=gn(t),dS("collection","path",e),t instanceof Od){const s=dt.fromString(e,...n);return sE(s),new tr(t,null,s)}{if(!(t instanceof Qt||t instanceof tr))throw new ye(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(dt.fromString(e,...n));return sE(s),new tr(t.firestore,null,s)}}function nA(t,e,...n){if(t=gn(t),arguments.length===1&&(e=nm.newId()),dS("doc","path",e),t instanceof Od){const s=dt.fromString(e,...n);return iE(s),new Qt(t,null,new Ne(s))}{if(!(t instanceof Qt||t instanceof tr))throw new ye(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(dt.fromString(e,...n));return iE(s),new Qt(t.firestore,t instanceof tr?t.converter:null,new Ne(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="AsyncQueue";class OE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new JS(this,"async_queue_retry"),this._c=()=>{const s=sp();s&&me(LE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=sp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=sp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Fr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!$l(e))throw e;me(LE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Yr("INTERNAL UNHANDLED ERROR: ",qE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=vm.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&Me(47125,{Pc:qE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function qE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Tm extends Od{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new OE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new OE(e),this._firestoreClient=void 0,await e}}}function SU(t,e){const n=typeof t=="object"?t:tS(),s=typeof t=="string"?t:ud,o=Zp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=vD("firestore");l&&TU(o,...l)}return o}function AU(t){if(t._terminated)throw new ye(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||CU(t),t._firestoreClient}function CU(t){var s,o,l;const e=t._freezeSettings(),n=(function(h,y,g,v){return new _k(h,y,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,eA(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)})(t._databaseId,((s=t._app)==null?void 0:s.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new yU(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(h){const y=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(y),_online:y}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ni(Pi.fromBase64String(e))}catch(n){throw new ye(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ni(Pi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ni._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Kl(e,ni._jsonSchema))return ni.fromBase64String(e.bytes)}}ni._jsonSchemaVersion="firestore/bytes/1.0",ni._jsonSchema={type:Mt("string",ni._jsonSchemaVersion),bytes:Mt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:is._jsonSchemaVersion}}static fromJSON(e){if(Kl(e,is._jsonSchema))return new is(e.latitude,e.longitude)}}is._jsonSchemaVersion="firestore/geoPoint/1.0",is._jsonSchema={type:Mt("string",is._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ss._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Kl(e,ss._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ss(e.vectorValues);throw new ye(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ss._jsonSchemaVersion="firestore/vectorValue/1.0",ss._jsonSchema={type:Mt("string",ss._jsonSchemaVersion),vectorValues:Mt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xU=/^__.*__$/;class wU{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Wr(e,this.data,this.fieldMask,n,this.fieldTransforms):new jl(e,this.data,n,this.fieldTransforms)}}function iA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me(40011,{Ac:t})}}class Cm{constructor(e,n,s,o,l,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Cm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return yd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(iA(this.Ac)&&xU.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class bU{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||kd(e)}Cc(e,n,s,o=!1){return new Cm({Ac:e,methodName:n,Dc:s,path:jt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sA(t){const e=t._freezeSettings(),n=kd(t._databaseId);return new bU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function rA(t,e,n,s,o,l={}){const c=t.Cc(l.merge||l.mergeFields?2:0,e,n,o);uA("Data must be an object, but it was:",c,s);const h=aA(s,c);let y,g;if(l.merge)y=new ii(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const S of l.mergeFields){const C=IU(e,S,n);if(!c.contains(C))throw new ye(se.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);NU(v,C)||v.push(C)}y=new ii(v),g=c.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,g=c.fieldTransforms;return new wU(new ti(h),y,g)}class xm extends Am{_toFieldTransform(e){return new Jk(e.path,new Hl)}isEqual(e){return e instanceof xm}}function oA(t,e){if(lA(t=gn(t)))return uA("Unsupported field value:",e,t),aA(t,e);if(t instanceof Am)return(function(s,o){if(!iA(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const l=[];let c=0;for(const h of s){let y=oA(h,o.wc(c));y==null&&(y={nullValue:"NULL_VALUE"}),l.push(y),c++}return{arrayValue:{values:l}}})(t,e)}return(function(s,o){if((s=gn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Bk(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=ct.fromDate(s);return{timestampValue:Dp(o.serializer,l)}}if(s instanceof ct){const l=new ct(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Dp(o.serializer,l)}}if(s instanceof is)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ni)return{bytesValue:i4(o.serializer,s._byteString)};if(s instanceof Qt){const l=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:HS(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ss)return(function(c,h){return{mapValue:{fields:{[vS]:{stringValue:ES},[bp]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw h.Sc("VectorValues must only contain numeric values.");return pm(h.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${im(s)}`)})(t,e)}function aA(t,e){const n={};return pS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ga(t,((s,o)=>{const l=oA(o,e.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function lA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ct||t instanceof is||t instanceof ni||t instanceof Qt||t instanceof Am||t instanceof ss)}function uA(t,e,n){if(!lA(n)||!fS(n)){const s=im(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function IU(t,e,n){if((e=gn(e))instanceof Sm)return e._internalPath;if(typeof e=="string")return cA(t,e);throw yd("Field path arguments must be of type string or ",t,!1,void 0,n)}const RU=new RegExp("[~\\*/\\[\\]]");function cA(t,e,n){if(e.search(RU)>=0)throw yd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Sm(...e.split("."))._internalPath}catch{throw yd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function yd(t,e,n,s,o){const l=s&&!s.isEmpty(),c=o!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let y="";return(l||c)&&(y+=" (found",l&&(y+=` in field ${s}`),c&&(y+=` in document ${o}`),y+=")"),new ye(se.INVALID_ARGUMENT,h+t+y)}function NU(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,n,s,o,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new MU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(fA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class MU extends dA{data(){return super.data()}}function fA(t,e){return typeof e=="string"?cA(t,e):e instanceof Sm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(t,e,n){let s;return s=t?t.toFirestore(e):e,s}class Fc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zo extends dA{constructor(e,n,s,o,l,c){super(e,n,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(fA("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Zo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Zo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zo._jsonSchema={type:Mt("string",Zo._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class jc extends Zo{data(e={}){return super.data(e)}}class Vl{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Fc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new jc(this._firestore,this._userDataWriter,s.key,s,new Fc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((h=>{const y=new jc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Fc(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:y,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const y=new jc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Fc(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return h.type!==0&&(g=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),v=c.indexOf(h.doc.key)),{type:DU(h.type),doc:y,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Vl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=nm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function DU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me(61501,{type:t})}}Vl._jsonSchemaVersion="firestore/querySnapshot/1.0",Vl._jsonSchema={type:Mt("string",Vl._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};function PU(t,e,n){t=od(t,Qt);const s=od(t.firestore,Tm),o=hA(t.converter,e);return pA(s,[rA(sA(s),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,Ni.none())])}function Fd(t,e){const n=od(t.firestore,Tm),s=nA(t),o=hA(t.converter,e);return pA(n,[rA(sA(t.firestore),"addDoc",s._key,o,t.converter!==null,{}).toMutation(s._key,Ni.exists(!1))]).then((()=>s))}function pA(t,e){return(function(s,o){const l=new Fr;return s.asyncQueue.enqueueAndForget((async()=>dU(await EU(s),o,l))),l.promise})(AU(t),e)}function Zl(){return new xm("serverTimestamp")}(function(e,n=!0){(function(o){ma=o})(pa),ia(new Br("firestore",((s,{instanceIdentifier:o,options:l})=>{const c=s.getProvider("app").getImmediate(),h=new Tm(new WP(s.getProvider("auth-internal")),new tk(c,s.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ye(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cd(g.options.projectId,v)})(c,o),c);return l={useFetchStreams:n,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),er(Z0,eE,e),er(Z0,eE,"esm2020")})();function mA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kU=mA,gA=new Yl("auth","Firebase",mA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d=new Xp("@firebase/auth");function UU(t,...e){_d.logLevel<=Ve.WARN&&_d.warn(`Auth (${pa}): ${t}`,...e)}function Qc(t,...e){_d.logLevel<=Ve.ERROR&&_d.error(`Auth (${pa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(t,...e){throw wm(t,...e)}function Mi(t,...e){return wm(t,...e)}function yA(t,e,n){const s={...kU(),[e]:n};return new Yl("auth","Firebase",s).create(e,{appName:t.name})}function rs(t){return yA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wm(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return gA.create(t,...e)}function Te(t,e,...n){if(!t)throw wm(e,...n)}function ts(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Qc(e),new Error(e)}function ls(t,e){t||ts(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function VU(){return FE()==="http:"||FE()==="https:"}function FE(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VU()||bD()||"connection"in navigator)?navigator.onLine:!0}function OU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ls(n>e,"Short delay should be less than long delay!"),this.isMobile=CD()||ID()}get(){return LU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(t,e){ls(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],HU=new eu(3e4,6e4);function fs(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ui(t,e,n,s,o={}){return vA(t,o,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const h=Jl({key:t.config.apiKey,...c}).slice(1),y=await t._getAdditionalHeaders();y["Content-Type"]="application/json",t.languageCode&&(y["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:y,...l};return wD()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&ha(t.emulatorConfig.host)&&(g.credentials="include"),_A.fetch()(await EA(t,t.config.apiHost,n,h),g)})}async function vA(t,e,n){t._canInitEmulator=!1;const s={...qU,...e};try{const o=new BU(t),l=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Hc(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const h=l.ok?c.errorMessage:c.error.message,[y,g]=h.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hc(t,"credential-already-in-use",c);if(y==="EMAIL_EXISTS")throw Hc(t,"email-already-in-use",c);if(y==="USER_DISABLED")throw Hc(t,"user-disabled",c);const v=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw yA(t,v,g);ri(t,v)}}catch(o){if(o instanceof ds)throw o;ri(t,"network-request-failed",{message:String(o)})}}async function tu(t,e,n,s,o={}){const l=await Ui(t,e,n,s,o);return"mfaPendingCredential"in l&&ri(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function EA(t,e,n,s){const o=`${e}${n}?${s}`,l=t,c=l.config.emulator?bm(t.config,o):`${t.config.apiScheme}://${o}`;return FU.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function zU(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class BU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Mi(this.auth,"network-request-failed")),HU.get())})}}function Hc(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Mi(t,e,s);return o.customData._tokenResponse=n,o}function HE(t){return t!==void 0&&t.enterprise!==void 0}class GU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return zU(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function YU(t,e){return Ui(t,"GET","/v2/recaptchaConfig",fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JU(t,e){return Ui(t,"POST","/v1/accounts:delete",e)}async function vd(t,e){return Ui(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function KU(t,e=!1){const n=gn(t),s=await n.getIdToken(e),o=Im(s);Te(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:o,token:s,authTime:Ll(op(o.auth_time)),issuedAtTime:Ll(op(o.iat)),expirationTime:Ll(op(o.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function op(t){return Number(t)*1e3}function Im(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Qc("JWT malformed, contained fewer than 3 sections"),null;try{const o=JT(n);return o?JSON.parse(o):(Qc("Failed to decode base64 JWT payload"),null)}catch(o){return Qc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function zE(t){const e=Im(t);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ua(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ds&&$U(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function $U({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ll(this.lastLoginAt),this.creationTime=Ll(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ed(t){var S;const e=t.auth,n=await t.getIdToken(),s=await ua(t,vd(e,{idToken:n}));Te(s==null?void 0:s.users.length,e,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const l=(S=o.providerUserInfo)!=null&&S.length?TA(o.providerUserInfo):[],c=XU(t.providerData,l),h=t.isAnonymous,y=!(t.email&&o.passwordHash)&&!(c!=null&&c.length),g=h?y:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Op(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function QU(t){const e=gn(t);await Ed(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function XU(t,e){return[...t.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function TA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WU(t,e){const n=await vA(t,{},async()=>{const s=Jl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=t.config,c=await EA(t,o,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:h,body:s};return t.emulatorConfig&&ha(t.emulatorConfig.host)&&(y.credentials="include"),_A.fetch()(c,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ZU(t,e){return Ui(t,"POST","/v2/accounts:revokeToken",fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):zE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=zE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:l}=await WU(e,n);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:l}=n,c=new ea;return s&&(Te(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(Te(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ea,this.toJSON())}_performRefresh(){return ts("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(t,e){Te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class si{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new jU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Op(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ua(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return KU(this,e)}reload(){return QU(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new si({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ed(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fn(this.auth.app))return Promise.reject(rs(this.auth));const e=await this.getIdToken();return await ua(this,JU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,h=n.tenantId??void 0,y=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:S,emailVerified:C,isAnonymous:I,providerData:F,stsTokenManager:J}=n;Te(S&&J,e,"internal-error");const G=ea.fromJSON(this.name,J);Te(typeof S=="string",e,"internal-error"),Js(s,e.name),Js(o,e.name),Te(typeof C=="boolean",e,"internal-error"),Te(typeof I=="boolean",e,"internal-error"),Js(l,e.name),Js(c,e.name),Js(h,e.name),Js(y,e.name),Js(g,e.name),Js(v,e.name);const W=new si({uid:S,auth:e,email:o,emailVerified:C,displayName:s,isAnonymous:I,photoURL:c,phoneNumber:l,tenantId:h,stsTokenManager:G,createdAt:g,lastLoginAt:v});return F&&Array.isArray(F)&&(W.providerData=F.map(ne=>({...ne}))),y&&(W._redirectEventId=y),W}static async _fromIdTokenResponse(e,n,s=!1){const o=new ea;o.updateFromServerResponse(n);const l=new si({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ed(l),l}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Te(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?TA(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),h=new ea;h.updateFromIdToken(s);const y=new si({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Op(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(y,g),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE=new Map;function ns(t){ls(t instanceof Function,"Expected a class definition");let e=BE.get(t);return e?(ls(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,BE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}SA.type="NONE";const GE=SA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(t,e,n){return`firebase:${t}:${e}:${n}`}class ta{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=Xc(this.userKey,o.apiKey,l),this.fullPersistenceKey=Xc("persistence",o.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await vd(this.auth,{idToken:e}).catch(()=>{});return n?si._fromGetAccountInfoResponse(this.auth,n,e):null}return si._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ta(ns(GE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||ns(GE);const c=Xc(s,e.config.apiKey,e.name);let h=null;for(const g of n)try{const v=await g._get(c);if(v){let S;if(typeof v=="string"){const C=await vd(e,{idToken:v}).catch(()=>{});if(!C)break;S=await si._fromGetAccountInfoResponse(e,C,v)}else S=si._fromJSON(e,v);g!==l&&(h=S),l=g;break}}catch{}const y=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!y.length?new ta(l,e,s):(l=y[0],h&&await l._set(c,h.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new ta(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(AA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(IA(e))return"Blackberry";if(RA(e))return"Webos";if(CA(e))return"Safari";if((e.includes("chrome/")||xA(e))&&!e.includes("edge/"))return"Chrome";if(bA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function AA(t=sn()){return/firefox\//i.test(t)}function CA(t=sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xA(t=sn()){return/crios\//i.test(t)}function wA(t=sn()){return/iemobile/i.test(t)}function bA(t=sn()){return/android/i.test(t)}function IA(t=sn()){return/blackberry/i.test(t)}function RA(t=sn()){return/webos/i.test(t)}function Rm(t=sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function eV(t=sn()){var e;return Rm(t)&&!!((e=window.navigator)!=null&&e.standalone)}function tV(){return RD()&&document.documentMode===10}function NA(t=sn()){return Rm(t)||bA(t)||RA(t)||IA(t)||/windows phone/i.test(t)||wA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(t,e=[]){let n;switch(t){case"Browser":n=YE(sn());break;case"Worker":n=`${YE(sn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${pa}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,h)=>{try{const y=e(l);c(y)}catch(y){h(y)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iV(t,e={}){return Ui(t,"GET","/v2/passwordPolicy",fs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV=6;class rV{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??sV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new JE(this),this.idTokenSubscription=new JE(this),this.beforeStateQueue=new nV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ns(n)),this._initializationPromise=this.queue(async()=>{var s,o,l;if(!this._deleted&&(this.persistenceManager=await ta.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await vd(this,{idToken:e}),s=await si._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(Fn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(l=this.redirectUser)==null?void 0:l._redirectEventId,h=s==null?void 0:s._redirectEventId,y=await this.tryRedirectSignIn(e);(!c||c===h)&&(y!=null&&y.user)&&(s=y.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ed(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=OU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fn(this.app))return Promise.reject(rs(this));const n=e?gn(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fn(this.app)?Promise.reject(rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fn(this.app)?Promise.reject(rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ns(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iV(this),n=new rV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Yl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await ZU(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ns(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await ta.create(this,[ns(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(h,this,"internal-error"),h.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,s,o);return()=>{c=!0,y()}}else{const y=e.addObserver(n);return()=>{c=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=MA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(Fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&UU(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Zr(t){return gn(t)}class JE{constructor(e){this.auth=e,this.observer=null,this.addObserver=LD(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aV(t){Hd=t}function DA(t){return Hd.loadJS(t)}function lV(){return Hd.recaptchaEnterpriseScript}function uV(){return Hd.gapiScript}function cV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class dV{constructor(){this.enterprise=new fV}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class fV{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const hV="recaptcha-enterprise",PA="NO_RECAPTCHA";class pV{constructor(e){this.type=hV,this.auth=Zr(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,h)=>{YU(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const g=new GU(y);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(y=>{h(y)})})}function o(l,c,h){const y=window.grecaptcha;HE(y)?y.enterprise.ready(()=>{y.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(PA)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new dV().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(h=>{if(!n&&HE(window.grecaptcha))o(h,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let y=lV();y.length!==0&&(y+=h),DA(y).then(()=>{o(h,l,c)}).catch(g=>{c(g)})}}).catch(h=>{c(h)})})}}async function KE(t,e,n,s=!1,o=!1){const l=new pV(t);let c;if(o)c=PA;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const y=h.phoneEnrollmentInfo.phoneNumber,g=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const y=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return s?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function qp(t,e,n,s,o){var l;if((l=t._getRecaptchaConfig())!=null&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await KE(t,e,n,n==="getOobCode");return s(t,c)}else return s(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await KE(t,e,n,n==="getOobCode");return s(t,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mV(t,e){const n=Zp(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),l=n.getOptions();if(zr(l,e??{}))return o;ri(o,"already-initialized")}return n.initialize({options:e})}function gV(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ns);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function yV(t,e,n){const s=Zr(t);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=kA(e),{host:c,port:h}=_V(e),y=h===null?"":`:${h}`,g={url:`${l}//${c}${y}/`},v=Object.freeze({host:c,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(zr(g,s.config.emulator)&&zr(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,ha(c)?(QT(`${l}//${c}${y}`),XT("Auth",!0)):vV()}function kA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function _V(t){const e=kA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:$E(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:$E(c)}}}function $E(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function vV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ts("not implemented")}_getIdTokenResponse(e){return ts("not implemented")}_linkToIdToken(e,n){return ts("not implemented")}_getReauthenticationResolver(e){return ts("not implemented")}}async function EV(t,e){return Ui(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TV(t,e){return tu(t,"POST","/v1/accounts:signInWithPassword",fs(t,e))}async function SV(t,e){return Ui(t,"POST","/v1/accounts:sendOobCode",fs(t,e))}async function AV(t,e){return SV(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CV(t,e){return tu(t,"POST","/v1/accounts:signInWithEmailLink",fs(t,e))}async function xV(t,e){return tu(t,"POST","/v1/accounts:signInWithEmailLink",fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl extends Nm{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Gl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Gl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qp(e,n,"signInWithPassword",TV);case"emailLink":return CV(e,{email:this._email,oobCode:this._password});default:ri(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qp(e,s,"signUpPassword",EV);case"emailLink":return xV(e,{idToken:n,email:this._email,oobCode:this._password});default:ri(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function na(t,e){return tu(t,"POST","/v1/accounts:signInWithIdp",fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV="http://localhost";class $r extends Nm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new $r(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ri("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...l}=n;if(!s||!o)return null;const c=new $r(s,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return na(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,na(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,na(e,n)}buildRequest(){const e={requestUri:wV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Jl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function IV(t){const e=bl(Il(t)).link,n=e?bl(Il(e)).deep_link_id:null,s=bl(Il(t)).deep_link_id;return(s?bl(Il(s)).link:null)||s||n||e||t}class Mm{constructor(e){const n=bl(Il(e)),s=n.apiKey??null,o=n.oobCode??null,l=bV(n.mode??null);Te(s&&o&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=IV(e);try{return new Mm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(){this.providerId=ya.PROVIDER_ID}static credential(e,n){return Gl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Mm.parseLink(n);return Te(s,"argument-error"),Gl._fromEmailAndCode(e,s.code,s.tenantId)}}ya.PROVIDER_ID="password";ya.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ya.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends UA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends nu{constructor(){super("facebook.com")}static credential(e){return $r._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ks.credential(e.oauthAccessToken)}catch{return null}}}Ks.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ks.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends nu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return $r._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return $s.credential(n,s)}catch{return null}}}$s.GOOGLE_SIGN_IN_METHOD="google.com";$s.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends nu{constructor(){super("github.com")}static credential(e){return $r._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return js.credential(e.oauthAccessToken)}catch{return null}}}js.GITHUB_SIGN_IN_METHOD="github.com";js.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends nu{constructor(){super("twitter.com")}static credential(e,n){return $r._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Qs.credential(n,s)}catch{return null}}}Qs.TWITTER_SIGN_IN_METHOD="twitter.com";Qs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RV(t,e){return tu(t,"POST","/v1/accounts:signUp",fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const l=await si._fromIdTokenResponse(e,s,o),c=jE(s);return new jr({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=jE(s);return new jr({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function jE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td extends ds{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Td.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Td(e,n,s,o)}}function VA(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Td._fromErrorAndOperation(t,l,e,s):l})}async function NV(t,e,n=!1){const s=await ua(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return jr._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MV(t,e,n=!1){const{auth:s}=t;if(Fn(s.app))return Promise.reject(rs(s));const o="reauthenticate";try{const l=await ua(t,VA(s,o,e,t),n);Te(l.idToken,s,"internal-error");const c=Im(l.idToken);Te(c,s,"internal-error");const{sub:h}=c;return Te(t.uid===h,s,"user-mismatch"),jr._forOperation(t,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&ri(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LA(t,e,n=!1){if(Fn(t.app))return Promise.reject(rs(t));const s="signIn",o=await VA(t,s,e),l=await jr._fromIdTokenResponse(t,s,o);return n||await t._updateCurrentUser(l.user),l}async function DV(t,e){return LA(Zr(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OA(t){const e=Zr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function PV(t,e,n){if(Fn(t.app))return Promise.reject(rs(t));const s=Zr(t),c=await qp(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",RV).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&OA(t),y}),h=await jr._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(h.user),h}function kV(t,e,n){return Fn(t.app)?Promise.reject(rs(t)):DV(gn(t),ya.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&OA(t),s})}async function UV(t,e){const n=gn(t),o={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:l}=await AV(n.auth,o);l!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VV(t,e){return Ui(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LV(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=gn(t),l={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await ua(s,VV(s.auth,l));s.displayName=c.displayName||null,s.photoURL=c.photoUrl||null;const h=s.providerData.find(({providerId:y})=>y==="password");h&&(h.displayName=s.displayName,h.photoURL=s.photoURL),await s._updateTokensIfNecessary(c)}function OV(t,e,n,s){return gn(t).onIdTokenChanged(e,n,s)}function qV(t,e,n){return gn(t).beforeAuthStateChanged(e,n)}const Sd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sd,"1"),this.storage.removeItem(Sd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV=1e3,HV=10;class FA extends qA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,y)=>{this.notifyListeners(c,y)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);tV()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,HV):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},FV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}FA.type="LOCAL";const zV=FA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA extends qA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}HA.type="SESSION";const zA=HA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new zd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:l}=n.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const h=Array.from(c).map(async g=>g(n.origin,l)),y=await BV(h);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((h,y)=>{const g=Dm("",20);o.port1.start();const v=setTimeout(()=>{y(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(S){const C=S;if(C.data.eventId===g)switch(C.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(C.data.response);break;default:clearTimeout(v),clearTimeout(l),y(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(){return window}function YV(t){Di().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(){return typeof Di().WorkerGlobalScope<"u"&&typeof Di().importScripts=="function"}async function JV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function $V(){return BA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA="firebaseLocalStorageDb",jV=1,Ad="firebaseLocalStorage",YA="fbase_key";class iu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Bd(t,e){return t.transaction([Ad],e?"readwrite":"readonly").objectStore(Ad)}function QV(){const t=indexedDB.deleteDatabase(GA);return new iu(t).toPromise()}function Fp(){const t=indexedDB.open(GA,jV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Ad,{keyPath:YA})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Ad)?e(s):(s.close(),await QV(),e(await Fp()))})})}async function QE(t,e,n){const s=Bd(t,!0).put({[YA]:e,value:n});return new iu(s).toPromise()}async function XV(t,e){const n=Bd(t,!1).get(e),s=await new iu(n).toPromise();return s===void 0?null:s.value}function XE(t,e){const n=Bd(t,!0).delete(e);return new iu(n).toPromise()}const WV=800,ZV=3;class JA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>ZV)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zd._getInstance($V()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await JV(),!this.activeServiceWorker)return;this.sender=new GV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||KV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fp();return await QE(e,Sd,"1"),await XE(e,Sd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>QE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>XV(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>XE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Bd(o,!1).getAll();return new iu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}JA.type="LOCAL";const e3=JA;new eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(t,e){return e?ns(e):(Te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm extends Nm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return na(e,this._buildIdpRequest())}_linkToIdToken(e,n){return na(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return na(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function n3(t){return LA(t.auth,new Pm(t),t.bypassAuthState)}function i3(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),MV(n,new Pm(t),t.bypassAuthState)}async function s3(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),NV(n,new Pm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,n,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:l,error:c,type:h}=e;if(c){this.reject(c);return}const y={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(y))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return n3;case"linkViaPopup":case"linkViaRedirect":return s3;case"reauthViaPopup":case"reauthViaRedirect":return i3;default:ri(this.auth,"internal-error")}}resolve(e){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3=new eu(2e3,1e4);class $o extends KA{constructor(e,n,s,o,l){super(e,n,o,l),this.provider=s,this.authWindow=null,this.pollId=null,$o.currentPopupAction&&$o.currentPopupAction.cancel(),$o.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){ls(this.filter.length===1,"Popup operations only handle one event");const e=Dm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Mi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Mi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$o.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,r3.get())};e()}}$o.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3="pendingRedirect",Wc=new Map;class a3 extends KA{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Wc.get(this.auth._key());if(!e){try{const s=await l3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Wc.set(this.auth._key(),e)}return this.bypassAuthState||Wc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function l3(t,e){const n=d3(e),s=c3(t);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function u3(t,e){Wc.set(t._key(),e)}function c3(t){return ns(t._redirectPersistence)}function d3(t){return Xc(o3,t.config.apiKey,t.name)}async function f3(t,e,n=!1){if(Fn(t.app))return Promise.reject(rs(t));const s=Zr(t),o=t3(s,e),c=await new a3(s,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3=600*1e3;class p3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!m3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!$A(e)){const o=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(Mi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=h3&&this.cachedEventUids.clear(),this.cachedEventUids.has(WE(e))}saveEventToCache(e){this.cachedEventUids.add(WE(e)),this.lastProcessedEventTime=Date.now()}}function WE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function $A({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function m3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $A(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g3(t,e={}){return Ui(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_3=/^https?/;async function v3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await g3(t);for(const n of e)try{if(E3(n))return}catch{}ri(t,"unauthorized-domain")}function E3(t){const e=Lp(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!_3.test(n))return!1;if(y3.test(t))return s===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3=new eu(3e4,6e4);function ZE(){const t=Di().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function S3(t){return new Promise((e,n)=>{var o,l,c;function s(){ZE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ZE(),n(Mi(t,"network-request-failed"))},timeout:T3.get()})}if((l=(o=Di().gapi)==null?void 0:o.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((c=Di().gapi)!=null&&c.load)s();else{const h=cV("iframefcb");return Di()[h]=()=>{gapi.load?s():n(Mi(t,"network-request-failed"))},DA(`${uV()}?onload=${h}`).catch(y=>n(y))}}).catch(e=>{throw Zc=null,e})}let Zc=null;function A3(t){return Zc=Zc||S3(t),Zc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3=new eu(5e3,15e3),x3="__/auth/iframe",w3="emulator/auth/iframe",b3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},I3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function R3(t){const e=t.config;Te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?bm(e,w3):`https://${t.config.authDomain}/${x3}`,s={apiKey:e.apiKey,appName:t.name,v:pa},o=I3.get(t.config.apiHost);o&&(s.eid=o);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${Jl(s).slice(1)}`}async function N3(t){const e=await A3(t),n=Di().gapi;return Te(n,t,"internal-error"),e.open({where:document.body,url:R3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:b3,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const c=Mi(t,"network-request-failed"),h=Di().setTimeout(()=>{l(c)},C3.get());function y(){Di().clearTimeout(h),o(s)}s.ping(y).then(y,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},D3=500,P3=600,k3="_blank",U3="http://localhost";class eT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function V3(t,e,n,s=D3,o=P3){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let h="";const y={...M3,width:s.toString(),height:o.toString(),top:l,left:c},g=sn().toLowerCase();n&&(h=xA(g)?k3:n),AA(g)&&(e=e||U3,y.scrollbars="yes");const v=Object.entries(y).reduce((C,[I,F])=>`${C}${I}=${F},`,"");if(eV(g)&&h!=="_self")return L3(e||"",h),new eT(null);const S=window.open(e||"",h,v);Te(S,t,"popup-blocked");try{S.focus()}catch{}return new eT(S)}function L3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3="__/auth/handler",q3="emulator/auth/handler",F3=encodeURIComponent("fac");async function tT(t,e,n,s,o,l){Te(t.config.authDomain,t,"auth-domain-config-required"),Te(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:pa,eventId:o};if(e instanceof UA){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",VD(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,S]of Object.entries({}))c[v]=S}if(e instanceof nu){const v=e.getScopes().filter(S=>S!=="");v.length>0&&(c.scopes=v.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const y=await t._getAppCheckToken(),g=y?`#${F3}=${encodeURIComponent(y)}`:"";return`${H3(t)}?${Jl(h).slice(1)}${g}`}function H3({config:t}){return t.emulator?bm(t,q3):`https://${t.authDomain}/${O3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap="webStorageSupport";class z3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zA,this._completeRedirectFn=f3,this._overrideRedirectResult=u3}async _openPopup(e,n,s,o){var c;ls((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const l=await tT(e,n,s,Lp(),o);return V3(e,l,Dm())}async _openRedirect(e,n,s,o){await this._originValidation(e);const l=await tT(e,n,s,Lp(),o);return YV(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:l}=this.eventManagers[n];return o?Promise.resolve(o):(ls(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await N3(e),s=new p3(e);return n.register("authEvent",o=>(Te(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ap,{type:ap},o=>{var c;const l=(c=o==null?void 0:o[0])==null?void 0:c[ap];l!==void 0&&n(!!l),ri(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=v3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return NA()||CA()||Rm()}}const B3=z3;var nT="@firebase/auth",iT="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function J3(t){ia(new Br("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=s.options;Te(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MA(t)},g=new oV(s,o,l,y);return gV(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ia(new Br("auth-internal",e=>{const n=Zr(e.getProvider("auth").getImmediate());return(s=>new G3(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),er(nT,iT,Y3(t)),er(nT,iT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3=300,$3=jT("authIdTokenMaxAge")||K3;let sT=null;const j3=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>$3)return;const o=n==null?void 0:n.token;sT!==o&&(sT=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Q3(t=tS()){const e=Zp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=mV(t,{popupRedirectResolver:B3,persistence:[e3,zV,zA]}),s=jT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=j3(l.toString());qV(n,c,()=>c(n.currentUser)),OV(n,h=>c(h))}}const o=KT("auth");return o&&yV(n,`http://${o}`),n}function X3(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}aV({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=o=>{const l=Mi("internal-error");l.customData=o,n(l)},s.type="text/javascript",s.charset="UTF-8",X3().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});J3("Browser");const W3={apiKey:"AIzaSyB2XV7KJ0QJ5-L48cYl39MXaWVJGgDEiTw",authDomain:"alpha-mandi.firebaseapp.com",projectId:"alpha-mandi",storageBucket:"alpha-mandi.firebasestorage.app",messagingSenderId:"992408228018",appId:"1:992408228018:web:f0eacc63eeccf28b8679ab"},jA=eS(W3),su=SU(jA),rT=Q3(jA),Z3=({isOpen:t,onLogin:e,onClose:n,isMobile:s})=>{const[o,l]=Ee.useState(!0),[c,h]=Ee.useState({name:"",email:"",phone:"",password:""}),[y,g]=Ee.useState(!1),[v,S]=Ee.useState(null),[C,I]=Ee.useState(null);if(!t)return null;const F=(W,ne)=>{h(j=>({...j,[ne]:W.target.value}))},J=async W=>{var ne;W.preventDefault(),S(null),I(null),g(!0);try{if(o){const re=(await kV(rT,c.email.trim(),c.password)).user,de={name:re.displayName||((ne=re.email)==null?void 0:ne.split("@")[0])||"Alpha Guest",email:re.email||c.email,phone:c.phone,isLoggedIn:!0};e(de),re.emailVerified?I(null):I("You are logged in, but your email is not verified yet. Please check your inbox for a verification link."),s||n()}else{if(!c.name.trim()||!c.phone.trim())throw new Error("Please fill in your name and phone number.");const re=(await PV(rT,c.email.trim(),c.password)).user;await LV(re,{displayName:c.name.trim()}),await PU(nA(su,"users",re.uid),{name:c.name.trim(),email:re.email,phone:c.phone.trim(),createdAt:Zl(),tier:"Gold",points:0});try{await UV(re),I("Profile created! We sent a verification link to your email. Please verify to fully activate your account.")}catch(le){console.warn("Failed to send verification email:",le),I("Profile created, but we couldn't send a verification email. You can request it again later from your profile.")}const de={name:c.name.trim(),email:re.email||c.email,phone:c.phone.trim(),isLoggedIn:!0};e(de),s||n()}}catch(j){console.error("Auth error:",j);const re=(j==null?void 0:j.code)==="auth/email-already-in-use"?"This email is already registered. Try signing in instead.":(j==null?void 0:j.code)==="auth/invalid-credential"||(j==null?void 0:j.code)==="auth/wrong-password"?"Invalid email or password.":(j==null?void 0:j.code)==="auth/user-not-found"?"No account found with this email.":(j==null?void 0:j.message)||"Something went wrong. Please try again.";S(re)}finally{g(!1)}},G=()=>{l(W=>!W),S(null),I(null)};return E.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/90 backdrop-blur-sm p-4",children:E.jsxs("div",{className:"bg-surface-light border border-primary/20 w-full max-w-md rounded-2xl overflow-hidden shadow-[0_0_50px_rgba(0,0,0,0.5)] animate-fade-in-up relative",children:[!s&&E.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-gray-500 hover:text-primary transition-colors",children:E.jsx(Cd,{size:24})}),E.jsxs("div",{className:"p-8 md:p-10",children:[E.jsxs("div",{className:"text-center mb-8",children:[E.jsx("h2",{className:"text-3xl font-serif text-white mb-2",children:o?"Welcome Back":"Join The Club"}),s&&E.jsx("p",{className:"text-primary text-xs mb-3 bg-primary/10 py-2 rounded border border-primary/20",children:"Please sign in to access the mobile experience."}),E.jsx("div",{className:"h-0.5 w-12 bg-primary mx-auto mb-3"}),E.jsx("p",{className:"text-gray-400 text-sm font-light",children:o?"Enter your email and password to access your account.":"Create your Alpha Mandi profile and start earning rewards."})]}),v&&E.jsx("div",{className:"mb-4 text-xs text-red-400 bg-red-900/20 border border-red-800/40 rounded px-3 py-2",children:v}),C&&E.jsx("div",{className:"mb-4 text-xs text-primary bg-primary/10 border border-primary/30 rounded px-3 py-2",children:C}),E.jsxs("form",{onSubmit:J,className:"space-y-4",children:[!o&&E.jsxs(E.Fragment,{children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-[10px] uppercase tracking-widest text-primary mb-1.5 font-bold",children:"Full Name"}),E.jsx("input",{required:!0,type:"text",className:"w-full bg-black border border-white/10 rounded px-4 py-3 text-white focus:border-primary focus:outline-none transition-colors placeholder-gray-700",placeholder:"John Doe",value:c.name,onChange:W=>F(W,"name")})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-[10px] uppercase tracking-widest text-primary mb-1.5 font-bold",children:"Phone"}),E.jsx("input",{required:!0,type:"tel",className:"w-full bg-black border border-white/10 rounded px-4 py-3 text-white focus:border-primary focus:outline-none transition-colors placeholder-gray-700",placeholder:"+1 234 567 8900",value:c.phone,onChange:W=>F(W,"phone")}),E.jsx("p",{className:"mt-1 text-[10px] text-gray-500",children:"Used for reservations & delivery updates. Login is via email & password."})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-[10px] uppercase tracking-widest text-primary mb-1.5 font-bold",children:"Email"}),E.jsx("input",{required:!0,type:"email",className:"w-full bg-black border border-white/10 rounded px-4 py-3 text-white focus:border-primary focus:outline-none transition-colors placeholder-gray-700",placeholder:"name@example.com",value:c.email,onChange:W=>F(W,"email")})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-[10px] uppercase tracking-widest text-primary mb-1.5 font-bold",children:"Password"}),E.jsx("input",{required:!0,type:"password",className:"w-full bg-black border border-white/10 rounded px-4 py-3 text-white focus:border-primary focus:outline-none transition-colors placeholder-gray-700",placeholder:"",value:c.password,onChange:W=>F(W,"password")})]}),E.jsx("button",{type:"submit",disabled:y,className:"w-full bg-gradient-to-r from-primary to-primary-dark text-black font-bold py-4 rounded uppercase tracking-[0.2em] hover:scale-[1.02] transition-transform mt-6 shadow-[0_0_20px_rgba(212,175,55,0.3)] disabled:opacity-60 disabled:hover:scale-100",children:y?o?"Signing In...":"Creating Profile...":o?"Sign In":"Create Profile"})]}),E.jsx("div",{className:"mt-6 text-center border-t border-white/5 pt-4",children:E.jsx("button",{onClick:G,className:"text-gray-400 text-xs hover:text-primary transition-colors tracking-wide",children:o?"Don't have an account? Sign Up":"Already have an account? Sign In"})})]})]})})},km=async t=>{await Fd(qd(su,"activityLogs"),{...t,createdAt:Zl()})},eL=async t=>{const e=await Fd(qd(su,"orders"),{...t,createdAt:Zl()});return await km({type:"ORDER_CREATED",message:`Order created with total ${t.total}`,data:{orderId:e.id},user:t.user}),e.id},tL=async t=>{const e=await Fd(qd(su,"reservations"),{status:"PENDING",...t,createdAt:Zl()});return await km({type:"RESERVATION_CREATED",message:`Reservation for ${t.guests} guests`,data:{reservationId:e.id},user:t.user}),e.id},nL=async t=>{const e=await Fd(qd(su,"payments"),{...t,createdAt:Zl()});return await km({type:`PAYMENT_${t.status}`,message:`Payment ${t.status} for ${t.amount} ${t.currency}`,data:{paymentId:e.id,orderId:t.orderId},user:t.user}),e.id};class ru{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const iL=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},$t={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:iL()},Um=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},sL=(t,e="https://api.emailjs.com")=>{if(!t)return;const n=Um(t);$t.publicKey=n.publicKey,$t.blockHeadless=n.blockHeadless,$t.storageProvider=n.storageProvider,$t.blockList=n.blockList,$t.limitRate=n.limitRate,$t.origin=n.origin||e},QA=async(t,e,n={})=>{const s=await fetch($t.origin+t,{method:"POST",headers:n,body:e}),o=await s.text(),l=new ru(s.status,o);if(s.ok)return l;throw l},XA=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},rL=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},WA=t=>t.webdriver||!t.languages||t.languages.length===0,ZA=()=>new ru(451,"Unavailable For Headless Browser"),oL=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},aL=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},lL=(t,e)=>t instanceof FormData?t.get(e):t[e],eC=(t,e)=>{if(aL(t))return!1;oL(t.list,t.watchVariable);const n=lL(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)},tC=()=>new ru(403,"Forbidden"),uL=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},cL=async(t,e,n)=>{const s=Number(await n.get(t)||0);return e-Date.now()+s},nC=async(t,e,n)=>{if(!e.throttle||!n)return!1;uL(e.throttle,e.id);const s=e.id||t;return await cL(s,e.throttle,n)>0?!0:(await n.set(s,Date.now().toString()),!1)},iC=()=>new ru(429,"Too Many Requests"),dL=async(t,e,n,s)=>{const o=Um(s),l=o.publicKey||$t.publicKey,c=o.blockHeadless||$t.blockHeadless,h=o.storageProvider||$t.storageProvider,y={...$t.blockList,...o.blockList},g={...$t.limitRate,...o.limitRate};return c&&WA(navigator)?Promise.reject(ZA()):(XA(l,t,e),rL(n),n&&eC(y,n)?Promise.reject(tC()):await nC(location.pathname,g,h)?Promise.reject(iC()):QA("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:l,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))},fL=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},hL=t=>typeof t=="string"?document.querySelector(t):t,pL=async(t,e,n,s)=>{const o=Um(s),l=o.publicKey||$t.publicKey,c=o.blockHeadless||$t.blockHeadless,h=$t.storageProvider||o.storageProvider,y={...$t.blockList,...o.blockList},g={...$t.limitRate,...o.limitRate};if(c&&WA(navigator))return Promise.reject(ZA());const v=hL(n);XA(l,t,e),fL(v);const S=new FormData(v);return eC(y,S)?Promise.reject(tC()):await nC(location.pathname,g,h)?Promise.reject(iC()):(S.append("lib_version","4.4.1"),S.append("service_id",t),S.append("template_id",e),S.append("user_id",l),QA("/api/v1.0/email/send-form",S))},mL={init:sL,send:dL,sendForm:pL,EmailJSResponseStatus:ru},gL="service_73x3pgh",yL="template_r9bip8d",_L="6Qndhn2SZyw2XIo_m",vL=async t=>{await mL.send(gL,yL,{to_name:t.toName,to_email:t.toEmail,order_id:t.orderId,order_total:t.total.toFixed(2)},_L)},EL=({cart:t,user:e,onSuccess:n,onCancel:s})=>{const[o,l]=Ee.useState("DETAILS"),[c,h]=Ee.useState(""),y=t.reduce((C,I)=>C+I.price*I.quantity,0),g=5,v=y+g,S=async()=>{if(c){l("PROCESSING");try{const C=t.map(F=>({menuItemId:String(F.id),name:F.name,quantity:F.quantity,price:F.price})),I=await eL({items:C,subtotal:y,deliveryFee:g,total:v,address:c,status:"PENDING",user:{email:e.email,name:e.name,userId:e.email}});await nL({orderId:I,amount:v,currency:"USD",method:"CARD",status:"SUCCESS",gatewayRef:"SIMULATED-GATEWAY-OK",user:{email:e.email,name:e.name,userId:e.email}});try{await vL({toName:e.name,toEmail:e.email,orderId:I,total:v})}catch(F){console.error("Failed to send confirmation email:",F)}l("DONE")}catch(C){console.error("Checkout failed:",C),alert("Something went wrong while placing your order. Please try again."),l("PAYMENT")}}};return o==="DONE"?E.jsx("div",{className:"min-h-screen pt-24 pb-12 px-4 flex items-center justify-center bg-surface",children:E.jsxs("div",{className:"bg-surface-light p-8 rounded-2xl border border-primary/20 max-w-md w-full text-center shadow-[0_0_50px_rgba(0,0,0,0.5)] animate-fade-in-up",children:[E.jsx("div",{className:"w-20 h-20 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-6 border border-primary/30",children:E.jsx(zp,{size:40,className:"text-primary"})}),E.jsx("h2",{className:"text-3xl font-serif text-white mb-2",children:"Order Confirmed"}),E.jsxs("p",{className:"text-gray-400 mb-4 font-light",children:["Thank you, ",e.name,". Your order has been placed successfully."]}),E.jsxs("p",{className:"text-gray-500 text-xs mb-8",children:["A confirmation email has been sent to"," ",E.jsx("span",{className:"text-primary font-medium",children:e.email})," with your order details."]}),E.jsx("button",{onClick:n,className:"w-full bg-primary text-black font-bold py-3 rounded uppercase tracking-widest hover:bg-white transition-colors",children:"Return Home"})]})}):o==="PROCESSING"?E.jsxs("div",{className:"fixed inset-0 bg-black/95 z-50 flex flex-col items-center justify-center text-white backdrop-blur-xl",children:[E.jsx(dT,{size:48,className:"animate-spin text-primary mb-6"}),E.jsx("h3",{className:"text-2xl font-serif mb-2",children:"Processing Payment"}),E.jsx("p",{className:"text-gray-500 text-sm tracking-widest uppercase",children:"Secure Transaction in Progress"})]}):E.jsx("div",{className:"min-h-screen bg-surface pt-24 pb-12 px-4",children:E.jsxs("div",{className:"max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8",children:[E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"bg-surface-light p-8 rounded-2xl border border-white/5 shadow-xl",children:[E.jsxs("h3",{className:"text-xl font-serif text-white mb-6 flex items-center gap-3",children:[E.jsx(hw,{size:20,className:"text-primary"})," Delivery Details"]}),E.jsxs("div",{className:"space-y-5",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-[10px] uppercase tracking-widest text-gray-500 mb-1.5 font-bold",children:"Full Name"}),E.jsx("input",{type:"text",value:e.name,disabled:!0,className:"w-full bg-black border border-white/10 rounded px-4 py-3 text-gray-500 cursor-not-allowed"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-[10px] uppercase tracking-widest text-gray-500 mb-1.5 font-bold",children:"Delivery Address"}),E.jsx("textarea",{value:c,onChange:C=>h(C.target.value),placeholder:"Street, Apartment, City, Zip",className:"w-full bg-black border border-white/10 rounded px-4 py-3 text-white focus:border-primary h-24 resize-none focus:outline-none placeholder-gray-700"})]})]})]}),E.jsxs("div",{className:"bg-surface-light p-8 rounded-2xl border border-white/5 shadow-xl",children:[E.jsxs("h3",{className:"text-xl font-serif text-white mb-6 flex items-center gap-3",children:[E.jsx(g1,{size:20,className:"text-primary"})," Payment Method"]}),E.jsxs("div",{className:"space-y-5",children:[E.jsxs("div",{className:"flex gap-4 mb-2",children:[E.jsx("button",{className:"flex-1 bg-primary/10 border border-primary text-primary py-3 rounded text-xs font-bold uppercase tracking-wider",children:"Credit Card"}),E.jsx("button",{className:"flex-1 bg-transparent border border-white/10 text-gray-500 py-3 rounded text-xs font-bold uppercase tracking-wider hover:border-gray-400",children:"PayPal"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-[10px] uppercase tracking-widest text-gray-500 mb-1.5 font-bold",children:"Card Number"}),E.jsx("input",{type:"text",placeholder:"0000 0000 0000 0000",className:"w-full bg-black border border-white/10 rounded px-4 py-3 text-white focus:border-primary focus:outline-none placeholder-gray-700"})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-[10px] uppercase tracking-widest text-gray-500 mb-1.5 font-bold",children:"Expiry"}),E.jsx("input",{type:"text",placeholder:"MM/YY",className:"w-full bg-black border border-white/10 rounded px-4 py-3 text-white focus:border-primary focus:outline-none placeholder-gray-700"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-[10px] uppercase tracking-widest text-gray-500 mb-1.5 font-bold",children:"CVV"}),E.jsx("input",{type:"text",placeholder:"123",className:"w-full bg-black border border-white/10 rounded px-4 py-3 text-white focus:border-primary focus:outline-none placeholder-gray-700"})]})]})]})]})]}),E.jsxs("div",{className:"bg-surface-light p-8 rounded-2xl border border-white/5 h-fit shadow-2xl sticky top-24",children:[E.jsx("h3",{className:"text-xl font-serif text-white mb-8 border-b border-white/5 pb-4",children:"Order Summary"}),E.jsx("div",{className:"space-y-4 mb-8 max-h-60 overflow-y-auto pr-2 custom-scrollbar",children:t.map(C=>E.jsxs("div",{className:"flex justify-between items-center text-sm",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("span",{className:"bg-white/5 w-6 h-6 flex items-center justify-center rounded text-xs text-primary border border-white/10",children:C.quantity}),E.jsx("span",{className:"text-gray-300 font-light",children:C.name})]}),E.jsxs("span",{className:"text-white font-medium",children:["$",(C.price*C.quantity).toFixed(2)]})]},C.id))}),E.jsxs("div",{className:"border-t border-white/5 pt-6 space-y-3 mb-8",children:[E.jsxs("div",{className:"flex justify-between text-gray-500 text-sm uppercase tracking-wide",children:[E.jsx("span",{children:"Subtotal"}),E.jsxs("span",{children:["$",y.toFixed(2)]})]}),E.jsxs("div",{className:"flex justify-between text-gray-500 text-sm uppercase tracking-wide",children:[E.jsx("span",{children:"Delivery Fee"}),E.jsxs("span",{children:["$",g.toFixed(2)]})]}),E.jsxs("div",{className:"flex justify-between text-white text-xl font-serif font-bold pt-4 border-t border-white/5 mt-4",children:[E.jsx("span",{children:"Total"}),E.jsxs("span",{className:"text-primary",children:["$",v.toFixed(2)]})]})]}),E.jsxs("div",{className:"flex gap-4",children:[E.jsx("button",{onClick:s,className:"flex-1 py-4 text-gray-500 hover:text-white transition-colors text-xs font-bold uppercase tracking-widest",children:"Cancel"}),E.jsx("button",{onClick:S,disabled:!c,className:"flex-[2] bg-gradient-to-r from-primary to-primary-dark text-black font-bold py-4 rounded uppercase tracking-[0.2em] hover:scale-105 transition-transform disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none shadow-lg",children:"Confirm & Pay"})]})]})]})})},TL=({onFinish:t})=>{const[e,n]=Ee.useState(!0);return Ee.useEffect(()=>{const s=setTimeout(()=>{n(!1),setTimeout(t,500)},2500);return()=>clearTimeout(s)},[t]),e?E.jsx("div",{className:`fixed inset-0 z-[100] bg-[#050505] flex items-center justify-center transition-opacity duration-700 ${e?"opacity-100":"opacity-0"}`,children:E.jsxs("div",{className:"text-center animate-fade-in-up",children:[E.jsxs("div",{className:"mb-6 relative",children:[E.jsx("div",{className:"w-24 h-24 mx-auto border border-primary/20 rounded-full animate-[spin_10s_linear_infinite]"}),E.jsx("div",{className:"w-20 h-20 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 border border-primary/40 rounded-full animate-[spin_8s_linear_infinite_reverse]"}),E.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:E.jsx("span",{className:"text-4xl font-serif text-primary font-bold",children:"A"})})]}),E.jsxs("h1",{className:"text-3xl md:text-5xl font-serif text-white tracking-[0.2em] uppercase font-bold mb-3",children:["Alpha ",E.jsx("span",{className:"text-primary italic",children:"Mandi"})]}),E.jsx("div",{className:"h-[1px] w-24 bg-gradient-to-r from-transparent via-primary to-transparent mx-auto mb-4"}),E.jsx("p",{className:"text-gray-600 text-[10px] tracking-[0.6em] uppercase animate-pulse",children:"Fine Dining Reimagined"})]})}):null},SL=({user:t,onLogout:e,onBackHome:n,onUpdateUser:s})=>{var F,J;const[o,l]=Ee.useState(t),[c,h]=Ee.useState("OVERVIEW");Ee.useEffect(()=>{l(t)},[t]);const y=G=>{const W={...o,...G};l(W),s==null||s(W)},g=G=>{var j;const W=(j=G.target.files)==null?void 0:j[0];if(!W)return;const ne=URL.createObjectURL(W);y({avatarUrl:ne,avatarMode:"photo"})},v=G=>{y({avatarMode:G})},S=G=>{y({avatarMode:"icon",avatarIcon:G})},C=((F=o.name)==null?void 0:F.split(" ").map(G=>G[0]).join("").toUpperCase().slice(0,2))||"",I=()=>o.avatarMode==="photo"&&o.avatarUrl?E.jsx("img",{src:o.avatarUrl,alt:o.name,className:"w-full h-full object-cover"}):o.avatarMode==="icon"&&o.avatarIcon?E.jsx("div",{className:"w-full h-full flex items-center justify-center text-3xl",children:o.avatarIcon}):E.jsx("div",{className:"w-full h-full flex items-center justify-center text-xl font-semibold text-black bg-gradient-to-br from-primary to-primary-dark",children:C||"AM"});return E.jsx("div",{className:"min-h-screen bg-surface pt-24 pb-12 px-4 sm:px-6 lg:px-8",children:E.jsxs("div",{className:"max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-12 gap-8",children:[E.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[E.jsxs("div",{className:"glass-panel rounded-2xl p-8 text-center relative overflow-hidden group bg-surface-light",children:[E.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-primary to-transparent"}),E.jsxs("div",{className:"relative z-10",children:[E.jsx("div",{className:"w-24 h-24 mx-auto bg-gradient-to-br from-primary to-primary-dark rounded-full p-[2px] mb-6 shadow-[0_0_20px_rgba(212,175,55,0.2)]",children:E.jsx("div",{className:"w-full h-full bg-surface rounded-full overflow-hidden flex items-center justify-center",children:I()})}),E.jsx("h2",{className:"text-2xl font-serif text-white mb-1",children:o.name}),E.jsxs("p",{className:"text-primary text-xs font-bold tracking-[0.2em] uppercase mb-6",children:[o.tier||"Gold"," Member"]}),E.jsxs("div",{className:"space-y-3 mb-4",children:[E.jsx("p",{className:"text-[10px] uppercase tracking-[0.25em] text-gray-500",children:"Personalize Avatar"}),E.jsxs("div",{className:"flex flex-wrap gap-3 justify-center",children:[E.jsxs("label",{className:"relative inline-flex items-center gap-2 px-4 py-2 rounded-full text-[11px] font-semibold uppercase tracking-widest bg-white/5 hover:bg-white/10 cursor-pointer border border-white/10",children:[E.jsx(r1,{size:14}),E.jsx("span",{children:"Upload Photo"}),E.jsx("input",{type:"file",accept:"image/*",onChange:g,className:"absolute inset-0 opacity-0 cursor-pointer"})]}),E.jsx("button",{type:"button",onClick:()=>v("initials"),className:`px-4 py-2 rounded-full text-[11px] font-semibold uppercase tracking-widest border ${o.avatarMode==="initials"||!o.avatarMode?"bg-primary text-black border-primary":"bg-white/5 text-gray-300 border-white/10 hover:bg-white/10"}`,children:"Initials"}),E.jsx("button",{type:"button",onClick:()=>v("icon"),className:`px-4 py-2 rounded-full text-[11px] font-semibold uppercase tracking-widest border ${o.avatarMode==="icon"?"bg-primary text-black border-primary":"bg-white/5 text-gray-300 border-white/10 hover:bg-white/10"}`,children:"Emoji"})]}),E.jsx("div",{className:"flex justify-center gap-2",children:["","","",""].map(G=>E.jsx("button",{type:"button",onClick:()=>S(G),className:`w-8 h-8 rounded-full flex items-center justify-center text-lg border transition-all ${o.avatarMode==="icon"&&o.avatarIcon===G?"border-primary bg-primary/20":"border-white/10 bg-white/5 hover:border-primary/60"}`,children:G},G))})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4 border-t border-white/5 pt-6",children:[E.jsxs("div",{className:"text-center",children:[E.jsx("span",{className:"block text-2xl font-bold text-white mb-1",children:o.points||0}),E.jsx("span",{className:"text-[10px] text-gray-500 uppercase tracking-widest",children:"Points"})]}),E.jsxs("div",{className:"text-center border-l border-white/5",children:[E.jsx("span",{className:"block text-2xl font-bold text-white mb-1",children:((J=o.orders)==null?void 0:J.length)||0}),E.jsx("span",{className:"text-[10px] text-gray-500 uppercase tracking-widest",children:"Orders"})]})]})]}),E.jsx("div",{className:"absolute -bottom-10 -right-10 w-40 h-40 bg-primary/5 rounded-full blur-3xl group-hover:bg-primary/10 transition-colors duration-700"})]}),E.jsxs("div",{className:"glass-panel rounded-xl overflow-hidden bg-surface-light",children:[E.jsxs("button",{className:`w-full p-4 flex items-center justify-between transition-colors border-b border-white/5 ${c==="ADDRESSES"?"bg-white/10 text-primary":"text-gray-400 hover:bg-white/5 hover:text-primary"}`,onClick:()=>h("ADDRESSES"),children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx(fT,{size:18,className:"text-primary/70"}),E.jsx("span",{className:"text-sm",children:"Saved Addresses"})]}),E.jsx(jh,{size:16})]}),E.jsxs("button",{className:`w-full p-4 flex items-center justify-between transition-colors border-b border-white/5 ${c==="SETTINGS"?"bg-white/10 text-primary":"text-gray-400 hover:bg-white/5 hover:text-primary"}`,onClick:()=>h("SETTINGS"),children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx(W1,{size:18,className:"text-primary/70"}),E.jsx("span",{className:"text-sm",children:"Account Settings"})]}),E.jsx(jh,{size:16})]}),E.jsx("button",{onClick:e,className:"w-full p-4 flex items-center justify-between text-red-400 hover:bg-red-900/10 transition-colors",children:E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx(R1,{size:18}),E.jsx("span",{className:"text-sm",children:"Sign Out"})]})})]})]}),E.jsxs("div",{className:"lg:col-span-8 space-y-8",children:[E.jsxs("div",{className:"relative rounded-2xl overflow-hidden min-h-[220px] flex items-center p-8 shadow-2xl group",children:[E.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#8a6e16] to-[#000000]"}),E.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10"}),E.jsx("div",{className:"absolute right-0 top-0 w-64 h-64 bg-primary/20 rounded-full blur-[80px]"}),E.jsxs("div",{className:"relative z-10 w-full flex flex-col md:flex-row justify-between items-center gap-8",children:[E.jsxs("div",{children:[E.jsx("h3",{className:"text-3xl font-serif text-white font-bold mb-2",children:"Loyalty Status"}),E.jsxs("p",{className:"text-gray-300 font-light max-w-sm mb-6",children:["You are"," ",E.jsx("span",{className:"text-primary font-bold",children:"550 points"})," away from upgrading to Platinum status and unlocking exclusive chef's table access."]}),E.jsx("div",{className:"w-full bg-black/40 h-2 rounded-full overflow-hidden backdrop-blur-sm border border-white/5",children:E.jsx("div",{className:"h-full bg-gradient-to-r from-primary to-white w-[70%] rounded-full shadow-[0_0_10px_rgba(212,175,55,0.5)]"})}),E.jsx("p",{className:"text-primary text-xs mt-3 font-mono text-right tracking-widest",children:"2,450 / 3,000 PTS"})]}),E.jsx("div",{className:"w-28 h-28 bg-white/5 backdrop-blur-md rounded-full flex items-center justify-center border border-white/10 shadow-[0_0_30px_rgba(212,175,55,0.1)] group-hover:scale-110 transition-transform duration-500",children:E.jsx(lT,{size:48,className:"text-primary drop-shadow-lg"})})]})]}),c==="OVERVIEW"&&E.jsxs("div",{children:[E.jsxs("div",{className:"flex items-center justify-between mb-6",children:[E.jsx("h3",{className:"text-2xl font-serif text-white",children:"Order History"}),E.jsx("button",{className:"text-xs text-primary hover:text-white transition-colors uppercase tracking-widest",children:"View All"})]}),E.jsx("div",{className:"space-y-4",children:o.orders&&o.orders.length>0?o.orders.map(G=>E.jsxs("div",{className:"glass-panel rounded-xl p-6 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 group hover:bg-white/5 transition-all duration-300 bg-surface-light",children:[E.jsxs("div",{className:"flex items-start gap-4",children:[E.jsx("div",{className:"bg-black p-3 rounded-lg text-primary border border-white/5",children:E.jsx(hv,{size:24})}),E.jsxs("div",{children:[E.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[E.jsx("h4",{className:"font-bold text-white font-serif",children:G.id}),E.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] uppercase font-bold tracking-wider border ${G.status==="Delivered"?"bg-green-900/20 text-green-400 border-green-900/30":"bg-yellow-900/20 text-yellow-400 border-yellow-900/30"}`,children:G.status})]}),E.jsx("p",{className:"text-gray-400 text-sm mb-1",children:G.items.join(", ")}),E.jsx("p",{className:"text-gray-600 text-xs",children:G.date})]})]}),E.jsxs("div",{className:"flex items-center gap-6 w-full sm:w-auto justify-between sm:justify-end border-t sm:border-t-0 border-white/5 pt-4 sm:pt-0",children:[E.jsxs("div",{className:"text-right",children:[E.jsxs("span",{className:"block text-lg font-bold text-primary font-serif",children:["$",G.total.toFixed(2)]}),E.jsxs("span",{className:"text-[10px] text-gray-500 flex items-center justify-end gap-1",children:["+",G.pointsEarned," pts"," ",E.jsx(mT,{size:10,fill:"#D4AF37",className:"text-primary"})]})]}),E.jsx("button",{className:"p-2 rounded-full hover:bg-primary hover:text-black text-gray-600 transition-colors",children:E.jsx(jh,{size:20})})]})]},G.id)):E.jsxs("div",{className:"text-center py-16 glass-panel rounded-xl border-dashed border-white/10",children:[E.jsx(hv,{size:48,className:"mx-auto text-gray-700 mb-4"}),E.jsx("p",{className:"text-gray-500",children:"No orders placed yet."}),E.jsx("button",{onClick:n,className:"mt-4 text-primary hover:text-white text-sm uppercase tracking-widest",children:"Start Ordering"})]})})]}),c==="ADDRESSES"&&E.jsxs("div",{className:"glass-panel rounded-xl p-6 bg-surface-light",children:[E.jsx("h3",{className:"text-2xl font-serif text-white mb-4",children:"Saved Addresses"}),E.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"In a real build, this section would show your default delivery address, work/home locations, and let you add or edit them."}),E.jsx("div",{className:"border border-dashed border-white/10 rounded-lg p-4 text-gray-500 text-sm",children:"Address management is coming soon in this demo. For now, all orders will use the address you enter at checkout."})]}),c==="SETTINGS"&&E.jsxs("div",{className:"glass-panel rounded-xl p-6 bg-surface-light",children:[E.jsx("h3",{className:"text-2xl font-serif text-white mb-4",children:"Account Settings"}),E.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Here you could let guests update their name, email, and communication preferences."}),E.jsxs("div",{className:"grid gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-[11px] uppercase tracking-[0.18em] text-gray-500 mb-1",children:"Name"}),E.jsx("input",{type:"text",value:o.name,onChange:G=>y({name:G.target.value}),className:"w-full bg-black border border-white/10 rounded px-4 py-2 text-sm text-white focus:border-primary focus:outline-none"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-[11px] uppercase tracking-[0.18em] text-gray-500 mb-1",children:"Email"}),E.jsx("input",{type:"email",value:o.email,onChange:G=>y({email:G.target.value}),className:"w-full bg-black border border-white/10 rounded px-4 py-2 text-sm text-white focus:border-primary focus:outline-none"})]})]})]}),E.jsx("div",{className:"text-right",children:E.jsx("button",{onClick:n,className:"text-xs text-gray-500 hover:text-primary uppercase tracking-[0.2em]",children:" Back to Ordering"})})]})]})})},AL=({onOpenRequest:t})=>E.jsxs("section",{className:"relative py-24 px-4 bg-surface overflow-hidden border-t border-white/5",children:[E.jsx("div",{className:"absolute top-0 right-0 w-[800px] h-[800px] bg-primary/5 rounded-full blur-[120px] translate-x-1/2 -translate-y-1/2 pointer-events-none"}),E.jsx("div",{className:"max-w-7xl mx-auto relative z-10",children:E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[E.jsxs("div",{className:"space-y-8 animate-fade-in-up",children:[E.jsxs("div",{children:[E.jsx("span",{className:"text-primary text-sm font-bold tracking-[0.3em] uppercase mb-4 block",children:"Events & Occasions"}),E.jsxs("h2",{className:"text-5xl lg:text-6xl font-serif text-white leading-none mb-6",children:["Royal Catering ",E.jsx("br",{}),E.jsx("span",{className:"text-gold-gradient italic text-4xl lg:text-5xl",children:"By Alpha Mandi"})]}),E.jsx("div",{className:"w-32 h-1 bg-gradient-to-r from-primary to-transparent mb-8"}),E.jsx("p",{className:"text-gray-400 text-lg leading-relaxed font-light",children:"Elevate your special moments with our signature culinary excellence. From intimate birthday gatherings to grand wedding banquets, we bring the authentic taste of Mandi and premium hospitality to your venue."})]}),E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[E.jsxs("div",{className:"bg-surface-light border border-white/5 p-6 rounded-xl text-center hover:border-primary/50 transition-all hover:-translate-y-1 group",children:[E.jsx("div",{className:"bg-black w-14 h-14 rounded-full flex items-center justify-center mx-auto mb-4 border border-white/10 group-hover:border-primary text-primary transition-colors",children:E.jsx(a1,{size:24})}),E.jsx("h4",{className:"text-white font-serif font-bold mb-1",children:"Weddings"}),E.jsx("p",{className:"text-[10px] text-gray-500 uppercase tracking-widest",children:"Grand Banquets"})]}),E.jsxs("div",{className:"bg-surface-light border border-white/5 p-6 rounded-xl text-center hover:border-primary/50 transition-all hover:-translate-y-1 group",children:[E.jsx("div",{className:"bg-black w-14 h-14 rounded-full flex items-center justify-center mx-auto mb-4 border border-white/10 group-hover:border-primary text-primary transition-colors",children:E.jsx(q1,{size:24})}),E.jsx("h4",{className:"text-white font-serif font-bold mb-1",children:"Birthdays"}),E.jsx("p",{className:"text-[10px] text-gray-500 uppercase tracking-widest",children:"Intimate Parties"})]}),E.jsxs("div",{className:"bg-surface-light border border-white/5 p-6 rounded-xl text-center hover:border-primary/50 transition-all hover:-translate-y-1 group",children:[E.jsx("div",{className:"bg-black w-14 h-14 rounded-full flex items-center justify-center mx-auto mb-4 border border-white/10 group-hover:border-primary text-primary transition-colors",children:E.jsx(n1,{size:24})}),E.jsx("h4",{className:"text-white font-serif font-bold mb-1",children:"Corporate"}),E.jsx("p",{className:"text-[10px] text-gray-500 uppercase tracking-widest",children:"Executive Lunches"})]})]}),E.jsx("button",{onClick:t,className:"px-10 py-4 bg-primary text-black font-bold uppercase tracking-[0.2em] hover:bg-white transition-colors rounded-sm shadow-[0_0_20px_rgba(212,175,55,0.3)] mt-4",children:"Request A Quote"})]}),E.jsxs("div",{className:"relative h-[600px] hidden lg:block",children:[E.jsxs("div",{className:"absolute top-0 right-0 w-3/4 h-3/4 rounded-2xl overflow-hidden border border-white/10 shadow-2xl group",children:[E.jsx("img",{src:"https://images.unsplash.com/photo-1519167758481-83f550bb49b3?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",alt:"Banquet",className:"w-full h-full object-cover transition-transform duration-1000 group-hover:scale-105"}),E.jsx("div",{className:"absolute inset-0 bg-black/40 group-hover:bg-black/20 transition-colors"})]}),E.jsxs("div",{className:"absolute bottom-0 left-0 w-2/3 h-1/2 rounded-2xl overflow-hidden border-4 border-surface shadow-2xl z-10 group",children:[E.jsx("img",{src:"https://images.unsplash.com/photo-1555244162-803834f70033?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",alt:"Catering Setup",className:"w-full h-full object-cover transition-transform duration-1000 group-hover:scale-105"}),E.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"}),E.jsx("div",{className:"absolute bottom-6 left-6 text-white",children:E.jsx("p",{className:"font-serif text-2xl italic text-primary",children:'"Memories made flavorful"'})})]})]})]})})]}),CL=({isOpen:t,onClose:e})=>{const[n,s]=Ee.useState("FORM");if(!t)return null;const o=l=>{l.preventDefault(),s("SUCCESS")};return E.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/95 backdrop-blur-md p-4",children:E.jsxs("div",{className:"bg-surface-light border border-white/10 w-full max-w-2xl rounded-2xl overflow-hidden shadow-2xl animate-fade-in-up relative flex flex-col max-h-[90vh]",children:[E.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white z-10",children:E.jsx(Cd,{size:24})}),n==="FORM"?E.jsxs("div",{className:"flex flex-col h-full",children:[E.jsxs("div",{className:"p-8 border-b border-white/10 bg-black/20",children:[E.jsx("h2",{className:"text-3xl font-serif text-white mb-2",children:"Plan Your Event"}),E.jsx("p",{className:"text-gray-400 text-sm font-light",children:"Tell us about your occasion, and we'll craft the perfect menu."})]}),E.jsx("div",{className:"p-8 overflow-y-auto custom-scrollbar",children:E.jsxs("form",{id:"catering-form",onSubmit:o,className:"space-y-6",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-[10px] text-primary font-bold uppercase tracking-widest mb-2",children:"Contact Name"}),E.jsx("input",{required:!0,type:"text",className:"w-full bg-black border border-white/10 rounded px-4 py-3 text-white focus:border-primary focus:outline-none placeholder-gray-700",placeholder:"Your Name"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-[10px] text-primary font-bold uppercase tracking-widest mb-2",children:"Phone Number"}),E.jsx("input",{required:!0,type:"tel",className:"w-full bg-black border border-white/10 rounded px-4 py-3 text-white focus:border-primary focus:outline-none placeholder-gray-700",placeholder:"+1 234 567 890"})]})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-[10px] text-primary font-bold uppercase tracking-widest mb-2",children:"Event Type"}),E.jsxs("div",{className:"relative",children:[E.jsxs("select",{className:"w-full bg-black border border-white/10 rounded px-4 py-3 text-white focus:border-primary focus:outline-none appearance-none cursor-pointer",children:[E.jsx("option",{children:"Wedding Reception"}),E.jsx("option",{children:"Birthday Party"}),E.jsx("option",{children:"Corporate Event"}),E.jsx("option",{children:"Family Gathering"}),E.jsx("option",{children:"Other"})]}),E.jsx("div",{className:"absolute right-4 top-3.5 pointer-events-none text-gray-400",children:E.jsx(Ew,{size:16})})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-[10px] text-primary font-bold uppercase tracking-widest mb-2",children:"Guest Count (Approx)"}),E.jsxs("div",{className:"relative",children:[E.jsx("input",{required:!0,type:"number",className:"w-full bg-black border border-white/10 rounded px-4 py-3 text-white focus:border-primary focus:outline-none placeholder-gray-700",placeholder:"e.g. 50"}),E.jsx("div",{className:"absolute right-4 top-3.5 pointer-events-none text-gray-400",children:E.jsx(gT,{size:16})})]})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-[10px] text-primary font-bold uppercase tracking-widest mb-2",children:"Event Date"}),E.jsx("input",{required:!0,type:"date",className:"w-full bg-black border border-white/10 rounded px-4 py-3 text-white focus:border-primary focus:outline-none [color-scheme:dark]"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-[10px] text-primary font-bold uppercase tracking-widest mb-2",children:"Special Requests"}),E.jsx("textarea",{className:"w-full bg-black border border-white/10 rounded px-4 py-3 text-white focus:border-primary focus:outline-none h-32 resize-none placeholder-gray-700",placeholder:"e.g. Vegetarian options needed, No nuts, Mandi preference..."})]})]})}),E.jsx("div",{className:"p-6 border-t border-white/10 bg-black/20",children:E.jsx("button",{type:"submit",form:"catering-form",className:"w-full bg-primary text-black font-bold py-4 rounded uppercase tracking-widest hover:bg-white transition-colors",children:"Submit Request"})})]}):E.jsxs("div",{className:"flex flex-col items-center justify-center h-[500px] p-8 text-center bg-surface-light",children:[E.jsx("div",{className:"w-24 h-24 bg-primary/10 rounded-full flex items-center justify-center mb-6 border border-primary/20",children:E.jsx(zp,{size:48,className:"text-primary"})}),E.jsx("h2",{className:"text-3xl font-serif text-white mb-4",children:"Request Received"}),E.jsx("p",{className:"text-gray-400 max-w-md mb-8 font-light",children:"Thank you for choosing Alpha Mandi. Our events concierge will review your requirements and contact you shortly."}),E.jsx("button",{onClick:e,className:"px-8 py-3 border border-white/20 text-white font-bold uppercase tracking-widest hover:bg-white hover:text-black transition-colors rounded-sm",children:"Close"})]})]})})},xL=()=>{const[t,e]=Ee.useState("UNIX"),[n,s]=Ee.useState([]),[o,l]=Ee.useState(!1),c=Ee.useRef(null);Ee.useEffect(()=>{c.current&&(c.current.scrollTop=c.current.scrollHeight)},[n]);const h=(v,S="info")=>{s(C=>[...C,{id:Date.now(),text:v,type:S,timestamp:new Date().toLocaleTimeString()}])},y=async()=>{if(o)return;l(!0),s([]);const v=S=>new Promise(C=>setTimeout(C,S));try{h("./run_full_suite.sh --env=production","command"),await v(800),h("Initializing Unix Test Runner v4.2.0...","info"),await v(500),h("Checking dependencies...","info"),await v(400),h(" Docker Daemon active","success"),h(" Python 3.10 environment detected","success"),h(" Node.js v18.0.0 detected","success"),await v(1e3),h("----------------------------------------","info"),h("STARTING BACKEND UNIT TESTS (pytest)","info"),h("----------------------------------------","info"),await v(500),h("collecting ...","info"),await v(800),h("tests/test_api.py::test_create_order PASSED [ 20%]","success"),await v(300),h("tests/test_api.py::test_get_menu_items PASSED [ 40%]","success"),await v(300),h("tests/test_auth.py::test_login_flow PASSED [ 60%]","success"),await v(400),h("tests/test_gemini.py::test_concierge_response PASSED [ 80%]","success"),await v(300),h("tests/test_db.py::test_transaction_rollback PASSED [100%]","success"),h("============ 5 passed in 2.45s ============","success"),await v(1e3),h("----------------------------------------","info"),h("STARTING E2E AUTOMATION (Playwright)","info"),h("----------------------------------------","info"),await v(600),h("Browser: Chromium (Headless)","info"),await v(500),h("Running: spec/checkout_flow.spec.ts","info"),await v(800),h(" User visits homepage","success"),await v(400),h(' User adds "Chicken Mandi" to cart',"success"),await v(600),h(" User completes auth flow","success"),await v(500),h(" Payment gateway simulation","success"),await v(400),h(" Order confirmation displayed","success"),await v(800),h("All Tests Passed successfully.","success"),h("Generating Coverage Report... Done.","info")}catch{h("Test Suite Failed.","error")}finally{l(!1)}},g={UNIX:`#!/bin/bash
# run_tests.sh - Master Test Orchestrator

set -e  # Exit immediately if a command exits with a non-zero status.

echo " Starting Alpha Mandi Test Suite..."

# 1. Environment Check
echo "Checking Docker containers..."
if [ $(docker ps -q -f name=alpha_mandi_db) ]; then
    echo " Database is up"
else
    echo " Database container missing"
    exit 1
fi

# 2. Backend Linting & Testing
echo "running backend tests..."
cd backend
source venv/bin/activate
flake8 . --count --select=E9,F63,F7,F82 --show-source --statistics
pytest -v --cov=app tests/

# 3. Frontend Testing
echo "running frontend tests..."
cd ../frontend
npm run lint
npm run test:unit
npx playwright test

echo " All tests passed successfully!"`,BACKEND:`from fastapi.testclient import TestClient
from app.main import app
import pytest

client = TestClient(app)

def test_read_main():
    response = client.get("/")
    assert response.status_code == 200
    assert response.json() == {"message": "Alpha Mandi API"}

def test_create_order():
    payload = {
        "items": [{"id": 3, "quantity": 2}],
        "total": 50.00,
        "user_id": "test_user_123"
    }
    response = client.post("/orders/", json=payload)
    assert response.status_code == 200
    assert "order_id" in response.json()

@pytest.mark.asyncio
async def test_gemini_integration():
    # Mocking actual AI call for deterministic testing
    from app.services import gemini_service
    gemini_service.get_response = lambda msg: "Mock Response"
    
    response = client.post("/chat/", json={"message": "Hello"})
    assert response.status_code == 200
    assert response.json()["response"] == "Mock Response"`,E2E:`import { test, expect } from '@playwright/test';

test('Full Checkout Flow', async ({ page }) => {
  // 1. Visit Home
  await page.goto('http://localhost:3000');
  await expect(page).toHaveTitle(/Alpha Mandi/);

  // 2. Add Item to Cart
  await page.click('text=Order Online');
  await page.click('.menu-item:has-text("Chicken Mandi") >> text=Add');
  
  // 3. Open Cart
  await page.click('button[aria-label="Cart"]');
  await expect(page.locator('text=Chicken Mandi')).toBeVisible();

  // 4. Proceed to Checkout
  await page.click('text=Checkout');

  // 5. Fill Details
  await page.fill('input[placeholder*="Address"]', '123 Test St');
  await page.fill('input[placeholder*="Card"]', '424242424242');

  // 6. Submit
  await page.click('text=Pay Now');

  // 7. Verify Success
  await expect(page.locator('text=Order Confirmed')).toBeVisible();
});`};return E.jsx("div",{className:"min-h-screen bg-[#0d1117] pt-24 pb-12 px-4 font-mono text-sm",children:E.jsxs("div",{className:"max-w-6xl mx-auto",children:[E.jsxs("div",{className:"flex items-center gap-3 mb-8 border-b border-gray-800 pb-6",children:[E.jsx("div",{className:"bg-green-500/10 p-3 rounded-lg",children:E.jsx(pT,{className:"text-green-500",size:32})}),E.jsxs("div",{children:[E.jsx("h1",{className:"text-3xl font-bold text-white",children:"QA & Automation Suite"}),E.jsx("p",{className:"text-gray-400",children:"Production-grade testing scripts for Unix, Python, and Playwright."})]})]}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[E.jsxs("div",{className:"lg:col-span-7 space-y-4",children:[E.jsxs("div",{className:"flex gap-2 mb-4",children:[E.jsx(lp,{active:t==="UNIX",onClick:()=>e("UNIX"),icon:E.jsx(up,{size:14}),label:"run_tests.sh"}),E.jsx(lp,{active:t==="BACKEND",onClick:()=>e("BACKEND"),icon:E.jsx(Q1,{size:14}),label:"test_main.py"}),E.jsx(lp,{active:t==="E2E",onClick:()=>e("E2E"),icon:E.jsx(iw,{size:14}),label:"e2e_spec.ts"})]}),E.jsxs("div",{className:"bg-[#161b22] border border-gray-800 rounded-xl overflow-hidden shadow-2xl",children:[E.jsxs("div",{className:"flex justify-between items-center px-4 py-2 bg-[#21262d] border-b border-gray-800",children:[E.jsxs("div",{className:"flex gap-1.5",children:[E.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500/50"}),E.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500/50"}),E.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500/50"})]}),E.jsxs("button",{className:"text-gray-400 hover:text-white flex items-center gap-1 text-xs",children:[E.jsx(p1,{size:12})," Copy"]})]}),E.jsx("div",{className:"p-4 overflow-x-auto",children:E.jsx("pre",{className:"text-gray-300 leading-relaxed custom-scrollbar",children:E.jsx("code",{children:g[t]})})})]}),E.jsxs("div",{className:"bg-blue-500/5 border border-blue-500/20 rounded-lg p-4",children:[E.jsxs("h4",{className:"text-blue-400 font-bold mb-2 flex items-center gap-2",children:[E.jsx(f1,{size:16})," Implementation Guide"]}),E.jsxs("p",{className:"text-gray-400 text-xs",children:["These scripts are designed for a CI/CD pipeline (e.g., GitHub Actions or Jenkins). The ",E.jsx("strong",{children:"Unix script"})," acts as the master orchestrator, triggering the ",E.jsx("strong",{children:"Python backend tests"})," and ",E.jsx("strong",{children:"Playwright frontend tests"})," in Docker containers."]})]})]}),E.jsx("div",{className:"lg:col-span-5",children:E.jsxs("div",{className:"bg-[#010409] border border-gray-800 rounded-xl overflow-hidden shadow-2xl h-[600px] flex flex-col",children:[E.jsxs("div",{className:"px-4 py-3 bg-[#161b22] border-b border-gray-800 flex justify-between items-center",children:[E.jsx("span",{className:"text-gray-400 text-xs font-bold",children:"TERMINAL - CI/CD RUNNER"}),E.jsxs("button",{onClick:y,disabled:o,className:`flex items-center gap-2 px-3 py-1 rounded text-xs font-bold transition-colors ${o?"bg-gray-800 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"}`,children:[E.jsx(B1,{size:12,fill:"currentColor"}),"RUN SUITE"]})]}),E.jsxs("div",{ref:c,className:"flex-1 p-4 font-mono text-xs overflow-y-auto space-y-2 custom-scrollbar",children:[n.length===0&&!o&&E.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-600",children:[E.jsx(up,{size:48,className:"mb-4 opacity-50"}),E.jsx("p",{children:"Ready to execute test suite..."}),E.jsx("p",{className:"text-[10px] mt-2",children:'Click "RUN SUITE" to simulate automation'})]}),n.map(v=>E.jsxs("div",{className:"flex gap-3",children:[E.jsxs("span",{className:"text-gray-600 shrink-0",children:["[",v.timestamp,"]"]}),E.jsxs("span",{className:`${v.type==="command"?"text-yellow-400 font-bold":v.type==="success"?"text-green-400":v.type==="error"?"text-red-400":"text-gray-300"}`,children:[v.type==="command"&&"$ ",v.text]})]},v.id)),o&&E.jsx("div",{className:"animate-pulse text-primary",children:"_"})]})]})})]})]})})},lp=({active:t,onClick:e,icon:n,label:s})=>E.jsxs("button",{onClick:e,className:`flex items-center gap-2 px-4 py-2 rounded-lg text-xs font-bold transition-all ${t?"bg-primary text-black":"bg-[#21262d] text-gray-400 hover:text-white"}`,children:[n," ",s]}),wL=({user:t,onSuccess:e,onCancel:n})=>{const[s,o]=Ee.useState(""),[l,c]=Ee.useState(""),[h,y]=Ee.useState(2),[g,v]=Ee.useState(""),[S,C]=Ee.useState(!1),[I,F]=Ee.useState(!1),[J,G]=Ee.useState(null);Ee.useEffect(()=>{const ne=new Date().toISOString().slice(0,10);o(ne)},[]);const W=async ne=>{if(ne.preventDefault(),G(null),!s||!l||h<=0){G("Please select a date, time and number of guests.");return}try{C(!0);const j=await tL({date:s,time:l,guests:h,specialRequest:g,name:t.name,phone:t.phone??"",user:{name:t.name,email:t.email,userId:t.email}});console.log("Reservation saved with ID:",j),F(!0),setTimeout(()=>e(),2e3)}catch(j){console.error(j),G("Reservation failed. Please try again.")}finally{C(!1)}};return I?E.jsx("div",{className:"min-h-screen flex items-center justify-center text-center text-white bg-surface",children:E.jsxs("div",{className:"p-8 bg-black/40 rounded-2xl border border-white/10 shadow-2xl max-w-md mx-auto",children:[E.jsx(zp,{size:50,className:"text-primary mx-auto mb-4"}),E.jsx("h2",{className:"text-2xl font-serif mb-2",children:"Reservation Confirmed!"}),E.jsxs("p",{className:"text-gray-400 mb-1",children:["We'll be ready to serve you, ",t.name||"Guest","."]}),E.jsx("p",{className:"text-gray-500 text-sm",children:"A confirmation has been saved in our system."})]})}):E.jsx("div",{className:"min-h-screen pt-24 pb-12 px-4 bg-surface text-white",children:E.jsxs("div",{className:"max-w-lg mx-auto bg-surface-light p-8 rounded-2xl border border-white/5 shadow-xl space-y-6",children:[E.jsxs("div",{className:"flex items-center justify-between mb-2",children:[E.jsxs("button",{type:"button",onClick:n,className:"inline-flex items-center gap-1 text-xs uppercase tracking-widest text-gray-500 hover:text-primary",children:[E.jsx(Zx,{size:14}),"Back"]}),E.jsx("span",{className:"text-[10px] tracking-[0.25em] uppercase text-gray-500",children:"Table Reservation"})]}),E.jsxs("div",{className:"text-center mb-4",children:[E.jsx("h2",{className:"text-3xl font-serif mb-2",children:"Reserve a Table"}),E.jsx("p",{className:"text-gray-400 text-sm",children:"Plan your perfect dining experience at AlphaMandi."})]}),J&&E.jsx("p",{className:"text-xs text-red-400 bg-red-900/30 border border-red-500/30 rounded px-3 py-2",children:J}),E.jsxs("form",{className:"space-y-5",onSubmit:W,children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Date"}),E.jsxs("div",{className:"flex items-center bg-black border border-white/10 rounded px-4 py-3",children:[E.jsx(uT,{size:18,className:"text-primary mr-2"}),E.jsx("input",{type:"date",className:"bg-transparent flex-1 outline-none text-white",value:s,min:new Date().toISOString().slice(0,10),onChange:ne=>o(ne.target.value)})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Time"}),E.jsxs("div",{className:"flex items-center bg-black border border-white/10 rounded px-4 py-3",children:[E.jsx(cT,{size:18,className:"text-primary mr-2"}),E.jsx("input",{type:"time",className:"bg-transparent flex-1 outline-none text-white",value:l,onChange:ne=>c(ne.target.value)})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Guests"}),E.jsxs("div",{className:"flex items-center bg-black border border-white/10 rounded px-4 py-3",children:[E.jsx(gT,{size:18,className:"text-primary mr-2"}),E.jsx("input",{type:"number",min:1,className:"bg-transparent flex-1 outline-none text-white",value:h,onChange:ne=>y(Number(ne.target.value))})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Special Request"}),E.jsx("textarea",{className:"w-full bg-black border border-white/10 rounded px-4 py-3 text-white h-24 outline-none",value:g,onChange:ne=>v(ne.target.value),placeholder:"Any notes or preferences?"})]}),E.jsxs("div",{className:"flex gap-4 pt-4",children:[E.jsx("button",{type:"button",onClick:n,className:"flex-1 py-3 text-gray-500 hover:text-white uppercase text-xs tracking-widest",children:"Cancel"}),E.jsx("button",{type:"submit",disabled:!s||!l||S,className:"flex-[2] bg-primary text-black font-bold py-3 rounded uppercase tracking-widest hover:bg-white transition disabled:opacity-50 disabled:cursor-not-allowed",children:S?"Saving...":"Reserve Table"})]})]})]})})},bL=()=>{const[t,e]=Ee.useState(!0),[n,s]=Ee.useState("HOME"),[o,l]=Ee.useState(null),[c,h]=Ee.useState(!1),[y,g]=Ee.useState([]),[v,S]=Ee.useState(null),[C,I]=Ee.useState(!1),[F,J]=Ee.useState(!1),[G,W]=Ee.useState(!1),ne=()=>{e(!1);const D=window.innerWidth<768;J(D),D&&!(v!=null&&v.isLoggedIn)&&I(!0)};Ee.useEffect(()=>{const D=()=>{const V=window.innerWidth<768;J(V),!t&&V&&!(v!=null&&v.isLoggedIn)&&I(!0)};return window.addEventListener("resize",D),()=>window.removeEventListener("resize",D)},[v,t]);const j=D=>{g(V=>V.find(be=>be.id===D.id)?V.map(be=>be.id===D.id?{...be,quantity:be.quantity+1}:be):[...V,{...D,quantity:1}]),h(!0)},re=(D,V)=>{g(P=>P.map(be=>be.id===D?{...be,quantity:Math.max(0,be.quantity+V)}:be).filter(be=>be.quantity>0))},de=D=>{g(V=>V.filter(P=>P.id!==D))},le=()=>{v!=null&&v.isLoggedIn?s("RESERVATIONS"):(l("RESERVATIONS"),I(!0))},M=()=>{h(!1),v!=null&&v.isLoggedIn?s("CHECKOUT"):(l("CHECKOUT"),I(!0))},N=D=>{const V="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-1.2.1&auto=format&fit=crop&w=200&q=80",P={...D,isLoggedIn:!0,tier:D.tier??"Gold",points:D.points??2450,orders:D.orders??xw,avatar:D.avatar??V,avatarUrl:D.avatarUrl??V,avatarMode:D.avatarMode??"photo"};S(P),I(!1),o&&(s(o),l(null))},R=y.reduce((D,V)=>D+V.quantity,0),U=()=>{switch(n){case"HOME":return E.jsxs(E.Fragment,{children:[E.jsx(Cl,{onOrderNow:()=>s("MENU"),onReserveNow:le}),E.jsx(aD,{}),E.jsx(pv,{addToCart:j}),E.jsx(AL,{onOpenRequest:()=>W(!0)}),E.jsx(lD,{}),E.jsx(uD,{}),E.jsx(cD,{})]});case"MENU":return E.jsx(pv,{addToCart:j});case"CHECKOUT":return v?E.jsx(EL,{cart:y,user:v,onSuccess:()=>{g([]),s("HOME")},onCancel:()=>s("HOME")}):E.jsx(Cl,{onOrderNow:()=>s("MENU"),onReserveNow:le});case"PROFILE":return v?E.jsx(SL,{user:v,onLogout:()=>{S(null),g([]),s("HOME")},onBackHome:()=>s("MENU"),onUpdateUser:D=>S(D)}):E.jsx(Cl,{onOrderNow:()=>s("MENU"),onReserveNow:le});case"RESERVATIONS":return v?E.jsx(wL,{user:v,onSuccess:()=>s("HOME"),onCancel:()=>s("HOME")}):E.jsx(Cl,{onOrderNow:()=>s("MENU"),onReserveNow:le});case"TESTING":return E.jsx(xL,{});default:return E.jsx(Cl,{onOrderNow:()=>s("MENU"),onReserveNow:le})}};return E.jsxs(E.Fragment,{children:[t&&E.jsx(TL,{onFinish:ne}),!t&&E.jsxs("div",{className:"min-h-screen bg-surface text-gray-100 selection:bg-primary selection:text-black font-sans flex flex-col",children:[E.jsx(Sw,{currentView:n,setView:D=>{D==="RESERVATIONS"?le():s(D)},cartCount:R,toggleCart:()=>h(!0),user:v,onLoginClick:()=>I(!0)}),E.jsx("main",{className:"flex-grow",children:U()}),E.jsx(oD,{onDevClick:()=>s("TESTING")}),E.jsx(bw,{isOpen:c,onClose:()=>h(!1),cart:y,updateQuantity:re,removeItem:de,onCheckout:M}),E.jsx(Z3,{isOpen:C,onLogin:N,onClose:()=>!F&&I(!1),isMobile:F}),E.jsx(CL,{isOpen:G,onClose:()=>W(!1)}),E.jsx(rD,{})]})]})},sC=document.getElementById("root");if(!sC)throw new Error("Could not find root element to mount to");const IL=Jx.createRoot(sC);IL.render(E.jsx(Ox.StrictMode,{children:E.jsx(bL,{})}));
